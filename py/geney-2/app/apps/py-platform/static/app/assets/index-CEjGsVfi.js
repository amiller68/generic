function BE(e,r){for(var s=0;s<r.length;s++){const i=r[s];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var If={exports:{}},lo={};var Hy;function HE(){if(Hy)return lo;Hy=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(i,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:e,type:i,key:u,ref:o!==void 0?o:null,props:c}}return lo.Fragment=r,lo.jsx=s,lo.jsxs=s,lo}var qy;function qE(){return qy||(qy=1,If.exports=HE()),If.exports}var h=qE(),Gf={exports:{}},Le={};var Uy;function UE(){if(Uy)return Le;Uy=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),y=Symbol.iterator;function v($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function w($,Z,ee){this.props=$,this.context=Z,this.refs=C,this.updater=ee||S}w.prototype.isReactComponent={},w.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},w.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=w.prototype;function E($,Z,ee){this.props=$,this.context=Z,this.refs=C,this.updater=ee||S}var R=E.prototype=new _;R.constructor=E,N(R,w.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function T(){}var A={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function O($,Z,ee){var ie=ee.ref;return{$$typeof:e,type:$,key:Z,ref:ie!==void 0?ie:null,props:ee}}function G($,Z){return O($.type,Z,$.props)}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function U($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ee){return Z[ee]})}var V=/\/+/g;function B($,Z){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):Z.toString(36)}function F($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(T,T):($.status="pending",$.then(function(Z){$.status==="pending"&&($.status="fulfilled",$.value=Z)},function(Z){$.status==="pending"&&($.status="rejected",$.reason=Z)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function L($,Z,ee,ie,me){var ye=typeof $;(ye==="undefined"||ye==="boolean")&&($=null);var ge=!1;if($===null)ge=!0;else switch(ye){case"bigint":case"string":case"number":ge=!0;break;case"object":switch($.$$typeof){case e:case r:ge=!0;break;case p:return ge=$._init,L(ge($._payload),Z,ee,ie,me)}}if(ge)return me=me($),ge=ie===""?"."+B($,0):ie,M(me)?(ee="",ge!=null&&(ee=ge.replace(V,"$&/")+"/"),L(me,Z,ee,"",function(ze){return ze})):me!=null&&(P(me)&&(me=G(me,ee+(me.key==null||$&&$.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+ge)),Z.push(me)),1;ge=0;var he=ie===""?".":ie+":";if(M($))for(var ve=0;ve<$.length;ve++)ie=$[ve],ye=he+B(ie,ve),ge+=L(ie,Z,ee,ye,me);else if(ve=v($),typeof ve=="function")for($=ve.call($),ve=0;!(ie=$.next()).done;)ie=ie.value,ye=he+B(ie,ve++),ge+=L(ie,Z,ee,ye,me);else if(ye==="object"){if(typeof $.then=="function")return L(F($),Z,ee,ie,me);throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ge}function q($,Z,ee){if($==null)return $;var ie=[],me=0;return L($,ie,"","",function(ye){return Z.call(ee,ye,me++)}),ie}function H($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(ee){($._status===0||$._status===-1)&&($._status=1,$._result=ee)},function(ee){($._status===0||$._status===-1)&&($._status=2,$._result=ee)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var Y=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Q={map:q,forEach:function($,Z,ee){q($,function(){Z.apply(this,arguments)},ee)},count:function($){var Z=0;return q($,function(){Z++}),Z},toArray:function($){return q($,function(Z){return Z})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Le.Activity=x,Le.Children=Q,Le.Component=w,Le.Fragment=s,Le.Profiler=o,Le.PureComponent=E,Le.StrictMode=i,Le.Suspense=m,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Le.__COMPILER_RUNTIME={__proto__:null,c:function($){return A.H.useMemoCache($)}},Le.cache=function($){return function(){return $.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function($,Z,ee){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ie=N({},$.props),me=$.key;if(Z!=null)for(ye in Z.key!==void 0&&(me=""+Z.key),Z)!z.call(Z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Z.ref===void 0||(ie[ye]=Z[ye]);var ye=arguments.length-2;if(ye===1)ie.children=ee;else if(1<ye){for(var ge=Array(ye),he=0;he<ye;he++)ge[he]=arguments[he+2];ie.children=ge}return O($.type,me,ie)},Le.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:c,_context:$},$},Le.createElement=function($,Z,ee){var ie,me={},ye=null;if(Z!=null)for(ie in Z.key!==void 0&&(ye=""+Z.key),Z)z.call(Z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(me[ie]=Z[ie]);var ge=arguments.length-2;if(ge===1)me.children=ee;else if(1<ge){for(var he=Array(ge),ve=0;ve<ge;ve++)he[ve]=arguments[ve+2];me.children=he}if($&&$.defaultProps)for(ie in ge=$.defaultProps,ge)me[ie]===void 0&&(me[ie]=ge[ie]);return O($,ye,me)},Le.createRef=function(){return{current:null}},Le.forwardRef=function($){return{$$typeof:d,render:$}},Le.isValidElement=P,Le.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:H}},Le.memo=function($,Z){return{$$typeof:f,type:$,compare:Z===void 0?null:Z}},Le.startTransition=function($){var Z=A.T,ee={};A.T=ee;try{var ie=$(),me=A.S;me!==null&&me(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(T,Y)}catch(ye){Y(ye)}finally{Z!==null&&ee.types!==null&&(Z.types=ee.types),A.T=Z}},Le.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Le.use=function($){return A.H.use($)},Le.useActionState=function($,Z,ee){return A.H.useActionState($,Z,ee)},Le.useCallback=function($,Z){return A.H.useCallback($,Z)},Le.useContext=function($){return A.H.useContext($)},Le.useDebugValue=function(){},Le.useDeferredValue=function($,Z){return A.H.useDeferredValue($,Z)},Le.useEffect=function($,Z){return A.H.useEffect($,Z)},Le.useEffectEvent=function($){return A.H.useEffectEvent($)},Le.useId=function(){return A.H.useId()},Le.useImperativeHandle=function($,Z,ee){return A.H.useImperativeHandle($,Z,ee)},Le.useInsertionEffect=function($,Z){return A.H.useInsertionEffect($,Z)},Le.useLayoutEffect=function($,Z){return A.H.useLayoutEffect($,Z)},Le.useMemo=function($,Z){return A.H.useMemo($,Z)},Le.useOptimistic=function($,Z){return A.H.useOptimistic($,Z)},Le.useReducer=function($,Z,ee){return A.H.useReducer($,Z,ee)},Le.useRef=function($){return A.H.useRef($)},Le.useState=function($){return A.H.useState($)},Le.useSyncExternalStore=function($,Z,ee){return A.H.useSyncExternalStore($,Z,ee)},Le.useTransition=function(){return A.H.useTransition()},Le.version="19.2.3",Le}var Iy;function qo(){return Iy||(Iy=1,Gf.exports=UE()),Gf.exports}var j=qo();const sr=hm(j),mm=BE({__proto__:null,default:sr},[j]);var Vf={exports:{}},co={},Pf={exports:{}},Yf={};var Gy;function IE(){return Gy||(Gy=1,(function(e){function r(L,q){var H=L.length;L.push(q);e:for(;0<H;){var Y=H-1>>>1,Q=L[Y];if(0<o(Q,q))L[Y]=q,L[H]=Q,H=Y;else break e}}function s(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var q=L[0],H=L.pop();if(H!==q){L[0]=H;e:for(var Y=0,Q=L.length,$=Q>>>1;Y<$;){var Z=2*(Y+1)-1,ee=L[Z],ie=Z+1,me=L[ie];if(0>o(ee,H))ie<Q&&0>o(me,ee)?(L[Y]=me,L[ie]=H,Y=ie):(L[Y]=ee,L[Z]=H,Y=Z);else if(ie<Q&&0>o(me,H))L[Y]=me,L[ie]=H,Y=ie;else break e}}return q}function o(L,q){var H=L.sortIndex-q.sortIndex;return H!==0?H:L.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var m=[],f=[],p=1,x=null,y=3,v=!1,S=!1,N=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function R(L){for(var q=s(f);q!==null;){if(q.callback===null)i(f);else if(q.startTime<=L)i(f),q.sortIndex=q.expirationTime,r(m,q);else break;q=s(f)}}function M(L){if(N=!1,R(L),!S)if(s(m)!==null)S=!0,T||(T=!0,U());else{var q=s(f);q!==null&&F(M,q.startTime-L)}}var T=!1,A=-1,z=5,O=-1;function G(){return C?!0:!(e.unstable_now()-O<z)}function P(){if(C=!1,T){var L=e.unstable_now();O=L;var q=!0;try{e:{S=!1,N&&(N=!1,_(A),A=-1),v=!0;var H=y;try{t:{for(R(L),x=s(m);x!==null&&!(x.expirationTime>L&&G());){var Y=x.callback;if(typeof Y=="function"){x.callback=null,y=x.priorityLevel;var Q=Y(x.expirationTime<=L);if(L=e.unstable_now(),typeof Q=="function"){x.callback=Q,R(L),q=!0;break t}x===s(m)&&i(m),R(L)}else i(m);x=s(m)}if(x!==null)q=!0;else{var $=s(f);$!==null&&F(M,$.startTime-L),q=!1}}break e}finally{x=null,y=H,v=!1}q=void 0}}finally{q?U():T=!1}}}var U;if(typeof E=="function")U=function(){E(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=P,U=function(){B.postMessage(null)}}else U=function(){w(P,0)};function F(L,q){A=w(function(){L(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var H=y;y=q;try{return L()}finally{y=H}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=y;y=L;try{return q()}finally{y=H}},e.unstable_scheduleCallback=function(L,q,H){var Y=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,L){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=H+Q,L={id:p++,callback:q,priorityLevel:L,startTime:H,expirationTime:Q,sortIndex:-1},H>Y?(L.sortIndex=H,r(f,L),s(m)===null&&L===s(f)&&(N?(_(A),A=-1):N=!0,F(M,H-Y))):(L.sortIndex=Q,r(m,L),S||v||(S=!0,T||(T=!0,U()))),L},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(L){var q=y;return function(){var H=y;y=q;try{return L.apply(this,arguments)}finally{y=H}}}})(Yf)),Yf}var Vy;function GE(){return Vy||(Vy=1,Pf.exports=IE()),Pf.exports}var Ff={exports:{}},Wt={};var Py;function VE(){if(Py)return Wt;Py=1;var e=qo();function r(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(r(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:m,containerInfo:f,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wt.createPortal=function(m,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return c(m,f,null,p)},Wt.flushSync=function(m){var f=u.T,p=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=f,i.p=p,i.d.f()}},Wt.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(m,f))},Wt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Wt.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:v}):p==="script"&&i.d.X(m,{crossOrigin:x,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Wt.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);i.d.M(m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(m)},Wt.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=d(p,f.crossOrigin);i.d.L(m,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Wt.preloadModule=function(m,f){if(typeof m=="string")if(f){var p=d(f.as,f.crossOrigin);i.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(m)},Wt.requestFormReset=function(m){i.d.r(m)},Wt.unstable_batchedUpdates=function(m,f){return m(f)},Wt.useFormState=function(m,f,p){return u.H.useFormState(m,f,p)},Wt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var Yy;function Jv(){if(Yy)return Ff.exports;Yy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Ff.exports=VE(),Ff.exports}var Fy;function PE(){if(Fy)return co;Fy=1;var e=GE(),r=qo(),s=Jv();function i(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function u(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(i(188))}function f(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(i(188));return n!==t?null:t}for(var a=t,l=n;;){var g=a.return;if(g===null)break;var b=g.alternate;if(b===null){if(l=g.return,l!==null){a=l;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===a)return m(g),t;if(b===l)return m(g),n;b=b.sibling}throw Error(i(188))}if(a.return!==l.return)a=g,l=b;else{for(var k=!1,D=g.child;D;){if(D===a){k=!0,a=g,l=b;break}if(D===l){k=!0,l=g,a=b;break}D=D.sibling}if(!k){for(D=b.child;D;){if(D===a){k=!0,a=b,l=g;break}if(D===l){k=!0,l=b,a=g;break}D=D.sibling}if(!k)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),E=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function B(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case w:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case T:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case E:return t.displayName||"Context";case _:return(t._context.displayName||"Context")+".Consumer";case R:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return n=t.displayName||null,n!==null?n:B(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return B(t(n))}catch{}}return null}var F=Array.isArray,L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Y=[],Q=-1;function $(t){return{current:t}}function Z(t){0>Q||(t.current=Y[Q],Y[Q]=null,Q--)}function ee(t,n){Q++,Y[Q]=t.current,t.current=n}var ie=$(null),me=$(null),ye=$(null),ge=$(null);function he(t,n){switch(ee(ye,n),ee(me,t),ee(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ly(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ly(n),t=cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ie),ee(ie,t)}function ve(){Z(ie),Z(me),Z(ye)}function ze(t){t.memoizedState!==null&&ee(ge,t);var n=ie.current,a=cy(n,t.type);n!==a&&(ee(me,t),ee(ie,a))}function Re(t){me.current===t&&(Z(ie),Z(me)),ge.current===t&&(Z(ge),so._currentValue=H)}var Ce,je;function De(t){if(Ce===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ce=n&&n[1]||"",je=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+je}var Ze=!1;function Qe(t,n){if(!t||Ze)return"";Ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ae){var re=ae}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(ae){re=ae}t.call(fe.prototype)}}else{try{throw Error()}catch(ae){re=ae}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=l.DetermineComponentFrameRoot(),k=b[0],D=b[1];if(k&&D){var X=k.split(`
`),ne=D.split(`
`);for(g=l=0;l<X.length&&!X[l].includes("DetermineComponentFrameRoot");)l++;for(;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;if(l===X.length||g===ne.length)for(l=X.length-1,g=ne.length-1;1<=l&&0<=g&&X[l]!==ne[g];)g--;for(;1<=l&&0<=g;l--,g--)if(X[l]!==ne[g]){if(l!==1||g!==1)do if(l--,g--,0>g||X[l]!==ne[g]){var ce=`
`+X[l].replace(" at new "," at ");return t.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",t.displayName)),ce}while(1<=l&&0<=g);break}}}finally{Ze=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?De(a):""}function St(t,n){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==n&&n!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Qe(t.type,!1);case 11:return Qe(t.type.render,!1);case 1:return Qe(t.type,!0);case 31:return De("Activity");default:return""}}function Zt(t){try{var n="",a=null;do n+=St(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var It=Object.prototype.hasOwnProperty,Gt=e.unstable_scheduleCallback,gt=e.unstable_cancelCallback,Kt=e.unstable_shouldYield,En=e.unstable_requestPaint,Nt=e.unstable_now,qn=e.unstable_getCurrentPriorityLevel,Rt=e.unstable_ImmediatePriority,nn=e.unstable_UserBlockingPriority,Jt=e.unstable_NormalPriority,Ir=e.unstable_LowPriority,Ht=e.unstable_IdlePriority,Jn=e.log,I=e.unstable_setDisableYieldValue,K=null,ue=null;function le(t){if(typeof Jn=="function"&&I(t),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(K,t)}catch{}}var pe=Math.clz32?Math.clz32:Ue,we=Math.log,Te=Math.LN2;function Ue(t){return t>>>=0,t===0?32:31-(we(t)/Te|0)|0}var Ie=256,tt=262144,nt=4194304;function ot(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ft(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var g=0,b=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var D=l&134217727;return D!==0?(l=D&~b,l!==0?g=ot(l):(k&=D,k!==0?g=ot(k):a||(a=D&~t,a!==0&&(g=ot(a))))):(D=l&~b,D!==0?g=ot(D):k!==0?g=ot(k):a||(a=l&~t,a!==0&&(g=ot(a)))),g===0?0:n!==0&&n!==g&&(n&b)===0&&(b=g&-g,a=n&-n,b>=a||b===32&&(a&4194048)!==0)?n:g}function Vt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ur(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),t}function Gr(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function dr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ya(t,n,a,l,g,b){var k=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var D=t.entanglements,X=t.expirationTimes,ne=t.hiddenUpdates;for(a=k&~a;0<a;){var ce=31-pe(a),fe=1<<ce;D[ce]=0,X[ce]=-1;var re=ne[ce];if(re!==null)for(ne[ce]=null,ce=0;ce<re.length;ce++){var ae=re[ce];ae!==null&&(ae.lane&=-536870913)}a&=~fe}l!==0&&fr(t,l,0),b!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=b&~(k&~n))}function fr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-pe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ii(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-pe(a),g=1<<l;g&n|t[l]&n&&(t[l]|=n),a&=~g}}function ai(t,n){var a=n&-n;return a=(a&42)!==0?1:Ss(a),(a&(t.suspendedLanes|n))!==0?0:a}function Ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ns(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Es(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:ky(t.type))}function oi(t,n){var a=q.p;try{return q.p=t,n()}finally{q.p=a}}var Cn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Cn,qt="__reactProps$"+Cn,_n="__reactContainer$"+Cn,Vr="__reactEvents$"+Cn,li="__reactListeners$"+Cn,xa="__reactHandles$"+Cn,ci="__reactResources$"+Cn,hr="__reactMarker$"+Cn;function Ct(t){delete t[Et],delete t[qt],delete t[Vr],delete t[li],delete t[xa]}function oe(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[_n]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=gy(t);t!==null;){if(a=t[Et])return a;t=gy(t)}return n}t=a,a=t.parentNode}return null}function xe(t){if(t=t[Et]||t[_n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Se(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(i(33))}function Ee(t){var n=t[ci];return n||(n=t[ci]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[hr]=!0}var Oe=new Set,Be={};function Qt(t,n){Pr(t,n),Pr(t+"Capture",n)}function Pr(t,n){for(Be[t]=n,t=0;t<n.length;t++)Oe.add(n[t])}var zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),va={},Jo={};function Ou(t){return It.call(Jo,t)?!0:It.call(va,t)?!1:zu.test(t)?Jo[t]=!0:(va[t]=!0,!1)}function ui(t,n,a){if(Ou(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function di(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Un(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function el(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lu(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,b=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return g.call(this)},set:function(k){a=""+k,b.call(this,k)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(k){a=""+k},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function fi(t){if(!t._valueTracker){var n=el(t)?"checked":"value";t._valueTracker=Lu(t,n,""+t[n])}}function tl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=el(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Du=/[\n"\\]/g;function sn(t){return t.replace(Du,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _s(t,n,a,l,g,b,k,D){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),n!=null?k==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),n!=null?ba(t,k,rn(n)):a!=null?ba(t,k,rn(a)):l!=null&&t.removeAttribute("value"),g==null&&b!=null&&(t.defaultChecked=!!b),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+rn(D):t.removeAttribute("name")}function nl(t,n,a,l,g,b,k,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.type=b),n!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||n!=null)){fi(t);return}a=a!=null?""+rn(a):"",n=n!=null?""+rn(n):a,D||n===t.value||(t.value=n),t.defaultValue=n}l=l??g,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=D?t.checked:!!l,t.defaultChecked=!!l,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k),fi(t)}function ba(t,n,a){n==="number"&&Cs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function mr(t,n,a,l){if(t=t.options,n){n={};for(var g=0;g<a.length;g++)n["$"+a[g]]=!0;for(a=0;a<t.length;a++)g=n.hasOwnProperty("$"+t[a].value),t[a].selected!==g&&(t[a].selected=g),g&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),n=null,g=0;g<t.length;g++){if(t[g].value===a){t[g].selected=!0,l&&(t[g].defaultSelected=!0);return}n!==null||t[g].disabled||(n=t[g])}n!==null&&(n.selected=!0)}}function rp(t,n,a){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+rn(a):""}function sp(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(i(92));if(F(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=rn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),fi(t)}function hi(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var zS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ip(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||zS.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ap(t,n,a){if(n!=null&&typeof n!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var g in n)l=n[g],n.hasOwnProperty(g)&&a[g]!==l&&ip(t,g,l)}else for(var b in n)n.hasOwnProperty(b)&&ip(t,b,n[b])}function $u(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),LS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(t){return LS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pr(){}var Bu=null;function Hu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,pi=null;function op(t){var n=xe(t);if(n&&(t=n.stateNode)){var a=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_s(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var g=l[qt]||null;if(!g)throw Error(i(90));_s(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&tl(l)}break e;case"textarea":rp(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&mr(t,!!a.multiple,n,!1)}}}var qu=!1;function lp(t,n,a){if(qu)return t(n,a);qu=!0;try{var l=t(n);return l}finally{if(qu=!1,(mi!==null||pi!==null)&&(Vl(),mi&&(n=mi,t=pi,pi=mi=null,op(n),t)))for(n=0;n<t.length;n++)op(t[n])}}function wa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[qt]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,n,typeof a));return a}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uu=!1;if(gr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Uu=!1}var Yr=null,Iu=null,sl=null;function cp(){if(sl)return sl;var t,n=Iu,a=n.length,l,g="value"in Yr?Yr.value:Yr.textContent,b=g.length;for(t=0;t<a&&n[t]===g[t];t++);var k=a-t;for(l=1;l<=k&&n[a-l]===g[b-l];l++);return sl=g.slice(t,1<l?1-l:void 0)}function il(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function al(){return!0}function up(){return!1}function an(t){function n(a,l,g,b,k){this._reactName=a,this._targetInst=g,this.type=l,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var D in t)t.hasOwnProperty(D)&&(a=t[D],this[D]=a?a(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?al:up,this.isPropagationStopped=up,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),n}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=an(js),Na=x({},js,{view:0,detail:0}),DS=an(Na),Gu,Vu,Ea,ll=x({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ea&&(Ea&&t.type==="mousemove"?(Gu=t.screenX-Ea.screenX,Vu=t.screenY-Ea.screenY):Vu=Gu=0,Ea=t),Gu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),dp=an(ll),$S=x({},ll,{dataTransfer:0}),BS=an($S),HS=x({},Na,{relatedTarget:0}),Pu=an(HS),qS=x({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),US=an(qS),IS=x({},js,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GS=an(IS),VS=x({},js,{data:0}),fp=an(VS),PS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=FS[t])?!!n[t]:!1}function Yu(){return XS}var ZS=x({},Na,{key:function(t){if(t.key){var n=PS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(t){return t.type==="keypress"?il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QS=an(ZS),WS=x({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hp=an(WS),KS=x({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),JS=an(KS),eN=x({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),tN=an(eN),nN=x({},ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rN=an(nN),sN=x({},js,{newState:0,oldState:0}),iN=an(sN),aN=[9,13,27,32],Fu=gr&&"CompositionEvent"in window,Ca=null;gr&&"documentMode"in document&&(Ca=document.documentMode);var oN=gr&&"TextEvent"in window&&!Ca,mp=gr&&(!Fu||Ca&&8<Ca&&11>=Ca),pp=" ",gp=!1;function yp(t,n){switch(t){case"keyup":return aN.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gi=!1;function lN(t,n){switch(t){case"compositionend":return xp(n);case"keypress":return n.which!==32?null:(gp=!0,pp);case"textInput":return t=n.data,t===pp&&gp?null:t;default:return null}}function cN(t,n){if(gi)return t==="compositionend"||!Fu&&yp(t,n)?(t=cp(),sl=Iu=Yr=null,gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mp&&n.locale!=="ko"?null:n.data;default:return null}}var uN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!uN[t.type]:n==="textarea"}function bp(t,n,a,l){mi?pi?pi.push(l):pi=[l]:mi=l,n=Wl(n,"onChange"),0<n.length&&(a=new ol("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var _a=null,ja=null;function dN(t){ny(t,0)}function cl(t){var n=Se(t);if(tl(n))return t}function wp(t,n){if(t==="change")return n}var Sp=!1;if(gr){var Xu;if(gr){var Zu="oninput"in document;if(!Zu){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Zu=typeof Np.oninput=="function"}Xu=Zu}else Xu=!1;Sp=Xu&&(!document.documentMode||9<document.documentMode)}function Ep(){_a&&(_a.detachEvent("onpropertychange",Cp),ja=_a=null)}function Cp(t){if(t.propertyName==="value"&&cl(ja)){var n=[];bp(n,ja,t,Hu(t)),lp(dN,n)}}function fN(t,n,a){t==="focusin"?(Ep(),_a=n,ja=a,_a.attachEvent("onpropertychange",Cp)):t==="focusout"&&Ep()}function hN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(ja)}function mN(t,n){if(t==="click")return cl(n)}function pN(t,n){if(t==="input"||t==="change")return cl(n)}function gN(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:gN;function Aa(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var g=a[l];if(!It.call(n,g)||!mn(t[g],n[g]))return!1}return!0}function _p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jp(t,n){var a=_p(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_p(a)}}function Ap(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ap(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Cs(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Cs(t.document)}return n}function Qu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var yN=gr&&"documentMode"in document&&11>=document.documentMode,yi=null,Wu=null,Ta=null,Ku=!1;function Mp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ku||yi==null||yi!==Cs(l)||(l=yi,"selectionStart"in l&&Qu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ta&&Aa(Ta,l)||(Ta=l,l=Wl(Wu,"onSelect"),0<l.length&&(n=new ol("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=yi)))}function As(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var xi={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Ju={},Rp={};gr&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Ts(t){if(Ju[t])return Ju[t];if(!xi[t])return t;var n=xi[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Rp)return Ju[t]=n[a];return t}var kp=Ts("animationend"),zp=Ts("animationiteration"),Op=Ts("animationstart"),xN=Ts("transitionrun"),vN=Ts("transitionstart"),bN=Ts("transitioncancel"),Lp=Ts("transitionend"),Dp=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function In(t,n){Dp.set(t,n),Qt(n,[t])}var ul=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],vi=0,td=0;function dl(){for(var t=vi,n=td=vi=0;n<t;){var a=jn[n];jn[n++]=null;var l=jn[n];jn[n++]=null;var g=jn[n];jn[n++]=null;var b=jn[n];if(jn[n++]=null,l!==null&&g!==null){var k=l.pending;k===null?g.next=g:(g.next=k.next,k.next=g),l.pending=g}b!==0&&$p(a,g,b)}}function fl(t,n,a,l){jn[vi++]=t,jn[vi++]=n,jn[vi++]=a,jn[vi++]=l,td|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nd(t,n,a,l){return fl(t,n,a,l),hl(t)}function Ms(t,n){return fl(t,null,null,n),hl(t)}function $p(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var g=!1,b=t.return;b!==null;)b.childLanes|=a,l=b.alternate,l!==null&&(l.childLanes|=a),b.tag===22&&(t=b.stateNode,t===null||t._visibility&1||(g=!0)),t=b,b=b.return;return t.tag===3?(b=t.stateNode,g&&n!==null&&(g=31-pe(a),t=b.hiddenUpdates,l=t[g],l===null?t[g]=[n]:l.push(n),n.lane=a|536870912),b):null}function hl(t){if(50<Wa)throw Wa=0,ff=null,Error(i(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var bi={};function wN(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,l){return new wN(t,n,a,l)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yr(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bp(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ml(t,n,a,l,g,b){var k=0;if(l=t,typeof t=="function")rd(t)&&(k=1);else if(typeof t=="string")k=_E(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=pn(31,a,n,g),t.elementType=O,t.lanes=b,t;case N:return Rs(a.children,g,b,n);case C:k=8,g|=24;break;case w:return t=pn(12,a,n,g|2),t.elementType=w,t.lanes=b,t;case M:return t=pn(13,a,n,g),t.elementType=M,t.lanes=b,t;case T:return t=pn(19,a,n,g),t.elementType=T,t.lanes=b,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:k=10;break e;case _:k=9;break e;case R:k=11;break e;case A:k=14;break e;case z:k=16,l=null;break e}k=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return n=pn(k,a,n,g),n.elementType=t,n.type=l,n.lanes=b,n}function Rs(t,n,a,l){return t=pn(7,t,l,n),t.lanes=a,t}function sd(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function Hp(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function id(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qp=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=qp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Zt(n)},qp.set(t,n),n)}return{value:t,source:n,stack:Zt(n)}}var wi=[],Si=0,pl=null,Ma=0,Tn=[],Mn=0,Fr=null,er=1,tr="";function xr(t,n){wi[Si++]=Ma,wi[Si++]=pl,pl=t,Ma=n}function Up(t,n,a){Tn[Mn++]=er,Tn[Mn++]=tr,Tn[Mn++]=Fr,Fr=t;var l=er;t=tr;var g=32-pe(l)-1;l&=~(1<<g),a+=1;var b=32-pe(n)+g;if(30<b){var k=g-g%5;b=(l&(1<<k)-1).toString(32),l>>=k,g-=k,er=1<<32-pe(n)+g|a<<g|l,tr=b+t}else er=1<<b|a<<g|l,tr=t}function ad(t){t.return!==null&&(xr(t,1),Up(t,1,0))}function od(t){for(;t===pl;)pl=wi[--Si],wi[Si]=null,Ma=wi[--Si],wi[Si]=null;for(;t===Fr;)Fr=Tn[--Mn],Tn[Mn]=null,tr=Tn[--Mn],Tn[Mn]=null,er=Tn[--Mn],Tn[Mn]=null}function Ip(t,n){Tn[Mn++]=er,Tn[Mn++]=tr,Tn[Mn++]=Fr,er=n.id,tr=n.overflow,Fr=t}var Pt=null,ht=null,Xe=!1,Xr=null,Rn=!1,ld=Error(i(519));function Zr(t){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ra(An(n,t)),ld}function Gp(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Et]=t,n[qt]=l,a){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<Ja.length;a++)Pe(Ja[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),nl(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),sp(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ay(n.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),l.onScroll!=null&&Pe("scroll",n),l.onScrollEnd!=null&&Pe("scrollend",n),l.onClick!=null&&(n.onclick=pr),n=!0):n=!1,n||Zr(t,!0)}function Vp(t){for(Pt=t.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Pt=Pt.return}}function Ni(t){if(t!==Pt)return!1;if(!Xe)return Vp(t),Xe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||jf(t.type,t.memoizedProps)),a=!a),a&&ht&&Zr(t),Vp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ht=py(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ht=py(t)}else n===27?(n=ht,cs(t.type)?(t=kf,kf=null,ht=t):ht=n):ht=Pt?zn(t.stateNode.nextSibling):null;return!0}function ks(){ht=Pt=null,Xe=!1}function cd(){var t=Xr;return t!==null&&(un===null?un=t:un.push.apply(un,t),Xr=null),t}function Ra(t){Xr===null?Xr=[t]:Xr.push(t)}var ud=$(null),zs=null,vr=null;function Qr(t,n,a){ee(ud,n._currentValue),n._currentValue=a}function br(t){t._currentValue=ud.current,Z(ud)}function dd(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function fd(t,n,a,l){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var b=g.dependencies;if(b!==null){var k=g.child;b=b.firstContext;e:for(;b!==null;){var D=b;b=g;for(var X=0;X<n.length;X++)if(D.context===n[X]){b.lanes|=a,D=b.alternate,D!==null&&(D.lanes|=a),dd(b.return,a,t),l||(k=null);break e}b=D.next}}else if(g.tag===18){if(k=g.return,k===null)throw Error(i(341));k.lanes|=a,b=k.alternate,b!==null&&(b.lanes|=a),dd(k,a,t),k=null}else k=g.child;if(k!==null)k.return=g;else for(k=g;k!==null;){if(k===t){k=null;break}if(g=k.sibling,g!==null){g.return=k.return,k=g;break}k=k.return}g=k}}function Ei(t,n,a,l){t=null;for(var g=n,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var k=g.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var D=g.type;mn(g.pendingProps.value,k.value)||(t!==null?t.push(D):t=[D])}}else if(g===ge.current){if(k=g.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}g=g.return}t!==null&&fd(n,t,a,l),n.flags|=262144}function gl(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){zs=t,vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Pp(zs,t)}function yl(t,n){return zs===null&&Os(t),Pp(t,n)}function Pp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},vr===null){if(t===null)throw Error(i(308));vr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else vr=vr.next=n;return a}var SN=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},NN=e.unstable_scheduleCallback,EN=e.unstable_NormalPriority,kt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new SN,data:new Map,refCount:0}}function ka(t){t.refCount--,t.refCount===0&&NN(EN,function(){t.controller.abort()})}var za=null,md=0,Ci=0,_i=null;function CN(t,n){if(za===null){var a=za=[];md=0,Ci=xf(),_i={status:"pending",value:void 0,then:function(l){a.push(l)}}}return md++,n.then(Yp,Yp),n}function Yp(){if(--md===0&&za!==null){_i!==null&&(_i.status="fulfilled");var t=za;za=null,Ci=0,_i=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _N(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var g=0;g<a.length;g++)(0,a[g])(n)},function(g){for(l.status="rejected",l.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),l}var Fp=L.S;L.S=function(t,n){M0=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&CN(t,n),Fp!==null&&Fp(t,n)};var Ls=$(null);function pd(){var t=Ls.current;return t!==null?t:dt.pooledCache}function xl(t,n){n===null?ee(Ls,Ls.current):ee(Ls,n.pool)}function Xp(){var t=pd();return t===null?null:{parent:kt._currentValue,pool:t}}var ji=Error(i(460)),gd=Error(i(474)),vl=Error(i(542)),bl={then:function(){}};function Zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(pr,pr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t;default:if(typeof n.status=="string")n.then(pr,pr);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=l}},function(l){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t}throw $s=n,ji}}function Ds(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?($s=a,ji):a}}var $s=null;function Wp(){if($s===null)throw Error(i(459));var t=$s;return $s=null,t}function Kp(t){if(t===ji||t===vl)throw Error(i(483))}var Ai=null,Oa=0;function wl(t){var n=Oa;return Oa+=1,Ai===null&&(Ai=[]),Qp(Ai,t,n)}function La(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Sl(t,n){throw n.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Jp(t){function n(J,W){if(t){var te=J.deletions;te===null?(J.deletions=[W],J.flags|=16):te.push(W)}}function a(J,W){if(!t)return null;for(;W!==null;)n(J,W),W=W.sibling;return null}function l(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function g(J,W){return J=yr(J,W),J.index=0,J.sibling=null,J}function b(J,W,te){return J.index=te,t?(te=J.alternate,te!==null?(te=te.index,te<W?(J.flags|=67108866,W):te):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function k(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function D(J,W,te,de){return W===null||W.tag!==6?(W=sd(te,J.mode,de),W.return=J,W):(W=g(W,te),W.return=J,W)}function X(J,W,te,de){var Me=te.type;return Me===N?ce(J,W,te.props.children,de,te.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===z&&Ds(Me)===W.type)?(W=g(W,te.props),La(W,te),W.return=J,W):(W=ml(te.type,te.key,te.props,null,J.mode,de),La(W,te),W.return=J,W)}function ne(J,W,te,de){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=id(te,J.mode,de),W.return=J,W):(W=g(W,te.children||[]),W.return=J,W)}function ce(J,W,te,de,Me){return W===null||W.tag!==7?(W=Rs(te,J.mode,de,Me),W.return=J,W):(W=g(W,te),W.return=J,W)}function fe(J,W,te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=sd(""+W,J.mode,te),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return te=ml(W.type,W.key,W.props,null,J.mode,te),La(te,W),te.return=J,te;case S:return W=id(W,J.mode,te),W.return=J,W;case z:return W=Ds(W),fe(J,W,te)}if(F(W)||U(W))return W=Rs(W,J.mode,te,null),W.return=J,W;if(typeof W.then=="function")return fe(J,wl(W),te);if(W.$$typeof===E)return fe(J,yl(J,W),te);Sl(J,W)}return null}function re(J,W,te,de){var Me=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Me!==null?null:D(J,W,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===Me?X(J,W,te,de):null;case S:return te.key===Me?ne(J,W,te,de):null;case z:return te=Ds(te),re(J,W,te,de)}if(F(te)||U(te))return Me!==null?null:ce(J,W,te,de,null);if(typeof te.then=="function")return re(J,W,wl(te),de);if(te.$$typeof===E)return re(J,W,yl(J,te),de);Sl(J,te)}return null}function ae(J,W,te,de,Me){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return J=J.get(te)||null,D(W,J,""+de,Me);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case v:return J=J.get(de.key===null?te:de.key)||null,X(W,J,de,Me);case S:return J=J.get(de.key===null?te:de.key)||null,ne(W,J,de,Me);case z:return de=Ds(de),ae(J,W,te,de,Me)}if(F(de)||U(de))return J=J.get(te)||null,ce(W,J,de,Me,null);if(typeof de.then=="function")return ae(J,W,te,wl(de),Me);if(de.$$typeof===E)return ae(J,W,te,yl(W,de),Me);Sl(W,de)}return null}function Ne(J,W,te,de){for(var Me=null,Je=null,_e=W,He=W=0,Fe=null;_e!==null&&He<te.length;He++){_e.index>He?(Fe=_e,_e=null):Fe=_e.sibling;var et=re(J,_e,te[He],de);if(et===null){_e===null&&(_e=Fe);break}t&&_e&&et.alternate===null&&n(J,_e),W=b(et,W,He),Je===null?Me=et:Je.sibling=et,Je=et,_e=Fe}if(He===te.length)return a(J,_e),Xe&&xr(J,He),Me;if(_e===null){for(;He<te.length;He++)_e=fe(J,te[He],de),_e!==null&&(W=b(_e,W,He),Je===null?Me=_e:Je.sibling=_e,Je=_e);return Xe&&xr(J,He),Me}for(_e=l(_e);He<te.length;He++)Fe=ae(_e,J,He,te[He],de),Fe!==null&&(t&&Fe.alternate!==null&&_e.delete(Fe.key===null?He:Fe.key),W=b(Fe,W,He),Je===null?Me=Fe:Je.sibling=Fe,Je=Fe);return t&&_e.forEach(function(ms){return n(J,ms)}),Xe&&xr(J,He),Me}function ke(J,W,te,de){if(te==null)throw Error(i(151));for(var Me=null,Je=null,_e=W,He=W=0,Fe=null,et=te.next();_e!==null&&!et.done;He++,et=te.next()){_e.index>He?(Fe=_e,_e=null):Fe=_e.sibling;var ms=re(J,_e,et.value,de);if(ms===null){_e===null&&(_e=Fe);break}t&&_e&&ms.alternate===null&&n(J,_e),W=b(ms,W,He),Je===null?Me=ms:Je.sibling=ms,Je=ms,_e=Fe}if(et.done)return a(J,_e),Xe&&xr(J,He),Me;if(_e===null){for(;!et.done;He++,et=te.next())et=fe(J,et.value,de),et!==null&&(W=b(et,W,He),Je===null?Me=et:Je.sibling=et,Je=et);return Xe&&xr(J,He),Me}for(_e=l(_e);!et.done;He++,et=te.next())et=ae(_e,J,He,et.value,de),et!==null&&(t&&et.alternate!==null&&_e.delete(et.key===null?He:et.key),W=b(et,W,He),Je===null?Me=et:Je.sibling=et,Je=et);return t&&_e.forEach(function($E){return n(J,$E)}),Xe&&xr(J,He),Me}function ut(J,W,te,de){if(typeof te=="object"&&te!==null&&te.type===N&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var Me=te.key;W!==null;){if(W.key===Me){if(Me=te.type,Me===N){if(W.tag===7){a(J,W.sibling),de=g(W,te.props.children),de.return=J,J=de;break e}}else if(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===z&&Ds(Me)===W.type){a(J,W.sibling),de=g(W,te.props),La(de,te),de.return=J,J=de;break e}a(J,W);break}else n(J,W);W=W.sibling}te.type===N?(de=Rs(te.props.children,J.mode,de,te.key),de.return=J,J=de):(de=ml(te.type,te.key,te.props,null,J.mode,de),La(de,te),de.return=J,J=de)}return k(J);case S:e:{for(Me=te.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){a(J,W.sibling),de=g(W,te.children||[]),de.return=J,J=de;break e}else{a(J,W);break}else n(J,W);W=W.sibling}de=id(te,J.mode,de),de.return=J,J=de}return k(J);case z:return te=Ds(te),ut(J,W,te,de)}if(F(te))return Ne(J,W,te,de);if(U(te)){if(Me=U(te),typeof Me!="function")throw Error(i(150));return te=Me.call(te),ke(J,W,te,de)}if(typeof te.then=="function")return ut(J,W,wl(te),de);if(te.$$typeof===E)return ut(J,W,yl(J,te),de);Sl(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,W!==null&&W.tag===6?(a(J,W.sibling),de=g(W,te),de.return=J,J=de):(a(J,W),de=sd(te,J.mode,de),de.return=J,J=de),k(J)):a(J,W)}return function(J,W,te,de){try{Oa=0;var Me=ut(J,W,te,de);return Ai=null,Me}catch(_e){if(_e===ji||_e===vl)throw _e;var Je=pn(29,_e,null,J.mode);return Je.lanes=de,Je.return=J,Je}}}var Bs=Jp(!0),eg=Jp(!1),Wr=!1;function yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var g=l.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),l.pending=n,n=hl(t),$p(t,null,a),n}return fl(t,l,n,a),hl(t)}function Da(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ii(t,a)}}function vd(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var g=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var k={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?g=b=k:b=b.next=k,a=a.next}while(a!==null);b===null?g=b=n:b=b.next=n}else g=b=n;a={baseState:l.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var bd=!1;function $a(){if(bd){var t=_i;if(t!==null)throw t}}function Ba(t,n,a,l){bd=!1;var g=t.updateQueue;Wr=!1;var b=g.firstBaseUpdate,k=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var X=D,ne=X.next;X.next=null,k===null?b=ne:k.next=ne,k=X;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,D=ce.lastBaseUpdate,D!==k&&(D===null?ce.firstBaseUpdate=ne:D.next=ne,ce.lastBaseUpdate=X))}if(b!==null){var fe=g.baseState;k=0,ce=ne=X=null,D=b;do{var re=D.lane&-536870913,ae=re!==D.lane;if(ae?(Ye&re)===re:(l&re)===re){re!==0&&re===Ci&&(bd=!0),ce!==null&&(ce=ce.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Ne=t,ke=D;re=n;var ut=a;switch(ke.tag){case 1:if(Ne=ke.payload,typeof Ne=="function"){fe=Ne.call(ut,fe,re);break e}fe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=ke.payload,re=typeof Ne=="function"?Ne.call(ut,fe,re):Ne,re==null)break e;fe=x({},fe,re);break e;case 2:Wr=!0}}re=D.callback,re!==null&&(t.flags|=64,ae&&(t.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ce===null?(ne=ce=ae,X=fe):ce=ce.next=ae,k|=re;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);ce===null&&(X=fe),g.baseState=X,g.firstBaseUpdate=ne,g.lastBaseUpdate=ce,b===null&&(g.shared.lanes=0),ss|=k,t.lanes=k,t.memoizedState=fe}}function tg(t,n){if(typeof t!="function")throw Error(i(191,t));t.call(n)}function ng(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tg(a[t],n)}var Ti=$(null),Nl=$(0);function rg(t,n){t=Tr,ee(Nl,t),ee(Ti,n),Tr=t|n.baseLanes}function wd(){ee(Nl,Tr),ee(Ti,Ti.current)}function Sd(){Tr=Nl.current,Z(Ti),Z(Nl)}var gn=$(null),kn=null;function es(t){var n=t.alternate;ee(Tt,Tt.current&1),ee(gn,t),kn===null&&(n===null||Ti.current!==null||n.memoizedState!==null)&&(kn=t)}function Nd(t){ee(Tt,Tt.current),ee(gn,t),kn===null&&(kn=t)}function sg(t){t.tag===22?(ee(Tt,Tt.current),ee(gn,t),kn===null&&(kn=t)):ts()}function ts(){ee(Tt,Tt.current),ee(gn,gn.current)}function yn(t){Z(gn),kn===t&&(kn=null),Z(Tt)}var Tt=$(0);function El(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mf(a)||Rf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wr=0,$e=null,lt=null,zt=null,Cl=!1,Mi=!1,Hs=!1,_l=0,Ha=0,Ri=null,jN=0;function _t(){throw Error(i(321))}function Ed(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Cd(t,n,a,l,g,b){return wr=b,$e=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=t===null||t.memoizedState===null?Ug:qd,Hs=!1,b=a(l,g),Hs=!1,Mi&&(b=ag(n,a,l,g)),ig(t),b}function ig(t){L.H=Ia;var n=lt!==null&&lt.next!==null;if(wr=0,zt=lt=$e=null,Cl=!1,Ha=0,Ri=null,n)throw Error(i(300));t===null||Ot||(t=t.dependencies,t!==null&&gl(t)&&(Ot=!0))}function ag(t,n,a,l){$e=t;var g=0;do{if(Mi&&(Ri=null),Ha=0,Mi=!1,25<=g)throw Error(i(301));if(g+=1,zt=lt=null,t.updateQueue!=null){var b=t.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=Ig,b=n(a,l)}while(Mi);return b}function AN(){var t=L.H,n=t.useState()[0];return n=typeof n.then=="function"?qa(n):n,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&($e.flags|=1024),n}function _d(){var t=_l!==0;return _l=0,t}function jd(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ad(t){if(Cl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Cl=!1}wr=0,zt=lt=$e=null,Mi=!1,Ha=_l=0,Ri=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?$e.memoizedState=zt=t:zt=zt.next=t,zt}function Mt(){if(lt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var n=zt===null?$e.memoizedState:zt.next;if(n!==null)zt=n,lt=t;else{if(t===null)throw $e.alternate===null?Error(i(467)):Error(i(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},zt===null?$e.memoizedState=zt=t:zt=zt.next=t}return zt}function jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(t){var n=Ha;return Ha+=1,Ri===null&&(Ri=[]),t=Qp(Ri,t,n),n=$e,(zt===null?n.memoizedState:zt.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Ug:qd),t}function Al(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qa(t);if(t.$$typeof===E)return Yt(t)}throw Error(i(438,String(t)))}function Td(t){var n=null,a=$e.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=$e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=jl(),$e.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=G;return n.index++,a}function Sr(t,n){return typeof n=="function"?n(t):n}function Tl(t){var n=Mt();return Md(n,lt,t)}function Md(t,n,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var g=t.baseQueue,b=l.pending;if(b!==null){if(g!==null){var k=g.next;g.next=b.next,b.next=k}n.baseQueue=g=b,l.pending=null}if(b=t.baseState,g===null)t.memoizedState=b;else{n=g.next;var D=k=null,X=null,ne=n,ce=!1;do{var fe=ne.lane&-536870913;if(fe!==ne.lane?(Ye&fe)===fe:(wr&fe)===fe){var re=ne.revertLane;if(re===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),fe===Ci&&(ce=!0);else if((wr&re)===re){ne=ne.next,re===Ci&&(ce=!0);continue}else fe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},X===null?(D=X=fe,k=b):X=X.next=fe,$e.lanes|=re,ss|=re;fe=ne.action,Hs&&a(b,fe),b=ne.hasEagerState?ne.eagerState:a(b,fe)}else re={lane:fe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},X===null?(D=X=re,k=b):X=X.next=re,$e.lanes|=fe,ss|=fe;ne=ne.next}while(ne!==null&&ne!==n);if(X===null?k=b:X.next=D,!mn(b,t.memoizedState)&&(Ot=!0,ce&&(a=_i,a!==null)))throw a;t.memoizedState=b,t.baseState=k,t.baseQueue=X,l.lastRenderedState=b}return g===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rd(t){var n=Mt(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,g=a.pending,b=n.memoizedState;if(g!==null){a.pending=null;var k=g=g.next;do b=t(b,k.action),k=k.next;while(k!==g);mn(b,n.memoizedState)||(Ot=!0),n.memoizedState=b,n.baseQueue===null&&(n.baseState=b),a.lastRenderedState=b}return[b,l]}function og(t,n,a){var l=$e,g=Mt(),b=Xe;if(b){if(a===void 0)throw Error(i(407));a=a()}else a=n();var k=!mn((lt||g).memoizedState,a);if(k&&(g.memoizedState=a,Ot=!0),g=g.queue,Od(ug.bind(null,l,g,t),[t]),g.getSnapshot!==n||k||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,ki(9,{destroy:void 0},cg.bind(null,l,g,a,n),null),dt===null)throw Error(i(349));b||(wr&127)!==0||lg(l,n,a)}return a}function lg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=$e.updateQueue,n===null?(n=jl(),$e.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function cg(t,n,a,l){n.value=a,n.getSnapshot=l,dg(n)&&fg(t)}function ug(t,n,a){return a(function(){dg(n)&&fg(t)})}function dg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function fg(t){var n=Ms(t,2);n!==null&&dn(n,t,2)}function kd(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),Hs){le(!0);try{a()}finally{le(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:t},n}function hg(t,n,a,l){return t.baseState=a,Md(t,lt,typeof l=="function"?l:Sr)}function TN(t,n,a,l,g){if(kl(t))throw Error(i(485));if(t=n.action,t!==null){var b={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};L.T!==null?a(!0):b.isTransition=!1,l(b),a=n.pending,a===null?(b.next=n.pending=b,mg(n,b)):(b.next=a.next,n.pending=a.next=b)}}function mg(t,n){var a=n.action,l=n.payload,g=t.state;if(n.isTransition){var b=L.T,k={};L.T=k;try{var D=a(g,l),X=L.S;X!==null&&X(k,D),pg(t,n,D)}catch(ne){zd(t,n,ne)}finally{b!==null&&k.types!==null&&(b.types=k.types),L.T=b}}else try{b=a(g,l),pg(t,n,b)}catch(ne){zd(t,n,ne)}}function pg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gg(t,n,l)},function(l){return zd(t,n,l)}):gg(t,n,a)}function gg(t,n,a){n.status="fulfilled",n.value=a,yg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,mg(t,a)))}function zd(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,yg(n),n=n.next;while(n!==l)}t.action=null}function yg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xg(t,n){return n}function vg(t,n){if(Xe){var a=dt.formState;if(a!==null){e:{var l=$e;if(Xe){if(ht){t:{for(var g=ht,b=Rn;g.nodeType!==8;){if(!b){g=null;break t}if(g=zn(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){ht=zn(g.nextSibling),l=g.data==="F!";break e}}Zr(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},a.queue=l,a=Bg.bind(null,$e,l),l.dispatch=a,l=kd(!1),b=Hd.bind(null,$e,!1,l.queue),l=en(),g={state:n,dispatch:null,action:t,pending:null},l.queue=g,a=TN.bind(null,$e,g,b,a),g.dispatch=a,l.memoizedState=t,[n,a,!1]}function bg(t){var n=Mt();return wg(n,lt,t)}function wg(t,n,a){if(n=Md(t,n,xg)[0],t=Tl(Sr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=qa(n)}catch(k){throw k===ji?vl:k}else l=n;n=Mt();var g=n.queue,b=g.dispatch;return a!==n.memoizedState&&($e.flags|=2048,ki(9,{destroy:void 0},MN.bind(null,g,a),null)),[l,b,t]}function MN(t,n){t.action=n}function Sg(t){var n=Mt(),a=lt;if(a!==null)return wg(n,a,t);Mt(),n=n.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ki(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=$e.updateQueue,n===null&&(n=jl(),$e.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ng(){return Mt().memoizedState}function Ml(t,n,a,l){var g=en();$e.flags|=t,g.memoizedState=ki(1|n,{destroy:void 0},a,l===void 0?null:l)}function Rl(t,n,a,l){var g=Mt();l=l===void 0?null:l;var b=g.memoizedState.inst;lt!==null&&l!==null&&Ed(l,lt.memoizedState.deps)?g.memoizedState=ki(n,b,a,l):($e.flags|=t,g.memoizedState=ki(1|n,b,a,l))}function Eg(t,n){Ml(8390656,8,t,n)}function Od(t,n){Rl(2048,8,t,n)}function RN(t){$e.flags|=4;var n=$e.updateQueue;if(n===null)n=jl(),$e.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Cg(t){var n=Mt().memoizedState;return RN({ref:n,nextImpl:t}),function(){if((rt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function _g(t,n){return Rl(4,2,t,n)}function jg(t,n){return Rl(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tg(t,n,a){a=a!=null?a.concat([t]):null,Rl(4,4,Ag.bind(null,n,t),a)}function Ld(){}function Mg(t,n){var a=Mt();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ed(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Rg(t,n){var a=Mt();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ed(n,l[1]))return l[0];if(l=t(),Hs){le(!0);try{t()}finally{le(!1)}}return a.memoizedState=[l,n],l}function Dd(t,n,a){return a===void 0||(wr&1073741824)!==0&&(Ye&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=k0(),$e.lanes|=t,ss|=t,a)}function kg(t,n,a,l){return mn(a,n)?a:Ti.current!==null?(t=Dd(t,a,l),mn(t,n)||(Ot=!0),t):(wr&42)===0||(wr&1073741824)!==0&&(Ye&261930)===0?(Ot=!0,t.memoizedState=a):(t=k0(),$e.lanes|=t,ss|=t,n)}function zg(t,n,a,l,g){var b=q.p;q.p=b!==0&&8>b?b:8;var k=L.T,D={};L.T=D,Hd(t,!1,n,a);try{var X=g(),ne=L.S;if(ne!==null&&ne(D,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var ce=_N(X,l);Ua(t,n,ce,bn(t))}else Ua(t,n,l,bn(t))}catch(fe){Ua(t,n,{then:function(){},status:"rejected",reason:fe},bn())}finally{q.p=b,k!==null&&D.types!==null&&(k.types=D.types),L.T=k}}function kN(){}function $d(t,n,a,l){if(t.tag!==5)throw Error(i(476));var g=Og(t).queue;zg(t,g,n,H,a===null?kN:function(){return Lg(t),a(l)})}function Og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:H},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lg(t){var n=Og(t);n.next===null&&(n=t.alternate.memoizedState),Ua(t,n.next.queue,{},bn())}function Bd(){return Yt(so)}function Dg(){return Mt().memoizedState}function $g(){return Mt().memoizedState}function zN(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=bn();t=Kr(a);var l=Jr(n,t,a);l!==null&&(dn(l,n,a),Da(l,n,a)),n={cache:hd()},t.payload=n;return}n=n.return}}function ON(t,n,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},kl(t)?Hg(n,a):(a=nd(t,n,a,l),a!==null&&(dn(a,t,l),qg(a,n,l)))}function Bg(t,n,a){var l=bn();Ua(t,n,a,l)}function Ua(t,n,a,l){var g={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(kl(t))Hg(n,g);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=n.lastRenderedReducer,b!==null))try{var k=n.lastRenderedState,D=b(k,a);if(g.hasEagerState=!0,g.eagerState=D,mn(D,k))return fl(t,n,g,0),dt===null&&dl(),!1}catch{}if(a=nd(t,n,g,l),a!==null)return dn(a,t,l),qg(a,n,l),!0}return!1}function Hd(t,n,a,l){if(l={lane:2,revertLane:xf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kl(t)){if(n)throw Error(i(479))}else n=nd(t,a,l,2),n!==null&&dn(n,t,2)}function kl(t){var n=t.alternate;return t===$e||n!==null&&n===$e}function Hg(t,n){Mi=Cl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function qg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ii(t,a)}}var Ia={readContext:Yt,use:Al,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Ia.useEffectEvent=_t;var Ug={readContext:Yt,use:Al,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:Eg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ml(4194308,4,Ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ml(4194308,4,t,n)},useInsertionEffect:function(t,n){Ml(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var l=t();if(Hs){le(!0);try{t()}finally{le(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=en();if(a!==void 0){var g=a(n);if(Hs){le(!0);try{a(n)}finally{le(!1)}}}else g=n;return l.memoizedState=l.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},l.queue=t,t=t.dispatch=ON.bind(null,$e,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=kd(t);var n=t.queue,a=Bg.bind(null,$e,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(t,n){var a=en();return Dd(a,t,n)},useTransition:function(){var t=kd(!1);return t=zg.bind(null,$e,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=$e,g=en();if(Xe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),dt===null)throw Error(i(349));(Ye&127)!==0||lg(l,n,a)}g.memoizedState=a;var b={value:a,getSnapshot:n};return g.queue=b,Eg(ug.bind(null,l,b,t),[t]),l.flags|=2048,ki(9,{destroy:void 0},cg.bind(null,l,b,a,n),null),a},useId:function(){var t=en(),n=dt.identifierPrefix;if(Xe){var a=tr,l=er;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=_l++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=jN++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Bd,useFormState:vg,useActionState:vg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Hd.bind(null,$e,!0,a),a.dispatch=n,[t,n]},useMemoCache:Td,useCacheRefresh:function(){return en().memoizedState=zN.bind(null,$e)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((rt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},qd={readContext:Yt,use:Al,useCallback:Mg,useContext:Yt,useEffect:Od,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:jg,useMemo:Rg,useReducer:Tl,useRef:Ng,useState:function(){return Tl(Sr)},useDebugValue:Ld,useDeferredValue:function(t,n){var a=Mt();return kg(a,lt.memoizedState,t,n)},useTransition:function(){var t=Tl(Sr)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:qa(t),n]},useSyncExternalStore:og,useId:Dg,useHostTransitionStatus:Bd,useFormState:bg,useActionState:bg,useOptimistic:function(t,n){var a=Mt();return hg(a,lt,t,n)},useMemoCache:Td,useCacheRefresh:$g};qd.useEffectEvent=Cg;var Ig={readContext:Yt,use:Al,useCallback:Mg,useContext:Yt,useEffect:Od,useImperativeHandle:Tg,useInsertionEffect:_g,useLayoutEffect:jg,useMemo:Rg,useReducer:Rd,useRef:Ng,useState:function(){return Rd(Sr)},useDebugValue:Ld,useDeferredValue:function(t,n){var a=Mt();return lt===null?Dd(a,t,n):kg(a,lt.memoizedState,t,n)},useTransition:function(){var t=Rd(Sr)[0],n=Mt().memoizedState;return[typeof t=="boolean"?t:qa(t),n]},useSyncExternalStore:og,useId:Dg,useHostTransitionStatus:Bd,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,n){var a=Mt();return lt!==null?hg(a,lt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Td,useCacheRefresh:$g};Ig.useEffectEvent=Cg;function Ud(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Id={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=bn(),g=Kr(l);g.payload=n,a!=null&&(g.callback=a),n=Jr(t,g,l),n!==null&&(dn(n,t,l),Da(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=bn(),g=Kr(l);g.tag=1,g.payload=n,a!=null&&(g.callback=a),n=Jr(t,g,l),n!==null&&(dn(n,t,l),Da(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=bn(),l=Kr(a);l.tag=2,n!=null&&(l.callback=n),n=Jr(t,l,a),n!==null&&(dn(n,t,a),Da(n,t,a))}};function Gg(t,n,a,l,g,b,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,b,k):n.prototype&&n.prototype.isPureReactComponent?!Aa(a,l)||!Aa(g,b):!0}function Vg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Id.enqueueReplaceState(n,n.state,null)}function qs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var g in t)a[g]===void 0&&(a[g]=t[g])}return a}function Pg(t){ul(t)}function Yg(t){console.error(t)}function Fg(t){ul(t)}function zl(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Gd(t,n,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){zl(t,n)},a}function Zg(t){return t=Kr(t),t.tag=3,t}function Qg(t,n,a,l){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=l.value;t.payload=function(){return g(b)},t.callback=function(){Xg(n,a,l)}}var k=a.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){Xg(n,a,l),typeof g!="function"&&(is===null?is=new Set([this]):is.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D!==null?D:""})})}function LN(t,n,a,l,g){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ei(n,a,g,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Pl():a.alternate===null&&jt===0&&(jt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,l===bl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),pf(t,l,g)),!1;case 22:return a.flags|=65536,l===bl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),pf(t,l,g)),!1}throw Error(i(435,a.tag))}return pf(t,l,g),Pl(),!1}if(Xe)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=g,l!==ld&&(t=Error(i(422),{cause:l}),Ra(An(t,a)))):(l!==ld&&(n=Error(i(423),{cause:l}),Ra(An(n,a))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,l=An(l,a),g=Gd(t.stateNode,l,g),vd(t,g),jt!==4&&(jt=2)),!1;var b=Error(i(520),{cause:l});if(b=An(b,a),Qa===null?Qa=[b]:Qa.push(b),jt!==4&&(jt=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=g&-g,a.lanes|=t,t=Gd(a.stateNode,l,t),vd(a,t),!1;case 1:if(n=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(is===null||!is.has(b))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Zg(g),Qg(g,t,a,l),vd(a,g),!1}a=a.return}while(a!==null);return!1}var Vd=Error(i(461)),Ot=!1;function Ft(t,n,a,l){n.child=t===null?eg(n,null,a,l):Bs(n,t.child,a,l)}function Wg(t,n,a,l,g){a=a.render;var b=n.ref;if("ref"in l){var k={};for(var D in l)D!=="ref"&&(k[D]=l[D])}else k=l;return Os(n),l=Cd(t,n,a,k,b,g),D=_d(),t!==null&&!Ot?(jd(t,n,g),Nr(t,n,g)):(Xe&&D&&ad(n),n.flags|=1,Ft(t,n,l,g),n.child)}function Kg(t,n,a,l,g){if(t===null){var b=a.type;return typeof b=="function"&&!rd(b)&&b.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=b,Jg(t,n,b,l,g)):(t=ml(a.type,null,l,n,n.mode,g),t.ref=n.ref,t.return=n,n.child=t)}if(b=t.child,!Kd(t,g)){var k=b.memoizedProps;if(a=a.compare,a=a!==null?a:Aa,a(k,l)&&t.ref===n.ref)return Nr(t,n,g)}return n.flags|=1,t=yr(b,l),t.ref=n.ref,t.return=n,n.child=t}function Jg(t,n,a,l,g){if(t!==null){var b=t.memoizedProps;if(Aa(b,l)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=l=b,Kd(t,g))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,Nr(t,n,g)}return Pd(t,n,a,l,g)}function e0(t,n,a,l){var g=l.children,b=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(b=b!==null?b.baseLanes|a:a,t!==null){for(l=n.child=t.child,g=0;l!==null;)g=g|l.lanes|l.childLanes,l=l.sibling;l=g&~b}else l=0,n.child=null;return t0(t,n,b,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xl(n,b!==null?b.cachePool:null),b!==null?rg(n,b):wd(),sg(n);else return l=n.lanes=536870912,t0(t,n,b!==null?b.baseLanes|a:a,a,l)}else b!==null?(xl(n,b.cachePool),rg(n,b),ts(),n.memoizedState=null):(t!==null&&xl(n,null),wd(),ts());return Ft(t,n,g,a),n.child}function Ga(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function t0(t,n,a,l,g){var b=pd();return b=b===null?null:{parent:kt._currentValue,pool:b},n.memoizedState={baseLanes:a,cachePool:b},t!==null&&xl(n,null),wd(),sg(n),t!==null&&Ei(t,n,l,!0),n.childLanes=g,null}function Ol(t,n){return n=Dl({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function n0(t,n,a){return Bs(n,t.child,null,a),t=Ol(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function DN(t,n,a){var l=n.pendingProps,g=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Xe){if(l.mode==="hidden")return t=Ol(n,l),n.lanes=536870912,Ga(null,t);if(Nd(n),(t=ht)?(t=my(t,Rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fr!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},a=Hp(t),a.return=n,n.child=a,Pt=n,ht=null)):t=null,t===null)throw Zr(n);return n.lanes=536870912,null}return Ol(n,l)}var b=t.memoizedState;if(b!==null){var k=b.dehydrated;if(Nd(n),g)if(n.flags&256)n.flags&=-257,n=n0(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(i(558));else if(Ot||Ei(t,n,a,!1),g=(a&t.childLanes)!==0,Ot||g){if(l=dt,l!==null&&(k=ai(l,a),k!==0&&k!==b.retryLane))throw b.retryLane=k,Ms(t,k),dn(l,t,k),Vd;Pl(),n=n0(t,n,a)}else t=b.treeContext,ht=zn(k.nextSibling),Pt=n,Xe=!0,Xr=null,Rn=!1,t!==null&&Ip(n,t),n=Ol(n,l),n.flags|=4096;return n}return t=yr(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ll(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Pd(t,n,a,l,g){return Os(n),a=Cd(t,n,a,l,void 0,g),l=_d(),t!==null&&!Ot?(jd(t,n,g),Nr(t,n,g)):(Xe&&l&&ad(n),n.flags|=1,Ft(t,n,a,g),n.child)}function r0(t,n,a,l,g,b){return Os(n),n.updateQueue=null,a=ag(n,l,a,g),ig(t),l=_d(),t!==null&&!Ot?(jd(t,n,b),Nr(t,n,b)):(Xe&&l&&ad(n),n.flags|=1,Ft(t,n,a,b),n.child)}function s0(t,n,a,l,g){if(Os(n),n.stateNode===null){var b=bi,k=a.contextType;typeof k=="object"&&k!==null&&(b=Yt(k)),b=new a(l,b),n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Id,n.stateNode=b,b._reactInternals=n,b=n.stateNode,b.props=l,b.state=n.memoizedState,b.refs={},yd(n),k=a.contextType,b.context=typeof k=="object"&&k!==null?Yt(k):bi,b.state=n.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(Ud(n,a,k,l),b.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Id.enqueueReplaceState(b,b.state,null),Ba(n,l,b,g),$a(),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){b=n.stateNode;var D=n.memoizedProps,X=qs(a,D);b.props=X;var ne=b.context,ce=a.contextType;k=bi,typeof ce=="object"&&ce!==null&&(k=Yt(ce));var fe=a.getDerivedStateFromProps;ce=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=n.pendingProps!==D,ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||ne!==k)&&Vg(n,b,l,k),Wr=!1;var re=n.memoizedState;b.state=re,Ba(n,l,b,g),$a(),ne=n.memoizedState,D||re!==ne||Wr?(typeof fe=="function"&&(Ud(n,a,fe,l),ne=n.memoizedState),(X=Wr||Gg(n,a,X,l,re,ne,k))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=ne),b.props=l,b.state=ne,b.context=k,l=X):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{b=n.stateNode,xd(t,n),k=n.memoizedProps,ce=qs(a,k),b.props=ce,fe=n.pendingProps,re=b.context,ne=a.contextType,X=bi,typeof ne=="object"&&ne!==null&&(X=Yt(ne)),D=a.getDerivedStateFromProps,(ne=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==fe||re!==X)&&Vg(n,b,l,X),Wr=!1,re=n.memoizedState,b.state=re,Ba(n,l,b,g),$a();var ae=n.memoizedState;k!==fe||re!==ae||Wr||t!==null&&t.dependencies!==null&&gl(t.dependencies)?(typeof D=="function"&&(Ud(n,a,D,l),ae=n.memoizedState),(ce=Wr||Gg(n,a,ce,l,re,ae,X)||t!==null&&t.dependencies!==null&&gl(t.dependencies))?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(l,ae,X),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(l,ae,X)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ae),b.props=l,b.state=ae,b.context=X,l=ce):(typeof b.componentDidUpdate!="function"||k===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),l=!1)}return b=l,Ll(t,n),l=(n.flags&128)!==0,b||l?(b=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:b.render(),n.flags|=1,t!==null&&l?(n.child=Bs(n,t.child,null,g),n.child=Bs(n,null,a,g)):Ft(t,n,a,g),n.memoizedState=b.state,t=n.child):t=Nr(t,n,g),t}function i0(t,n,a,l){return ks(),n.flags|=256,Ft(t,n,a,l),n.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fd(t){return{baseLanes:t,cachePool:Xp()}}function Xd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function a0(t,n,a){var l=n.pendingProps,g=!1,b=(n.flags&128)!==0,k;if((k=b)||(k=t!==null&&t.memoizedState===null?!1:(Tt.current&2)!==0),k&&(g=!0,n.flags&=-129),k=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xe){if(g?es(n):ts(),(t=ht)?(t=my(t,Rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Fr!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},a=Hp(t),a.return=n,n.child=a,Pt=n,ht=null)):t=null,t===null)throw Zr(n);return Rf(t)?n.lanes=32:n.lanes=536870912,null}var D=l.children;return l=l.fallback,g?(ts(),g=n.mode,D=Dl({mode:"hidden",children:D},g),l=Rs(l,g,a,null),D.return=n,l.return=n,D.sibling=l,n.child=D,l=n.child,l.memoizedState=Fd(a),l.childLanes=Xd(t,k,a),n.memoizedState=Yd,Ga(null,l)):(es(n),Zd(n,D))}var X=t.memoizedState;if(X!==null&&(D=X.dehydrated,D!==null)){if(b)n.flags&256?(es(n),n.flags&=-257,n=Qd(t,n,a)):n.memoizedState!==null?(ts(),n.child=t.child,n.flags|=128,n=null):(ts(),D=l.fallback,g=n.mode,l=Dl({mode:"visible",children:l.children},g),D=Rs(D,g,a,null),D.flags|=2,l.return=n,D.return=n,l.sibling=D,n.child=l,Bs(n,t.child,null,a),l=n.child,l.memoizedState=Fd(a),l.childLanes=Xd(t,k,a),n.memoizedState=Yd,n=Ga(null,l));else if(es(n),Rf(D)){if(k=D.nextSibling&&D.nextSibling.dataset,k)var ne=k.dgst;k=ne,l=Error(i(419)),l.stack="",l.digest=k,Ra({value:l,source:null,stack:null}),n=Qd(t,n,a)}else if(Ot||Ei(t,n,a,!1),k=(a&t.childLanes)!==0,Ot||k){if(k=dt,k!==null&&(l=ai(k,a),l!==0&&l!==X.retryLane))throw X.retryLane=l,Ms(t,l),dn(k,t,l),Vd;Mf(D)||Pl(),n=Qd(t,n,a)}else Mf(D)?(n.flags|=192,n.child=t.child,n=null):(t=X.treeContext,ht=zn(D.nextSibling),Pt=n,Xe=!0,Xr=null,Rn=!1,t!==null&&Ip(n,t),n=Zd(n,l.children),n.flags|=4096);return n}return g?(ts(),D=l.fallback,g=n.mode,X=t.child,ne=X.sibling,l=yr(X,{mode:"hidden",children:l.children}),l.subtreeFlags=X.subtreeFlags&65011712,ne!==null?D=yr(ne,D):(D=Rs(D,g,a,null),D.flags|=2),D.return=n,l.return=n,l.sibling=D,n.child=l,Ga(null,l),l=n.child,D=t.child.memoizedState,D===null?D=Fd(a):(g=D.cachePool,g!==null?(X=kt._currentValue,g=g.parent!==X?{parent:X,pool:X}:g):g=Xp(),D={baseLanes:D.baseLanes|a,cachePool:g}),l.memoizedState=D,l.childLanes=Xd(t,k,a),n.memoizedState=Yd,Ga(t.child,l)):(es(n),a=t.child,t=a.sibling,a=yr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(k=n.deletions,k===null?(n.deletions=[t],n.flags|=16):k.push(t)),n.child=a,n.memoizedState=null,a)}function Zd(t,n){return n=Dl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Dl(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function Qd(t,n,a){return Bs(n,t.child,null,a),t=Zd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function o0(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),dd(t.return,n,a)}function Wd(t,n,a,l,g,b){var k=t.memoizedState;k===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:g,treeForkCount:b}:(k.isBackwards=n,k.rendering=null,k.renderingStartTime=0,k.last=l,k.tail=a,k.tailMode=g,k.treeForkCount=b)}function l0(t,n,a){var l=n.pendingProps,g=l.revealOrder,b=l.tail;l=l.children;var k=Tt.current,D=(k&2)!==0;if(D?(k=k&1|2,n.flags|=128):k&=1,ee(Tt,k),Ft(t,n,l,a),l=Xe?Ma:0,!D&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o0(t,a,n);else if(t.tag===19)o0(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(a=n.child,g=null;a!==null;)t=a.alternate,t!==null&&El(t)===null&&(g=a),a=a.sibling;a=g,a===null?(g=n.child,n.child=null):(g=a.sibling,a.sibling=null),Wd(n,!1,g,a,b,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=n.child,n.child=null;g!==null;){if(t=g.alternate,t!==null&&El(t)===null){n.child=g;break}t=g.sibling,g.sibling=a,a=g,g=t}Wd(n,!0,a,null,b,l);break;case"together":Wd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Nr(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ss|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ei(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,a=yr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=yr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&gl(t)))}function $N(t,n,a){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),Qr(n,kt,t.memoizedState.cache),ks();break;case 27:case 5:ze(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:Qr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(es(n),n.flags|=128,null):(a&n.child.childLanes)!==0?a0(t,n,a):(es(n),t=Nr(t,n,a),t!==null?t.sibling:null);es(n);break;case 19:var g=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ei(t,n,a,!1),l=(a&n.childLanes)!==0),g){if(l)return l0(t,n,a);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ee(Tt,Tt.current),l)break;return null;case 22:return n.lanes=0,e0(t,n,a,n.pendingProps);case 24:Qr(n,kt,t.memoizedState.cache)}return Nr(t,n,a)}function c0(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!Kd(t,a)&&(n.flags&128)===0)return Ot=!1,$N(t,n,a);Ot=(t.flags&131072)!==0}else Ot=!1,Xe&&(n.flags&1048576)!==0&&Up(n,Ma,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Ds(n.elementType),n.type=t,typeof t=="function")rd(t)?(l=qs(t,l),n.tag=1,n=s0(null,n,t,l,a)):(n.tag=0,n=Pd(null,n,t,l,a));else{if(t!=null){var g=t.$$typeof;if(g===R){n.tag=11,n=Wg(null,n,t,l,a);break e}else if(g===A){n.tag=14,n=Kg(null,n,t,l,a);break e}}throw n=B(t)||t,Error(i(306,n,""))}}return n;case 0:return Pd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,g=qs(l,n.pendingProps),s0(t,n,l,g,a);case 3:e:{if(he(n,n.stateNode.containerInfo),t===null)throw Error(i(387));l=n.pendingProps;var b=n.memoizedState;g=b.element,xd(t,n),Ba(n,l,null,a);var k=n.memoizedState;if(l=k.cache,Qr(n,kt,l),l!==b.cache&&fd(n,[kt],a,!0),$a(),l=k.element,b.isDehydrated)if(b={element:l,isDehydrated:!1,cache:k.cache},n.updateQueue.baseState=b,n.memoizedState=b,n.flags&256){n=i0(t,n,l,a);break e}else if(l!==g){g=An(Error(i(424)),n),Ra(g),n=i0(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=zn(t.firstChild),Pt=n,Xe=!0,Xr=null,Rn=!0,a=eg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),l===g){n=Nr(t,n,a);break e}Ft(t,n,l,a)}n=n.child}return n;case 26:return Ll(t,n),t===null?(a=by(n.type,null,n.pendingProps,null))?n.memoizedState=a:Xe||(a=n.type,t=n.pendingProps,l=Kl(ye.current).createElement(a),l[Et]=n,l[qt]=t,Xt(l,a,t),be(l),n.stateNode=l):n.memoizedState=by(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ze(n),t===null&&Xe&&(l=n.stateNode=yy(n.type,n.pendingProps,ye.current),Pt=n,Rn=!0,g=ht,cs(n.type)?(kf=g,ht=zn(l.firstChild)):ht=g),Ft(t,n,n.pendingProps.children,a),Ll(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xe&&((g=l=ht)&&(l=hE(l,n.type,n.pendingProps,Rn),l!==null?(n.stateNode=l,Pt=n,ht=zn(l.firstChild),Rn=!1,g=!0):g=!1),g||Zr(n)),ze(n),g=n.type,b=n.pendingProps,k=t!==null?t.memoizedProps:null,l=b.children,jf(g,b)?l=null:k!==null&&jf(g,k)&&(n.flags|=32),n.memoizedState!==null&&(g=Cd(t,n,AN,null,null,a),so._currentValue=g),Ll(t,n),Ft(t,n,l,a),n.child;case 6:return t===null&&Xe&&((t=a=ht)&&(a=mE(a,n.pendingProps,Rn),a!==null?(n.stateNode=a,Pt=n,ht=null,t=!0):t=!1),t||Zr(n)),null;case 13:return a0(t,n,a);case 4:return he(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Bs(n,null,l,a):Ft(t,n,l,a),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,a);case 7:return Ft(t,n,n.pendingProps,a),n.child;case 8:return Ft(t,n,n.pendingProps.children,a),n.child;case 12:return Ft(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Qr(n,n.type,l.value),Ft(t,n,l.children,a),n.child;case 9:return g=n.type._context,l=n.pendingProps.children,Os(n),g=Yt(g),l=l(g),n.flags|=1,Ft(t,n,l,a),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,a);case 15:return Jg(t,n,n.type,n.pendingProps,a);case 19:return l0(t,n,a);case 31:return DN(t,n,a);case 22:return e0(t,n,a,n.pendingProps);case 24:return Os(n),l=Yt(kt),t===null?(g=pd(),g===null&&(g=dt,b=hd(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=a),g=b),n.memoizedState={parent:l,cache:g},yd(n),Qr(n,kt,g)):((t.lanes&a)!==0&&(xd(t,n),Ba(n,null,null,a),$a()),g=t.memoizedState,b=n.memoizedState,g.parent!==l?(g={parent:l,cache:l},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),Qr(n,kt,l)):(l=b.cache,Qr(n,kt,l),l!==g.cache&&fd(n,[kt],a,!0))),Ft(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Er(t){t.flags|=4}function Jd(t,n,a,l,g){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(D0())t.flags|=8192;else throw $s=bl,gd}else t.flags&=-16777217}function u0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cy(n))if(D0())t.flags|=8192;else throw $s=bl,gd}function $l(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ws():536870912,t.lanes|=n,Di|=n)}function Va(t,n){if(!Xe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var g=t.child;g!==null;)a|=g.lanes|g.childLanes,l|=g.subtreeFlags&65011712,l|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)a|=g.lanes|g.childLanes,l|=g.subtreeFlags,l|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function BN(t,n,a){var l=n.pendingProps;switch(od(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),br(kt),ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ni(n)?Er(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cd())),mt(n),null;case 26:var g=n.type,b=n.memoizedState;return t===null?(Er(n),b!==null?(mt(n),u0(n,b)):(mt(n),Jd(n,g,null,l,a))):b?b!==t.memoizedState?(Er(n),mt(n),u0(n,b)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Er(n),mt(n),Jd(n,g,t,l,a)),null;case 27:if(Re(n),a=ye.current,g=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Er(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return mt(n),null}t=ie.current,Ni(n)?Gp(n):(t=yy(g,l,a),n.stateNode=t,Er(n))}return mt(n),null;case 5:if(Re(n),g=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Er(n);else{if(!l){if(n.stateNode===null)throw Error(i(166));return mt(n),null}if(b=ie.current,Ni(n))Gp(n);else{var k=Kl(ye.current);switch(b){case 1:b=k.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=k.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=k.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=k.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof l.is=="string"?k.createElement("select",{is:l.is}):k.createElement("select"),l.multiple?b.multiple=!0:l.size&&(b.size=l.size);break;default:b=typeof l.is=="string"?k.createElement(g,{is:l.is}):k.createElement(g)}}b[Et]=n,b[qt]=l;e:for(k=n.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===n)break e;for(;k.sibling===null;){if(k.return===null||k.return===n)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}n.stateNode=b;e:switch(Xt(b,g,l),g){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Er(n)}}return mt(n),Jd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Er(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(t=ye.current,Ni(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,g=Pt,g!==null)switch(g.tag){case 27:case 5:l=g.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ay(t.nodeValue,a)),t||Zr(n,!0)}else t=Kl(t).createTextNode(l),t[Et]=n,n.stateNode=t}return mt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ni(n),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Et]=n}else ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else a=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return mt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=Ni(n),l!==null&&l.dehydrated!==null){if(t===null){if(!g)throw Error(i(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Et]=n}else ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),g=!1}else g=cd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,g=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(g=l.alternate.memoizedState.cachePool.pool),b=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(b=l.memoizedState.cachePool.pool),b!==g&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),$l(n,n.updateQueue),mt(n),null);case 4:return ve(),t===null&&Sf(n.stateNode.containerInfo),mt(n),null;case 10:return br(n.type),mt(n),null;case 19:if(Z(Tt),l=n.memoizedState,l===null)return mt(n),null;if(g=(n.flags&128)!==0,b=l.rendering,b===null)if(g)Va(l,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(b=El(t),b!==null){for(n.flags|=128,Va(l,!1),t=b.updateQueue,n.updateQueue=t,$l(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bp(a,t),a=a.sibling;return ee(Tt,Tt.current&1|2),Xe&&xr(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Nt()>Il&&(n.flags|=128,g=!0,Va(l,!1),n.lanes=4194304)}else{if(!g)if(t=El(b),t!==null){if(n.flags|=128,g=!0,t=t.updateQueue,n.updateQueue=t,$l(n,t),Va(l,!0),l.tail===null&&l.tailMode==="hidden"&&!b.alternate&&!Xe)return mt(n),null}else 2*Nt()-l.renderingStartTime>Il&&a!==536870912&&(n.flags|=128,g=!0,Va(l,!1),n.lanes=4194304);l.isBackwards?(b.sibling=n.child,n.child=b):(t=l.last,t!==null?t.sibling=b:n.child=b,l.last=b)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Nt(),t.sibling=null,a=Tt.current,ee(Tt,g?a&1|2:a&1),Xe&&xr(n,l.treeForkCount),t):(mt(n),null);case 22:case 23:return yn(n),Sd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),a=n.updateQueue,a!==null&&$l(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Z(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),br(kt),mt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function HN(t,n){switch(od(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return br(kt),ve(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Re(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(i(340));ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Z(Tt),null;case 4:return ve(),null;case 10:return br(n.type),null;case 22:case 23:return yn(n),Sd(),t!==null&&Z(Ls),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return br(kt),null;case 25:return null;default:return null}}function d0(t,n){switch(od(n),n.tag){case 3:br(kt),ve();break;case 26:case 27:case 5:Re(n);break;case 4:ve();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Z(Tt);break;case 10:br(n.type);break;case 22:case 23:yn(n),Sd(),t!==null&&Z(Ls);break;case 24:br(kt)}}function Pa(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var g=l.next;a=g;do{if((a.tag&t)===t){l=void 0;var b=a.create,k=a.inst;l=b(),k.destroy=l}a=a.next}while(a!==g)}}catch(D){at(n,n.return,D)}}function ns(t,n,a){try{var l=n.updateQueue,g=l!==null?l.lastEffect:null;if(g!==null){var b=g.next;l=b;do{if((l.tag&t)===t){var k=l.inst,D=k.destroy;if(D!==void 0){k.destroy=void 0,g=n;var X=a,ne=D;try{ne()}catch(ce){at(g,X,ce)}}}l=l.next}while(l!==b)}}catch(ce){at(n,n.return,ce)}}function f0(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ng(n,a)}catch(l){at(t,t.return,l)}}}function h0(t,n,a){a.props=qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,n,l)}}function Ya(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(g){at(t,n,g)}}function nr(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(g){at(t,n,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){at(t,n,g)}else a.current=null}function m0(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(g){at(t,t.return,g)}}function ef(t,n,a){try{var l=t.stateNode;oE(l,t.type,a,n),l[qt]=n}catch(g){at(t,t.return,g)}}function p0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cs(t.type)||t.tag===4}function tf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=pr));else if(l!==4&&(l===27&&cs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(nf(t,n,a),t=t.sibling;t!==null;)nf(t,n,a),t=t.sibling}function Bl(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&cs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bl(t,n,a),t=t.sibling;t!==null;)Bl(t,n,a),t=t.sibling}function g0(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,g=n.attributes;g.length;)n.removeAttributeNode(g[0]);Xt(n,l,a),n[Et]=t,n[qt]=a}catch(b){at(t,t.return,b)}}var Cr=!1,Lt=!1,rf=!1,y0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function qN(t,n){if(t=t.containerInfo,Cf=ic,t=Tp(t),Qu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var g=l.anchorOffset,b=l.focusNode;l=l.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var k=0,D=-1,X=-1,ne=0,ce=0,fe=t,re=null;t:for(;;){for(var ae;fe!==a||g!==0&&fe.nodeType!==3||(D=k+g),fe!==b||l!==0&&fe.nodeType!==3||(X=k+l),fe.nodeType===3&&(k+=fe.nodeValue.length),(ae=fe.firstChild)!==null;)re=fe,fe=ae;for(;;){if(fe===t)break t;if(re===a&&++ne===g&&(D=k),re===b&&++ce===l&&(X=k),(ae=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=ae}a=D===-1||X===-1?null:{start:D,end:X}}else a=null}a=a||{start:0,end:0}}else a=null;for(_f={focusedElem:t,selectionRange:a},ic=!1,Ut=n;Ut!==null;)if(n=Ut,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ut=t;else for(;Ut!==null;){switch(n=Ut,b=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)g=t[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&b!==null){t=void 0,a=n,g=b.memoizedProps,b=b.memoizedState,l=a.stateNode;try{var Ne=qs(a.type,g);t=l.getSnapshotBeforeUpdate(Ne,b),l.__reactInternalSnapshotBeforeUpdate=t}catch(ke){at(a,a.return,ke)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Tf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=n.sibling,t!==null){t.return=n.return,Ut=t;break}Ut=n.return}}function x0(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(t,a),l&4&&Pa(5,a);break;case 1:if(jr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(k){at(a,a.return,k)}else{var g=qs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(g,n,t.__reactInternalSnapshotBeforeUpdate)}catch(k){at(a,a.return,k)}}l&64&&f0(a),l&512&&Ya(a,a.return);break;case 3:if(jr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ng(t,n)}catch(k){at(a,a.return,k)}}break;case 27:n===null&&l&4&&g0(a);case 26:case 5:jr(t,a),n===null&&l&4&&m0(a),l&512&&Ya(a,a.return);break;case 12:jr(t,a);break;case 31:jr(t,a),l&4&&w0(t,a);break;case 13:jr(t,a),l&4&&S0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZN.bind(null,a),pE(t,a))));break;case 22:if(l=a.memoizedState!==null||Cr,!l){n=n!==null&&n.memoizedState!==null||Lt,g=Cr;var b=Lt;Cr=l,(Lt=n)&&!b?Ar(t,a,(a.subtreeFlags&8772)!==0):jr(t,a),Cr=g,Lt=b}break;case 30:break;default:jr(t,a)}}function v0(t){var n=t.alternate;n!==null&&(t.alternate=null,v0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ct(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,on=!1;function _r(t,n,a){for(a=a.child;a!==null;)b0(t,n,a),a=a.sibling}function b0(t,n,a){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(K,a)}catch{}switch(a.tag){case 26:Lt||nr(a,n),_r(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||nr(a,n);var l=yt,g=on;cs(a.type)&&(yt=a.stateNode,on=!1),_r(t,n,a),to(a.stateNode),yt=l,on=g;break;case 5:Lt||nr(a,n);case 6:if(l=yt,g=on,yt=null,_r(t,n,a),yt=l,on=g,yt!==null)if(on)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(b){at(a,n,b)}else try{yt.removeChild(a.stateNode)}catch(b){at(a,n,b)}break;case 18:yt!==null&&(on?(t=yt,fy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vi(t)):fy(yt,a.stateNode));break;case 4:l=yt,g=on,yt=a.stateNode.containerInfo,on=!0,_r(t,n,a),yt=l,on=g;break;case 0:case 11:case 14:case 15:ns(2,a,n),Lt||ns(4,a,n),_r(t,n,a);break;case 1:Lt||(nr(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h0(a,n,l)),_r(t,n,a);break;case 21:_r(t,n,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,_r(t,n,a),Lt=l;break;default:_r(t,n,a)}}function w0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Vi(t)}catch(a){at(n,n.return,a)}}}function S0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vi(t)}catch(a){at(n,n.return,a)}}function UN(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new y0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new y0),n;default:throw Error(i(435,t.tag))}}function Hl(t,n){var a=UN(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var g=QN.bind(null,t,l);l.then(g,g)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var g=a[l],b=t,k=n,D=k;e:for(;D!==null;){switch(D.tag){case 27:if(cs(D.type)){yt=D.stateNode,on=!1;break e}break;case 5:yt=D.stateNode,on=!1;break e;case 3:case 4:yt=D.stateNode.containerInfo,on=!0;break e}D=D.return}if(yt===null)throw Error(i(160));b0(b,k,g),yt=null,on=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)N0(n,t),n=n.sibling}var Gn=null;function N0(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),cn(t),l&4&&(ns(3,t,t.return),Pa(3,t),ns(5,t,t.return));break;case 1:ln(n,t),cn(t),l&512&&(Lt||a===null||nr(a,a.return)),l&64&&Cr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var g=Gn;if(ln(n,t),cn(t),l&512&&(Lt||a===null||nr(a,a.return)),l&4){var b=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,g=g.ownerDocument||g;t:switch(l){case"title":b=g.getElementsByTagName("title")[0],(!b||b[hr]||b[Et]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(l),g.head.insertBefore(b,g.querySelector("head > title"))),Xt(b,l,a),b[Et]=t,be(b),l=b;break e;case"link":var k=Ny("link","href",g).get(l+(a.href||""));if(k){for(var D=0;D<k.length;D++)if(b=k[D],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){k.splice(D,1);break t}}b=g.createElement(l),Xt(b,l,a),g.head.appendChild(b);break;case"meta":if(k=Ny("meta","content",g).get(l+(a.content||""))){for(D=0;D<k.length;D++)if(b=k[D],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){k.splice(D,1);break t}}b=g.createElement(l),Xt(b,l,a),g.head.appendChild(b);break;default:throw Error(i(468,l))}b[Et]=t,be(b),l=b}t.stateNode=l}else Ey(g,t.type,t.stateNode);else t.stateNode=Sy(g,l,t.memoizedProps);else b!==l?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,l===null?Ey(g,t.type,t.stateNode):Sy(g,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ef(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),cn(t),l&512&&(Lt||a===null||nr(a,a.return)),a!==null&&l&4&&ef(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),cn(t),l&512&&(Lt||a===null||nr(a,a.return)),t.flags&32){g=t.stateNode;try{hi(g,"")}catch(Ne){at(t,t.return,Ne)}}l&4&&t.stateNode!=null&&(g=t.memoizedProps,ef(t,g,a!==null?a.memoizedProps:g)),l&1024&&(rf=!0);break;case 6:if(ln(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Ne){at(t,t.return,Ne)}}break;case 3:if(tc=null,g=Gn,Gn=Jl(n.containerInfo),ln(n,t),Gn=g,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vi(n.containerInfo)}catch(Ne){at(t,t.return,Ne)}rf&&(rf=!1,E0(t));break;case 4:l=Gn,Gn=Jl(t.stateNode.containerInfo),ln(n,t),cn(t),Gn=l;break;case 12:ln(n,t),cn(t);break;case 31:ln(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hl(t,l)));break;case 13:ln(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ul=Nt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hl(t,l)));break;case 22:g=t.memoizedState!==null;var X=a!==null&&a.memoizedState!==null,ne=Cr,ce=Lt;if(Cr=ne||g,Lt=ce||X,ln(n,t),Lt=ce,Cr=ne,cn(t),l&8192)e:for(n=t.stateNode,n._visibility=g?n._visibility&-2:n._visibility|1,g&&(a===null||X||Cr||Lt||Us(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){X=a=n;try{if(b=X.stateNode,g)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{D=X.stateNode;var fe=X.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;D.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ne){at(X,X.return,Ne)}}}else if(n.tag===6){if(a===null){X=n;try{X.stateNode.nodeValue=g?"":X.memoizedProps}catch(Ne){at(X,X.return,Ne)}}}else if(n.tag===18){if(a===null){X=n;try{var ae=X.stateNode;g?hy(ae,!0):hy(X.stateNode,!1)}catch(Ne){at(X,X.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Hl(t,a))));break;case 19:ln(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Hl(t,l)));break;case 30:break;case 21:break;default:ln(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(p0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var g=a.stateNode,b=tf(t);Bl(t,b,g);break;case 5:var k=a.stateNode;a.flags&32&&(hi(k,""),a.flags&=-33);var D=tf(t);Bl(t,D,k);break;case 3:case 4:var X=a.stateNode.containerInfo,ne=tf(t);nf(t,ne,X);break;default:throw Error(i(161))}}catch(ce){at(t,t.return,ce)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function E0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;E0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function jr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)x0(t,n.alternate,n),n=n.sibling}function Us(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ns(4,n,n.return),Us(n);break;case 1:nr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&h0(n,n.return,a),Us(n);break;case 27:to(n.stateNode);case 26:case 5:nr(n,n.return),Us(n);break;case 22:n.memoizedState===null&&Us(n);break;case 30:Us(n);break;default:Us(n)}t=t.sibling}}function Ar(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,g=t,b=n,k=b.flags;switch(b.tag){case 0:case 11:case 15:Ar(g,b,a),Pa(4,b);break;case 1:if(Ar(g,b,a),l=b,g=l.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ne){at(l,l.return,ne)}if(l=b,g=l.updateQueue,g!==null){var D=l.stateNode;try{var X=g.shared.hiddenCallbacks;if(X!==null)for(g.shared.hiddenCallbacks=null,g=0;g<X.length;g++)tg(X[g],D)}catch(ne){at(l,l.return,ne)}}a&&k&64&&f0(b),Ya(b,b.return);break;case 27:g0(b);case 26:case 5:Ar(g,b,a),a&&l===null&&k&4&&m0(b),Ya(b,b.return);break;case 12:Ar(g,b,a);break;case 31:Ar(g,b,a),a&&k&4&&w0(g,b);break;case 13:Ar(g,b,a),a&&k&4&&S0(g,b);break;case 22:b.memoizedState===null&&Ar(g,b,a),Ya(b,b.return);break;case 30:break;default:Ar(g,b,a)}n=n.sibling}}function sf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ka(a))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ka(t))}function Vn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)C0(t,n,a,l),n=n.sibling}function C0(t,n,a,l){var g=n.flags;switch(n.tag){case 0:case 11:case 15:Vn(t,n,a,l),g&2048&&Pa(9,n);break;case 1:Vn(t,n,a,l);break;case 3:Vn(t,n,a,l),g&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ka(t)));break;case 12:if(g&2048){Vn(t,n,a,l),t=n.stateNode;try{var b=n.memoizedProps,k=b.id,D=b.onPostCommit;typeof D=="function"&&D(k,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){at(n,n.return,X)}}else Vn(t,n,a,l);break;case 31:Vn(t,n,a,l);break;case 13:Vn(t,n,a,l);break;case 23:break;case 22:b=n.stateNode,k=n.alternate,n.memoizedState!==null?b._visibility&2?Vn(t,n,a,l):Fa(t,n):b._visibility&2?Vn(t,n,a,l):(b._visibility|=2,zi(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),g&2048&&sf(k,n);break;case 24:Vn(t,n,a,l),g&2048&&af(n.alternate,n);break;default:Vn(t,n,a,l)}}function zi(t,n,a,l,g){for(g=g&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var b=t,k=n,D=a,X=l,ne=k.flags;switch(k.tag){case 0:case 11:case 15:zi(b,k,D,X,g),Pa(8,k);break;case 23:break;case 22:var ce=k.stateNode;k.memoizedState!==null?ce._visibility&2?zi(b,k,D,X,g):Fa(b,k):(ce._visibility|=2,zi(b,k,D,X,g)),g&&ne&2048&&sf(k.alternate,k);break;case 24:zi(b,k,D,X,g),g&&ne&2048&&af(k.alternate,k);break;default:zi(b,k,D,X,g)}n=n.sibling}}function Fa(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,g=l.flags;switch(l.tag){case 22:Fa(a,l),g&2048&&sf(l.alternate,l);break;case 24:Fa(a,l),g&2048&&af(l.alternate,l);break;default:Fa(a,l)}n=n.sibling}}var Xa=8192;function Oi(t,n,a){if(t.subtreeFlags&Xa)for(t=t.child;t!==null;)_0(t,n,a),t=t.sibling}function _0(t,n,a){switch(t.tag){case 26:Oi(t,n,a),t.flags&Xa&&t.memoizedState!==null&&jE(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:Oi(t,n,a);break;case 3:case 4:var l=Gn;Gn=Jl(t.stateNode.containerInfo),Oi(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Xa,Xa=16777216,Oi(t,n,a),Xa=l):Oi(t,n,a));break;default:Oi(t,n,a)}}function j0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Za(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,T0(l,t)}j0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A0(t),t=t.sibling}function A0(t){switch(t.tag){case 0:case 11:case 15:Za(t),t.flags&2048&&ns(9,t,t.return);break;case 3:Za(t);break;case 12:Za(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ql(t)):Za(t);break;default:Za(t)}}function ql(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ut=l,T0(l,t)}j0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ns(8,n,n.return),ql(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ql(n));break;default:ql(n)}t=t.sibling}}function T0(t,n){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:ns(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ka(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var g=l.sibling,b=l.return;if(v0(l),l===a){Ut=null;break e}if(g!==null){g.return=b,Ut=g;break e}Ut=b}}}var IN={getCacheForType:function(t){var n=Yt(kt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Yt(kt).controller.signal}},GN=typeof WeakMap=="function"?WeakMap:Map,rt=0,dt=null,Ve=null,Ye=0,it=0,xn=null,rs=!1,Li=!1,of=!1,Tr=0,jt=0,ss=0,Is=0,lf=0,vn=0,Di=0,Qa=null,un=null,cf=!1,Ul=0,M0=0,Il=1/0,Gl=null,is=null,$t=0,as=null,$i=null,Mr=0,uf=0,df=null,R0=null,Wa=0,ff=null;function bn(){return(rt&2)!==0&&Ye!==0?Ye&-Ye:L.T!==null?xf():Es()}function k0(){if(vn===0)if((Ye&536870912)===0||Xe){var t=tt;tt<<=1,(tt&3932160)===0&&(tt=262144),vn=t}else vn=536870912;return t=gn.current,t!==null&&(t.flags|=32),vn}function dn(t,n,a){(t===dt&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Bi(t,0),os(t,Ye,vn,!1)),dr(t,a),((rt&2)===0||t!==dt)&&(t===dt&&((rt&2)===0&&(Is|=a),jt===4&&os(t,Ye,vn,!1)),rr(t))}function z0(t,n,a){if((rt&6)!==0)throw Error(i(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Vt(t,n),g=l?YN(t,n):mf(t,n,!0),b=l;do{if(g===0){Li&&!l&&os(t,n,0,!1);break}else{if(a=t.current.alternate,b&&!VN(a)){g=mf(t,n,!1),b=!1;continue}if(g===2){if(b=n,t.errorRecoveryDisabledLanes&b)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){n=k;e:{var D=t;g=Qa;var X=D.current.memoizedState.isDehydrated;if(X&&(Bi(D,k).flags|=256),k=mf(D,k,!1),k!==2){if(of&&!X){D.errorRecoveryDisabledLanes|=b,Is|=b,g=4;break e}b=un,un=g,b!==null&&(un===null?un=b:un.push.apply(un,b))}g=k}if(b=!1,g!==2)continue}}if(g===1){Bi(t,0),os(t,n,0,!0);break}e:{switch(l=t,b=g,b){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:os(l,n,vn,!rs);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(g=Ul+300-Nt(),10<g)){if(os(l,n,vn,!rs),ft(l,0,!0)!==0)break e;Mr=n,l.timeoutHandle=uy(O0.bind(null,l,a,un,Gl,cf,n,vn,Is,Di,rs,b,"Throttled",-0,0),g);break e}O0(l,a,un,Gl,cf,n,vn,Is,Di,rs,b,null,-0,0)}}break}while(!0);rr(t)}function O0(t,n,a,l,g,b,k,D,X,ne,ce,fe,re,ae){if(t.timeoutHandle=-1,fe=n.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},_0(n,b,fe);var Ne=(b&62914560)===b?Ul-Nt():(b&4194048)===b?M0-Nt():0;if(Ne=AE(fe,Ne),Ne!==null){Mr=b,t.cancelPendingCommit=Ne(I0.bind(null,t,n,b,a,l,g,k,D,X,ce,fe,null,re,ae)),os(t,b,k,!ne);return}}I0(t,n,b,a,l,g,k,D,X)}function VN(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var g=a[l],b=g.getSnapshot;g=g.value;try{if(!mn(b(),g))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function os(t,n,a,l){n&=~lf,n&=~Is,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var g=n;0<g;){var b=31-pe(g),k=1<<b;l[b]=-1,g&=~k}a!==0&&fr(t,a,n)}function Vl(){return(rt&6)===0?(Ka(0),!1):!0}function hf(){if(Ve!==null){if(it===0)var t=Ve.return;else t=Ve,vr=zs=null,Ad(t),Ai=null,Oa=0,t=Ve;for(;t!==null;)d0(t.alternate,t),t=t.return;Ve=null}}function Bi(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,uE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Mr=0,hf(),dt=t,Ve=a=yr(t.current,null),Ye=n,it=0,xn=null,rs=!1,Li=Vt(t,n),of=!1,Di=vn=lf=Is=ss=jt=0,un=Qa=null,cf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var g=31-pe(l),b=1<<g;n|=t[g],l&=~b}return Tr=n,dl(),a}function L0(t,n){$e=null,L.H=Ia,n===ji||n===vl?(n=Wp(),it=3):n===gd?(n=Wp(),it=4):it=n===Vd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Ve===null&&(jt=1,zl(t,An(n,t.current)))}function D0(){var t=gn.current;return t===null?!0:(Ye&4194048)===Ye?kn===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?t===kn:!1}function $0(){var t=L.H;return L.H=Ia,t===null?Ia:t}function B0(){var t=L.A;return L.A=IN,t}function Pl(){jt=4,rs||(Ye&4194048)!==Ye&&gn.current!==null||(Li=!0),(ss&134217727)===0&&(Is&134217727)===0||dt===null||os(dt,Ye,vn,!1)}function mf(t,n,a){var l=rt;rt|=2;var g=$0(),b=B0();(dt!==t||Ye!==n)&&(Gl=null,Bi(t,n)),n=!1;var k=jt;e:do try{if(it!==0&&Ve!==null){var D=Ve,X=xn;switch(it){case 8:hf(),k=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var ne=it;if(it=0,xn=null,Hi(t,D,X,ne),a&&Li){k=0;break e}break;default:ne=it,it=0,xn=null,Hi(t,D,X,ne)}}PN(),k=jt;break}catch(ce){L0(t,ce)}while(!0);return n&&t.shellSuspendCounter++,vr=zs=null,rt=l,L.H=g,L.A=b,Ve===null&&(dt=null,Ye=0,dl()),k}function PN(){for(;Ve!==null;)H0(Ve)}function YN(t,n){var a=rt;rt|=2;var l=$0(),g=B0();dt!==t||Ye!==n?(Gl=null,Il=Nt()+500,Bi(t,n)):Li=Vt(t,n);e:do try{if(it!==0&&Ve!==null){n=Ve;var b=xn;t:switch(it){case 1:it=0,xn=null,Hi(t,n,b,1);break;case 2:case 9:if(Zp(b)){it=0,xn=null,q0(n);break}n=function(){it!==2&&it!==9||dt!==t||(it=7),rr(t)},b.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Zp(b)?(it=0,xn=null,q0(n)):(it=0,xn=null,Hi(t,n,b,7));break;case 5:var k=null;switch(Ve.tag){case 26:k=Ve.memoizedState;case 5:case 27:var D=Ve;if(k?Cy(k):D.stateNode.complete){it=0,xn=null;var X=D.sibling;if(X!==null)Ve=X;else{var ne=D.return;ne!==null?(Ve=ne,Yl(ne)):Ve=null}break t}}it=0,xn=null,Hi(t,n,b,5);break;case 6:it=0,xn=null,Hi(t,n,b,6);break;case 8:hf(),jt=6;break e;default:throw Error(i(462))}}FN();break}catch(ce){L0(t,ce)}while(!0);return vr=zs=null,L.H=l,L.A=g,rt=a,Ve!==null?0:(dt=null,Ye=0,dl(),jt)}function FN(){for(;Ve!==null&&!Kt();)H0(Ve)}function H0(t){var n=c0(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,n===null?Yl(t):Ve=n}function q0(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=r0(a,n,n.pendingProps,n.type,void 0,Ye);break;case 11:n=r0(a,n,n.pendingProps,n.type.render,n.ref,Ye);break;case 5:Ad(n);default:d0(a,n),n=Ve=Bp(n,Tr),n=c0(a,n,Tr)}t.memoizedProps=t.pendingProps,n===null?Yl(t):Ve=n}function Hi(t,n,a,l){vr=zs=null,Ad(n),Ai=null,Oa=0;var g=n.return;try{if(LN(t,g,n,a,Ye)){jt=1,zl(t,An(a,t.current)),Ve=null;return}}catch(b){if(g!==null)throw Ve=g,b;jt=1,zl(t,An(a,t.current)),Ve=null;return}n.flags&32768?(Xe||l===1?t=!0:Li||(Ye&536870912)!==0?t=!1:(rs=t=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U0(n,t)):Yl(n)}function Yl(t){var n=t;do{if((n.flags&32768)!==0){U0(n,rs);return}t=n.return;var a=BN(n.alternate,n,Tr);if(a!==null){Ve=a;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);jt===0&&(jt=5)}function U0(t,n){do{var a=HN(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);jt=6,Ve=null}function I0(t,n,a,l,g,b,k,D,X){t.cancelPendingCommit=null;do Fl();while($t!==0);if((rt&6)!==0)throw Error(i(327));if(n!==null){if(n===t.current)throw Error(i(177));if(b=n.lanes|n.childLanes,b|=td,ya(t,a,b,k,D,X),t===dt&&(Ve=dt=null,Ye=0),$i=n,as=t,Mr=a,uf=b,df=g,R0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WN(Jt,function(){return F0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,g=q.p,q.p=2,k=rt,rt|=4;try{qN(t,n,a)}finally{rt=k,q.p=g,L.T=l}}$t=1,G0(),V0(),P0()}}function G0(){if($t===1){$t=0;var t=as,n=$i,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=q.p;q.p=2;var g=rt;rt|=4;try{N0(n,t);var b=_f,k=Tp(t.containerInfo),D=b.focusedElem,X=b.selectionRange;if(k!==D&&D&&D.ownerDocument&&Ap(D.ownerDocument.documentElement,D)){if(X!==null&&Qu(D)){var ne=X.start,ce=X.end;if(ce===void 0&&(ce=ne),"selectionStart"in D)D.selectionStart=ne,D.selectionEnd=Math.min(ce,D.value.length);else{var fe=D.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var ae=re.getSelection(),Ne=D.textContent.length,ke=Math.min(X.start,Ne),ut=X.end===void 0?ke:Math.min(X.end,Ne);!ae.extend&&ke>ut&&(k=ut,ut=ke,ke=k);var J=jp(D,ke),W=jp(D,ut);if(J&&W&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var te=fe.createRange();te.setStart(J.node,J.offset),ae.removeAllRanges(),ke>ut?(ae.addRange(te),ae.extend(W.node,W.offset)):(te.setEnd(W.node,W.offset),ae.addRange(te))}}}}for(fe=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&fe.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<fe.length;D++){var de=fe[D];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}ic=!!Cf,_f=Cf=null}finally{rt=g,q.p=l,L.T=a}}t.current=n,$t=2}}function V0(){if($t===2){$t=0;var t=as,n=$i,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=q.p;q.p=2;var g=rt;rt|=4;try{x0(t,n.alternate,n)}finally{rt=g,q.p=l,L.T=a}}$t=3}}function P0(){if($t===4||$t===3){$t=0,En();var t=as,n=$i,a=Mr,l=R0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$t=5:($t=0,$i=as=null,Y0(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(is=null),Ns(a),n=n.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(K,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=L.T,g=q.p,q.p=2,L.T=null;try{for(var b=t.onRecoverableError,k=0;k<l.length;k++){var D=l[k];b(D.value,{componentStack:D.stack})}}finally{L.T=n,q.p=g}}(Mr&3)!==0&&Fl(),rr(t),g=t.pendingLanes,(a&261930)!==0&&(g&42)!==0?t===ff?Wa++:(Wa=0,ff=t):Wa=0,Ka(0)}}function Y0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ka(n)))}function Fl(){return G0(),V0(),P0(),F0()}function F0(){if($t!==5)return!1;var t=as,n=uf;uf=0;var a=Ns(Mr),l=L.T,g=q.p;try{q.p=32>a?32:a,L.T=null,a=df,df=null;var b=as,k=Mr;if($t=0,$i=as=null,Mr=0,(rt&6)!==0)throw Error(i(331));var D=rt;if(rt|=4,A0(b.current),C0(b,b.current,k,a),rt=D,Ka(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(K,b)}catch{}return!0}finally{q.p=g,L.T=l,Y0(t,n)}}function X0(t,n,a){n=An(a,n),n=Gd(t.stateNode,n,2),t=Jr(t,n,2),t!==null&&(dr(t,2),rr(t))}function at(t,n,a){if(t.tag===3)X0(t,t,a);else for(;n!==null;){if(n.tag===3){X0(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){t=An(a,t),a=Zg(2),l=Jr(n,a,2),l!==null&&(Qg(a,l,n,t),dr(l,2),rr(l));break}}n=n.return}}function pf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new GN;var g=new Set;l.set(n,g)}else g=l.get(n),g===void 0&&(g=new Set,l.set(n,g));g.has(a)||(of=!0,g.add(a),t=XN.bind(null,t,n,a),n.then(t,t))}function XN(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,dt===t&&(Ye&a)===a&&(jt===4||jt===3&&(Ye&62914560)===Ye&&300>Nt()-Ul?(rt&2)===0&&Bi(t,0):lf|=a,Di===Ye&&(Di=0)),rr(t)}function Z0(t,n){n===0&&(n=ws()),t=Ms(t,n),t!==null&&(dr(t,n),rr(t))}function ZN(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Z0(t,a)}function QN(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,g=t.memoizedState;g!==null&&(a=g.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(n),Z0(t,a)}function WN(t,n){return Gt(t,n)}var Xl=null,qi=null,gf=!1,Zl=!1,yf=!1,ls=0;function rr(t){t!==qi&&t.next===null&&(qi===null?Xl=qi=t:qi=qi.next=t),Zl=!0,gf||(gf=!0,JN())}function Ka(t,n){if(!yf&&Zl){yf=!0;do for(var a=!1,l=Xl;l!==null;){if(t!==0){var g=l.pendingLanes;if(g===0)var b=0;else{var k=l.suspendedLanes,D=l.pingedLanes;b=(1<<31-pe(42|t)+1)-1,b&=g&~(k&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,J0(l,b))}else b=Ye,b=ft(l,l===dt?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(b&3)===0||Vt(l,b)||(a=!0,J0(l,b));l=l.next}while(a);yf=!1}}function KN(){Q0()}function Q0(){Zl=gf=!1;var t=0;ls!==0&&cE()&&(t=ls);for(var n=Nt(),a=null,l=Xl;l!==null;){var g=l.next,b=W0(l,n);b===0?(l.next=null,a===null?Xl=g:a.next=g,g===null&&(qi=a)):(a=l,(t!==0||(b&3)!==0)&&(Zl=!0)),l=g}$t!==0&&$t!==5||Ka(t),ls!==0&&(ls=0)}function W0(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,g=t.expirationTimes,b=t.pendingLanes&-62914561;0<b;){var k=31-pe(b),D=1<<k,X=g[k];X===-1?((D&a)===0||(D&l)!==0)&&(g[k]=ur(D,n)):X<=n&&(t.expiredLanes|=D),b&=~D}if(n=dt,a=Ye,a=ft(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Vt(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&gt(l),Ns(a)){case 2:case 8:a=nn;break;case 32:a=Jt;break;case 268435456:a=Ht;break;default:a=Jt}return l=K0.bind(null,t),a=Gt(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&gt(l),t.callbackPriority=2,t.callbackNode=null,2}function K0(t,n){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Fl()&&t.callbackNode!==a)return null;var l=Ye;return l=ft(t,t===dt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(z0(t,l,n),W0(t,Nt()),t.callbackNode!=null&&t.callbackNode===a?K0.bind(null,t):null)}function J0(t,n){if(Fl())return null;z0(t,n,!0)}function JN(){dE(function(){(rt&6)!==0?Gt(Rt,KN):Q0()})}function xf(){if(ls===0){var t=Ci;t===0&&(t=Ie,Ie<<=1,(Ie&261888)===0&&(Ie=256)),ls=t}return ls}function ey(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:rl(""+t)}function ty(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function eE(t,n,a,l,g){if(n==="submit"&&a&&a.stateNode===g){var b=ey((g[qt]||null).action),k=l.submitter;k&&(n=(n=k[qt]||null)?ey(n.formAction):k.getAttribute("formAction"),n!==null&&(b=n,k=null));var D=new ol("action","action",null,l,g);t.push({event:D,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var X=k?ty(g,k):new FormData(g);$d(a,{pending:!0,data:X,method:g.method,action:b},null,X)}}else typeof b=="function"&&(D.preventDefault(),X=k?ty(g,k):new FormData(g),$d(a,{pending:!0,data:X,method:g.method,action:b},b,X))},currentTarget:g}]})}}for(var vf=0;vf<ed.length;vf++){var bf=ed[vf],tE=bf.toLowerCase(),nE=bf[0].toUpperCase()+bf.slice(1);In(tE,"on"+nE)}In(kp,"onAnimationEnd"),In(zp,"onAnimationIteration"),In(Op,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(xN,"onTransitionRun"),In(vN,"onTransitionStart"),In(bN,"onTransitionCancel"),In(Lp,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function ny(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],g=l.event;l=l.listeners;e:{var b=void 0;if(n)for(var k=l.length-1;0<=k;k--){var D=l[k],X=D.instance,ne=D.currentTarget;if(D=D.listener,X!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=ne;try{b(g)}catch(ce){ul(ce)}g.currentTarget=null,b=X}else for(k=0;k<l.length;k++){if(D=l[k],X=D.instance,ne=D.currentTarget,D=D.listener,X!==b&&g.isPropagationStopped())break e;b=D,g.currentTarget=ne;try{b(g)}catch(ce){ul(ce)}g.currentTarget=null,b=X}}}}function Pe(t,n){var a=n[Vr];a===void 0&&(a=n[Vr]=new Set);var l=t+"__bubble";a.has(l)||(ry(n,t,2,!1),a.add(l))}function wf(t,n,a){var l=0;n&&(l|=4),ry(a,t,l,n)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Sf(t){if(!t[Ql]){t[Ql]=!0,Oe.forEach(function(a){a!=="selectionchange"&&(rE.has(a)||wf(a,!1,t),wf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ql]||(n[Ql]=!0,wf("selectionchange",!1,n))}}function ry(t,n,a,l){switch(ky(n)){case 2:var g=RE;break;case 8:g=kE;break;default:g=$f}a=g.bind(null,n,a,t),g=void 0,!Uu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),l?g!==void 0?t.addEventListener(n,a,{capture:!0,passive:g}):t.addEventListener(n,a,!0):g!==void 0?t.addEventListener(n,a,{passive:g}):t.addEventListener(n,a,!1)}function Nf(t,n,a,l,g){var b=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var k=l.tag;if(k===3||k===4){var D=l.stateNode.containerInfo;if(D===g)break;if(k===4)for(k=l.return;k!==null;){var X=k.tag;if((X===3||X===4)&&k.stateNode.containerInfo===g)return;k=k.return}for(;D!==null;){if(k=oe(D),k===null)return;if(X=k.tag,X===5||X===6||X===26||X===27){l=b=k;continue e}D=D.parentNode}}l=l.return}lp(function(){var ne=b,ce=Hu(a),fe=[];e:{var re=Dp.get(t);if(re!==void 0){var ae=ol,Ne=t;switch(t){case"keypress":if(il(a)===0)break e;case"keydown":case"keyup":ae=QS;break;case"focusin":Ne="focus",ae=Pu;break;case"focusout":Ne="blur",ae=Pu;break;case"beforeblur":case"afterblur":ae=Pu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=BS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=JS;break;case kp:case zp:case Op:ae=US;break;case Lp:ae=tN;break;case"scroll":case"scrollend":ae=DS;break;case"wheel":ae=rN;break;case"copy":case"cut":case"paste":ae=GS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=hp;break;case"toggle":case"beforetoggle":ae=iN}var ke=(n&4)!==0,ut=!ke&&(t==="scroll"||t==="scrollend"),J=ke?re!==null?re+"Capture":null:re;ke=[];for(var W=ne,te;W!==null;){var de=W;if(te=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||te===null||J===null||(de=wa(W,J),de!=null&&ke.push(eo(W,de,te))),ut)break;W=W.return}0<ke.length&&(re=new ae(re,Ne,null,a,ce),fe.push({event:re,listeners:ke}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",re&&a!==Bu&&(Ne=a.relatedTarget||a.fromElement)&&(oe(Ne)||Ne[_n]))break e;if((ae||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(Ne=a.relatedTarget||a.toElement,ae=ne,Ne=Ne?oe(Ne):null,Ne!==null&&(ut=c(Ne),ke=Ne.tag,Ne!==ut||ke!==5&&ke!==27&&ke!==6)&&(Ne=null)):(ae=null,Ne=ne),ae!==Ne)){if(ke=dp,de="onMouseLeave",J="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(ke=hp,de="onPointerLeave",J="onPointerEnter",W="pointer"),ut=ae==null?re:Se(ae),te=Ne==null?re:Se(Ne),re=new ke(de,W+"leave",ae,a,ce),re.target=ut,re.relatedTarget=te,de=null,oe(ce)===ne&&(ke=new ke(J,W+"enter",Ne,a,ce),ke.target=te,ke.relatedTarget=ut,de=ke),ut=de,ae&&Ne)t:{for(ke=sE,J=ae,W=Ne,te=0,de=J;de;de=ke(de))te++;de=0;for(var Me=W;Me;Me=ke(Me))de++;for(;0<te-de;)J=ke(J),te--;for(;0<de-te;)W=ke(W),de--;for(;te--;){if(J===W||W!==null&&J===W.alternate){ke=J;break t}J=ke(J),W=ke(W)}ke=null}else ke=null;ae!==null&&sy(fe,re,ae,ke,!1),Ne!==null&&ut!==null&&sy(fe,ut,Ne,ke,!0)}}e:{if(re=ne?Se(ne):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var Je=wp;else if(vp(re))if(Sp)Je=pN;else{Je=hN;var _e=fN}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&$u(ne.elementType)&&(Je=wp):Je=mN;if(Je&&(Je=Je(t,ne))){bp(fe,Je,a,ce);break e}_e&&_e(t,re,ne),t==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&ba(re,"number",re.value)}switch(_e=ne?Se(ne):window,t){case"focusin":(vp(_e)||_e.contentEditable==="true")&&(yi=_e,Wu=ne,Ta=null);break;case"focusout":Ta=Wu=yi=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,Mp(fe,a,ce);break;case"selectionchange":if(yN)break;case"keydown":case"keyup":Mp(fe,a,ce)}var He;if(Fu)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else gi?yp(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(mp&&a.locale!=="ko"&&(gi||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&gi&&(He=cp()):(Yr=ce,Iu="value"in Yr?Yr.value:Yr.textContent,gi=!0)),_e=Wl(ne,Fe),0<_e.length&&(Fe=new fp(Fe,t,null,a,ce),fe.push({event:Fe,listeners:_e}),He?Fe.data=He:(He=xp(a),He!==null&&(Fe.data=He)))),(He=oN?lN(t,a):cN(t,a))&&(Fe=Wl(ne,"onBeforeInput"),0<Fe.length&&(_e=new fp("onBeforeInput","beforeinput",null,a,ce),fe.push({event:_e,listeners:Fe}),_e.data=He)),eE(fe,t,ne,a,ce)}ny(fe,n)})}function eo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Wl(t,n){for(var a=n+"Capture",l=[];t!==null;){var g=t,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=wa(t,a),g!=null&&l.unshift(eo(t,g,b)),g=wa(t,n),g!=null&&l.push(eo(t,g,b))),t.tag===3)return l;t=t.return}return[]}function sE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sy(t,n,a,l,g){for(var b=n._reactName,k=[];a!==null&&a!==l;){var D=a,X=D.alternate,ne=D.stateNode;if(D=D.tag,X!==null&&X===l)break;D!==5&&D!==26&&D!==27||ne===null||(X=ne,g?(ne=wa(a,b),ne!=null&&k.unshift(eo(a,ne,X))):g||(ne=wa(a,b),ne!=null&&k.push(eo(a,ne,X)))),a=a.return}k.length!==0&&t.push({event:n,listeners:k})}var iE=/\r\n?/g,aE=/\u0000|\uFFFD/g;function iy(t){return(typeof t=="string"?t:""+t).replace(iE,`
`).replace(aE,"")}function ay(t,n){return n=iy(n),iy(t)===n}function ct(t,n,a,l,g,b){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hi(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hi(t,""+l);break;case"className":di(t,"class",l);break;case"tabIndex":di(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":di(t,a,l);break;case"style":ap(t,l,b);break;case"data":if(n!=="object"){di(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=rl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(n!=="input"&&ct(t,n,"name",g.name,g,null),ct(t,n,"formEncType",g.formEncType,g,null),ct(t,n,"formMethod",g.formMethod,g,null),ct(t,n,"formTarget",g.formTarget,g,null)):(ct(t,n,"encType",g.encType,g,null),ct(t,n,"method",g.method,g,null),ct(t,n,"target",g.target,g,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=rl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=pr);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(g.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=rl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ui(t,"popover",l);break;case"xlinkActuate":Un(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Un(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Un(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Un(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Un(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Un(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Un(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ui(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=OS.get(a)||a,ui(t,a,l))}}function Ef(t,n,a,l,g,b){switch(a){case"style":ap(t,l,b);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(g.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hi(t,l):(typeof l=="number"||typeof l=="bigint")&&hi(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Be.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),n=a.slice(2,g?a.length-7:void 0),b=t[qt]||null,b=b!=null?b[a]:null,typeof b=="function"&&t.removeEventListener(n,b,g),typeof l=="function")){typeof b!="function"&&b!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,g);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ui(t,a,l)}}}function Xt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,g=!1,b;for(b in a)if(a.hasOwnProperty(b)){var k=a[b];if(k!=null)switch(b){case"src":l=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:ct(t,n,b,k,a,null)}}g&&ct(t,n,"srcSet",a.srcSet,a,null),l&&ct(t,n,"src",a.src,a,null);return;case"input":Pe("invalid",t);var D=b=k=g=null,X=null,ne=null;for(l in a)if(a.hasOwnProperty(l)){var ce=a[l];if(ce!=null)switch(l){case"name":g=ce;break;case"type":k=ce;break;case"checked":X=ce;break;case"defaultChecked":ne=ce;break;case"value":b=ce;break;case"defaultValue":D=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(i(137,n));break;default:ct(t,n,l,ce,a,null)}}nl(t,b,D,X,ne,k,g,!1);return;case"select":Pe("invalid",t),l=k=b=null;for(g in a)if(a.hasOwnProperty(g)&&(D=a[g],D!=null))switch(g){case"value":b=D;break;case"defaultValue":k=D;break;case"multiple":l=D;default:ct(t,n,g,D,a,null)}n=b,a=k,t.multiple=!!l,n!=null?mr(t,!!l,n,!1):a!=null&&mr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),b=g=l=null;for(k in a)if(a.hasOwnProperty(k)&&(D=a[k],D!=null))switch(k){case"value":l=D;break;case"defaultValue":g=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:ct(t,n,k,D,a,null)}sp(t,l,g,b);return;case"option":for(X in a)if(a.hasOwnProperty(X)&&(l=a[X],l!=null))switch(X){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,n,X,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Ja.length;l++)Pe(Ja[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in a)if(a.hasOwnProperty(ne)&&(l=a[ne],l!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:ct(t,n,ne,l,a,null)}return;default:if($u(n)){for(ce in a)a.hasOwnProperty(ce)&&(l=a[ce],l!==void 0&&Ef(t,n,ce,l,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null&&ct(t,n,D,l,a,null))}function oE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,k=null,D=null,X=null,ne=null,ce=null;for(ae in a){var fe=a[ae];if(a.hasOwnProperty(ae)&&fe!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":X=fe;default:l.hasOwnProperty(ae)||ct(t,n,ae,null,l,fe)}}for(var re in l){var ae=l[re];if(fe=a[re],l.hasOwnProperty(re)&&(ae!=null||fe!=null))switch(re){case"type":b=ae;break;case"name":g=ae;break;case"checked":ne=ae;break;case"defaultChecked":ce=ae;break;case"value":k=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,n));break;default:ae!==fe&&ct(t,n,re,ae,l,fe)}}_s(t,k,D,X,ne,ce,b,g);return;case"select":ae=k=D=re=null;for(b in a)if(X=a[b],a.hasOwnProperty(b)&&X!=null)switch(b){case"value":break;case"multiple":ae=X;default:l.hasOwnProperty(b)||ct(t,n,b,null,l,X)}for(g in l)if(b=l[g],X=a[g],l.hasOwnProperty(g)&&(b!=null||X!=null))switch(g){case"value":re=b;break;case"defaultValue":D=b;break;case"multiple":k=b;default:b!==X&&ct(t,n,g,b,l,X)}n=D,a=k,l=ae,re!=null?mr(t,!!a,re,!1):!!l!=!!a&&(n!=null?mr(t,!!a,n,!0):mr(t,!!a,a?[]:"",!1));return;case"textarea":ae=re=null;for(D in a)if(g=a[D],a.hasOwnProperty(D)&&g!=null&&!l.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:ct(t,n,D,null,l,g)}for(k in l)if(g=l[k],b=a[k],l.hasOwnProperty(k)&&(g!=null||b!=null))switch(k){case"value":re=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==b&&ct(t,n,k,g,l,b)}rp(t,re,ae);return;case"option":for(var Ne in a)if(re=a[Ne],a.hasOwnProperty(Ne)&&re!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":t.selected=!1;break;default:ct(t,n,Ne,null,l,re)}for(X in l)if(re=l[X],ae=a[X],l.hasOwnProperty(X)&&re!==ae&&(re!=null||ae!=null))switch(X){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:ct(t,n,X,re,l,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in a)re=a[ke],a.hasOwnProperty(ke)&&re!=null&&!l.hasOwnProperty(ke)&&ct(t,n,ke,null,l,re);for(ne in l)if(re=l[ne],ae=a[ne],l.hasOwnProperty(ne)&&re!==ae&&(re!=null||ae!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,n));break;default:ct(t,n,ne,re,l,ae)}return;default:if($u(n)){for(var ut in a)re=a[ut],a.hasOwnProperty(ut)&&re!==void 0&&!l.hasOwnProperty(ut)&&Ef(t,n,ut,void 0,l,re);for(ce in l)re=l[ce],ae=a[ce],!l.hasOwnProperty(ce)||re===ae||re===void 0&&ae===void 0||Ef(t,n,ce,re,l,ae);return}}for(var J in a)re=a[J],a.hasOwnProperty(J)&&re!=null&&!l.hasOwnProperty(J)&&ct(t,n,J,null,l,re);for(fe in l)re=l[fe],ae=a[fe],!l.hasOwnProperty(fe)||re===ae||re==null&&ae==null||ct(t,n,fe,re,l,ae)}function oy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var g=a[l],b=g.transferSize,k=g.initiatorType,D=g.duration;if(b&&D&&oy(k)){for(k=0,D=g.responseEnd,l+=1;l<a.length;l++){var X=a[l],ne=X.startTime;if(ne>D)break;var ce=X.transferSize,fe=X.initiatorType;ce&&oy(fe)&&(X=X.responseEnd,k+=ce*(X<D?1:(D-ne)/(X-ne)))}if(--l,n+=8*(b+k)/(g.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cf=null,_f=null;function Kl(t){return t.nodeType===9?t:t.ownerDocument}function ly(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function jf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Af=null;function cE(){var t=window.event;return t&&t.type==="popstate"?t===Af?!1:(Af=t,!0):(Af=null,!1)}var uy=typeof setTimeout=="function"?setTimeout:void 0,uE=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(fE)}:uy;function fE(t){setTimeout(function(){throw t})}function cs(t){return t==="head"}function fy(t,n){var a=n,l=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(g),Vi(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")to(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,to(a);for(var b=a.firstChild;b;){var k=b.nextSibling,D=b.nodeName;b[hr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=k}}else a==="body"&&to(t.ownerDocument.body);a=g}while(a);Vi(n)}function hy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tf(a),Ct(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hE(t,n,a,l){for(;t.nodeType===1;){var g=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(b=t.getAttribute("rel"),b==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(b!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(b=t.getAttribute("src"),(b!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===b)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function mE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function my(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function Mf(t){return t.data==="$?"||t.data==="$~"}function Rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function pE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var kf=null;function py(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return zn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function gy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function yy(t,n,a){switch(n=Kl(a),t){case"html":if(t=n.documentElement,!t)throw Error(i(452));return t;case"head":if(t=n.head,!t)throw Error(i(453));return t;case"body":if(t=n.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function to(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ct(t)}var On=new Map,xy=new Set;function Jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rr=q.d;q.d={f:gE,r:yE,D:xE,C:vE,L:bE,m:wE,X:NE,S:SE,M:EE};function gE(){var t=Rr.f(),n=Vl();return t||n}function yE(t){var n=xe(t);n!==null&&n.tag===5&&n.type==="form"?Lg(n):Rr.r(t)}var Ui=typeof document>"u"?null:document;function vy(t,n,a){var l=Ui;if(l&&typeof n=="string"&&n){var g=sn(n);g='link[rel="'+t+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),xy.has(g)||(xy.add(g),t={rel:t,crossOrigin:a,href:n},l.querySelector(g)===null&&(n=l.createElement("link"),Xt(n,"link",t),be(n),l.head.appendChild(n)))}}function xE(t){Rr.D(t),vy("dns-prefetch",t,null)}function vE(t,n){Rr.C(t,n),vy("preconnect",t,n)}function bE(t,n,a){Rr.L(t,n,a);var l=Ui;if(l&&t&&n){var g='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+sn(a.imageSizes)+'"]')):g+='[href="'+sn(t)+'"]';var b=g;switch(n){case"style":b=Ii(t);break;case"script":b=Gi(t)}On.has(b)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(b,t),l.querySelector(g)!==null||n==="style"&&l.querySelector(no(b))||n==="script"&&l.querySelector(ro(b))||(n=l.createElement("link"),Xt(n,"link",t),be(n),l.head.appendChild(n)))}}function wE(t,n){Rr.m(t,n);var a=Ui;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',b=g;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Gi(t)}if(!On.has(b)&&(t=x({rel:"modulepreload",href:t},n),On.set(b,t),a.querySelector(g)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ro(b)))return}l=a.createElement("link"),Xt(l,"link",t),be(l),a.head.appendChild(l)}}}function SE(t,n,a){Rr.S(t,n,a);var l=Ui;if(l&&t){var g=Ee(l).hoistableStyles,b=Ii(t);n=n||"default";var k=g.get(b);if(!k){var D={loading:0,preload:null};if(k=l.querySelector(no(b)))D.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(b))&&zf(t,a);var X=k=l.createElement("link");be(X),Xt(X,"link",t),X._p=new Promise(function(ne,ce){X.onload=ne,X.onerror=ce}),X.addEventListener("load",function(){D.loading|=1}),X.addEventListener("error",function(){D.loading|=2}),D.loading|=4,ec(k,n,l)}k={type:"stylesheet",instance:k,count:1,state:D},g.set(b,k)}}}function NE(t,n){Rr.X(t,n);var a=Ui;if(a&&t){var l=Ee(a).hoistableScripts,g=Gi(t),b=l.get(g);b||(b=a.querySelector(ro(g)),b||(t=x({src:t,async:!0},n),(n=On.get(g))&&Of(t,n),b=a.createElement("script"),be(b),Xt(b,"link",t),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(g,b))}}function EE(t,n){Rr.M(t,n);var a=Ui;if(a&&t){var l=Ee(a).hoistableScripts,g=Gi(t),b=l.get(g);b||(b=a.querySelector(ro(g)),b||(t=x({src:t,async:!0,type:"module"},n),(n=On.get(g))&&Of(t,n),b=a.createElement("script"),be(b),Xt(b,"link",t),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},l.set(g,b))}}function by(t,n,a,l){var g=(g=ye.current)?Jl(g):null;if(!g)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ii(a.href),a=Ee(g).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ii(a.href);var b=Ee(g).hoistableStyles,k=b.get(t);if(k||(g=g.ownerDocument||g,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(t,k),(b=g.querySelector(no(t)))&&!b._p&&(k.instance=b,k.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),b||CE(g,t,a,k.state))),n&&l===null)throw Error(i(528,""));return k}if(n&&l!==null)throw Error(i(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gi(a),a=Ee(g).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ii(t){return'href="'+sn(t)+'"'}function no(t){return'link[rel="stylesheet"]['+t+"]"}function wy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function CE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Xt(n,"link",a),be(n),t.head.appendChild(n))}function Gi(t){return'[src="'+sn(t)+'"]'}function ro(t){return"script[async]"+t}function Sy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return n.instance=l,be(l),l;var g=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),be(l),Xt(l,"style",g),ec(l,a.precedence,t),n.instance=l;case"stylesheet":g=Ii(a.href);var b=t.querySelector(no(g));if(b)return n.state.loading|=4,n.instance=b,be(b),b;l=wy(a),(g=On.get(g))&&zf(l,g),b=(t.ownerDocument||t).createElement("link"),be(b);var k=b;return k._p=new Promise(function(D,X){k.onload=D,k.onerror=X}),Xt(b,"link",l),n.state.loading|=4,ec(b,a.precedence,t),n.instance=b;case"script":return b=Gi(a.src),(g=t.querySelector(ro(b)))?(n.instance=g,be(g),g):(l=a,(g=On.get(b))&&(l=x({},a),Of(l,g)),t=t.ownerDocument||t,g=t.createElement("script"),be(g),Xt(g,"link",l),t.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ec(l,a.precedence,t));return n.instance}function ec(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=l.length?l[l.length-1]:null,b=g,k=0;k<l.length;k++){var D=l[k];if(D.dataset.precedence===n)b=D;else if(b!==g)break}b?b.parentNode.insertBefore(t,b.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function Ny(t,n,a){if(tc===null){var l=new Map,g=tc=new Map;g.set(a,l)}else g=tc,l=g.get(a),l||(l=new Map,g.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),g=0;g<a.length;g++){var b=a[g];if(!(b[hr]||b[Et]||t==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(n)||"";k=t+k;var D=l.get(k);D?D.push(b):l.set(k,[b])}}return l}function Ey(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function _E(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function jE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Ii(l.href),b=n.querySelector(no(g));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=nc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=b,be(b);return}b=n.ownerDocument||n,l=wy(l),(g=On.get(g))&&zf(l,g),b=b.createElement("link"),be(b);var k=b;k._p=new Promise(function(D,X){k.onload=D,k.onerror=X}),Xt(b,"link",l),a.instance=b}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Lf=0;function AE(t,n){return t.stylesheets&&t.count===0&&sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend){var b=t.unsuspend;t.unsuspend=null,b()}},6e4+n);0<t.imgBytes&&Lf===0&&(Lf=62500*lE());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sc(t,t.stylesheets),t.unsuspend)){var b=t.unsuspend;t.unsuspend=null,b()}},(t.imgBytes>Lf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(g)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rc=null;function sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rc=new Map,n.forEach(TE,t),rc=null,nc.call(t))}function TE(t,n){if(!(n.state.loading&4)){var a=rc.get(t);if(a)var l=a.get(null);else{a=new Map,rc.set(t,a);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var k=g[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(a.set(k.dataset.precedence,k),l=k)}l&&a.set(null,l)}g=n.instance,k=g.getAttribute("data-precedence"),b=a.get(k)||l,b===l&&a.set(null,g),a.set(k,g),this.count++,l=nc.bind(this),g.addEventListener("load",l),g.addEventListener("error",l),b?b.parentNode.insertBefore(g,b.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),n.state.loading|=4}}var so={$$typeof:E,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function ME(t,n,a,l,g,b,k,D,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gr(0),this.hiddenUpdates=Gr(null),this.identifierPrefix=l,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function _y(t,n,a,l,g,b,k,D,X,ne,ce,fe){return t=new ME(t,n,a,k,X,ne,ce,fe,D),n=1,b===!0&&(n|=24),b=pn(3,null,null,n),t.current=b,b.stateNode=t,n=hd(),n.refCount++,t.pooledCache=n,n.refCount++,b.memoizedState={element:l,isDehydrated:a,cache:n},yd(b),t}function jy(t){return t?(t=bi,t):bi}function Ay(t,n,a,l,g,b){g=jy(g),l.context===null?l.context=g:l.pendingContext=g,l=Kr(n),l.payload={element:a},b=b===void 0?null:b,b!==null&&(l.callback=b),a=Jr(t,l,n),a!==null&&(dn(a,t,n),Da(a,t,n))}function Ty(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Df(t,n){Ty(t,n),(t=t.alternate)&&Ty(t,n)}function My(t){if(t.tag===13||t.tag===31){var n=Ms(t,67108864);n!==null&&dn(n,t,67108864),Df(t,67108864)}}function Ry(t){if(t.tag===13||t.tag===31){var n=bn();n=Ss(n);var a=Ms(t,n);a!==null&&dn(a,t,n),Df(t,n)}}var ic=!0;function RE(t,n,a,l){var g=L.T;L.T=null;var b=q.p;try{q.p=2,$f(t,n,a,l)}finally{q.p=b,L.T=g}}function kE(t,n,a,l){var g=L.T;L.T=null;var b=q.p;try{q.p=8,$f(t,n,a,l)}finally{q.p=b,L.T=g}}function $f(t,n,a,l){if(ic){var g=Bf(l);if(g===null)Nf(t,n,l,ac,a),zy(t,l);else if(OE(g,t,n,a,l))l.stopPropagation();else if(zy(t,l),n&4&&-1<zE.indexOf(t)){for(;g!==null;){var b=xe(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=ot(b.pendingLanes);if(k!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;k;){var X=1<<31-pe(k);D.entanglements[1]|=X,k&=~X}rr(b),(rt&6)===0&&(Il=Nt()+500,Ka(0))}}break;case 31:case 13:D=Ms(b,2),D!==null&&dn(D,b,2),Vl(),Df(b,2)}if(b=Bf(l),b===null&&Nf(t,n,l,ac,a),b===g)break;g=b}g!==null&&l.stopPropagation()}else Nf(t,n,l,null,a)}}function Bf(t){return t=Hu(t),Hf(t)}var ac=null;function Hf(t){if(ac=null,t=oe(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=u(n),t!==null)return t;t=null}else if(a===31){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ac=t,null}function ky(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qn()){case Rt:return 2;case nn:return 8;case Jt:case Ir:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var qf=!1,us=null,ds=null,fs=null,io=new Map,ao=new Map,hs=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(t,n){switch(t){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":io.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function oo(t,n,a,l,g,b){return t===null||t.nativeEvent!==b?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:b,targetContainers:[g]},n!==null&&(n=xe(n),n!==null&&My(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),t)}function OE(t,n,a,l,g){switch(n){case"focusin":return us=oo(us,t,n,a,l,g),!0;case"dragenter":return ds=oo(ds,t,n,a,l,g),!0;case"mouseover":return fs=oo(fs,t,n,a,l,g),!0;case"pointerover":var b=g.pointerId;return io.set(b,oo(io.get(b)||null,t,n,a,l,g)),!0;case"gotpointercapture":return b=g.pointerId,ao.set(b,oo(ao.get(b)||null,t,n,a,l,g)),!0}return!1}function Oy(t){var n=oe(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=u(a),n!==null){t.blockedOn=n,oi(t.priority,function(){Ry(a)});return}}else if(n===31){if(n=d(a),n!==null){t.blockedOn=n,oi(t.priority,function(){Ry(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Bu=l,a.target.dispatchEvent(l),Bu=null}else return n=xe(a),n!==null&&My(n),t.blockedOn=a,!1;n.shift()}return!0}function Ly(t,n,a){oc(t)&&a.delete(n)}function LE(){qf=!1,us!==null&&oc(us)&&(us=null),ds!==null&&oc(ds)&&(ds=null),fs!==null&&oc(fs)&&(fs=null),io.forEach(Ly),ao.forEach(Ly)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,qf||(qf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LE)))}var cc=null;function Dy(t){cc!==t&&(cc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){cc===t&&(cc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],g=t[n+2];if(typeof l!="function"){if(Hf(l||a)===null)continue;break}var b=xe(a);b!==null&&(t.splice(n,3),n-=3,$d(b,{pending:!0,data:g,method:a.method,action:l},l,g))}}))}function Vi(t){function n(X){return lc(X,t)}us!==null&&lc(us,t),ds!==null&&lc(ds,t),fs!==null&&lc(fs,t),io.forEach(n),ao.forEach(n);for(var a=0;a<hs.length;a++){var l=hs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)Oy(a),a.blockedOn===null&&hs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var g=a[l],b=a[l+1],k=g[qt]||null;if(typeof b=="function")k||Dy(a);else if(k){var D=null;if(b&&b.hasAttribute("formAction")){if(g=b,k=b[qt]||null)D=k.formAction;else if(Hf(g)!==null)continue}else D=k.action;typeof D=="function"?a[l+1]=D:(a.splice(l,3),l-=3),Dy(a)}}}function $y(){function t(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(k){return g=k})},focusReset:"manual",scroll:"manual"})}function n(){g!==null&&(g(),g=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),g!==null&&(g(),g=null)}}}function Uf(t){this._internalRoot=t}uc.prototype.render=Uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));var a=n.current,l=bn();Ay(a,l,t,n,null,null)},uc.prototype.unmount=Uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ay(t.current,2,null,t,null,null),Vl(),n[_n]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Es();t={blockedOn:null,target:t,priority:n};for(var a=0;a<hs.length&&n!==0&&n<hs[a].priority;a++);hs.splice(a,0,t),a===0&&Oy(t)}};var By=r.version;if(By!=="19.2.3")throw Error(i(527,By,"19.2.3"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=f(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var DE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{K=dc.inject(DE),ue=dc}catch{}}return co.createRoot=function(t,n){if(!o(t))throw Error(i(299));var a=!1,l="",g=Pg,b=Yg,k=Fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(k=n.onRecoverableError)),n=_y(t,1,!1,null,null,a,l,null,g,b,k,$y),t[_n]=n.current,Sf(t),new Uf(n)},co.hydrateRoot=function(t,n,a){if(!o(t))throw Error(i(299));var l=!1,g="",b=Pg,k=Yg,D=Fg,X=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(k=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.formState!==void 0&&(X=a.formState)),n=_y(t,1,!0,n,a??null,l,g,X,b,k,D,$y),n.context=jy(null),a=n.current,l=bn(),l=Ss(l),g=Kr(l),g.callback=null,Jr(a,g,l),a=l,n.current.lanes=a,dr(n,a),rr(n),t[_n]=n.current,Sf(t),new uc(n)},co.version="19.2.3",co}var Xy;function YE(){if(Xy)return Vf.exports;Xy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Vf.exports=PE(),Vf.exports}var FE=YE();var Zy="popstate";function XE(e={}){function r(i,o){let{pathname:c,search:u,hash:d}=i.location;return zh("",{pathname:c,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(i,o){return typeof o=="string"?o:_o(o)}return QE(r,s,null,e)}function vt(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function $n(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function ZE(){return Math.random().toString(36).substring(2,10)}function Qy(e,r){return{usr:e.state,key:e.key,idx:r}}function zh(e,r,s=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?da(r):r,state:s,key:r&&r.key||i||ZE()}}function _o({pathname:e="/",search:r="",hash:s=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function da(e){let r={};if(e){let s=e.indexOf("#");s>=0&&(r.hash=e.substring(s),e=e.substring(0,s));let i=e.indexOf("?");i>=0&&(r.search=e.substring(i),e=e.substring(0,i)),e&&(r.pathname=e)}return r}function QE(e,r,s,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,u=o.history,d="POP",m=null,f=p();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function p(){return(u.state||{idx:null}).idx}function x(){d="POP";let C=p(),w=C==null?null:C-f;f=C,m&&m({action:d,location:N.location,delta:w})}function y(C,w){d="PUSH";let _=zh(N.location,C,w);f=p()+1;let E=Qy(_,f),R=N.createHref(_);try{u.pushState(E,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(R)}c&&m&&m({action:d,location:N.location,delta:1})}function v(C,w){d="REPLACE";let _=zh(N.location,C,w);f=p();let E=Qy(_,f),R=N.createHref(_);u.replaceState(E,"",R),c&&m&&m({action:d,location:N.location,delta:0})}function S(C){return WE(C)}let N={get action(){return d},get location(){return e(o,u)},listen(C){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Zy,x),m=C,()=>{o.removeEventListener(Zy,x),m=null}},createHref(C){return r(o,C)},createURL:S,encodeLocation(C){let w=S(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:v,go(C){return u.go(C)}};return N}function WE(e,r=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),vt(s,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:_o(e);return i=i.replace(/ $/,"%20"),!r&&i.startsWith("//")&&(i=s+i),new URL(i,s)}function eb(e,r,s="/"){return KE(e,r,s,!1)}function KE(e,r,s,i){let o=typeof r=="string"?da(r):r,c=Hr(o.pathname||"/",s);if(c==null)return null;let u=tb(e);JE(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let f=uC(c);d=lC(u[m],f,i)}return d}function tb(e,r=[],s=[],i="",o=!1){let c=(u,d,m=o,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&m)return;vt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let x=Dr([i,p.relativePath]),y=s.concat(p);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),tb(u.children,r,y,x,m)),!(u.path==null&&!u.index)&&r.push({path:x,score:aC(x,u.index),routesMeta:y})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))c(u,d);else for(let m of nb(u.path))c(u,d,!0,m)}),r}function nb(e){let r=e.split("/");if(r.length===0)return[];let[s,...i]=r,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let u=nb(i.join("/")),d=[];return d.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&d.push(...u),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function JE(e){e.sort((r,s)=>r.score!==s.score?s.score-r.score:oC(r.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var eC=/^:[\w-]+$/,tC=3,nC=2,rC=1,sC=10,iC=-2,Wy=e=>e==="*";function aC(e,r){let s=e.split("/"),i=s.length;return s.some(Wy)&&(i+=iC),r&&(i+=nC),s.filter(o=>!Wy(o)).reduce((o,c)=>o+(eC.test(c)?tC:c===""?rC:sC),i)}function oC(e,r){return e.length===r.length&&e.slice(0,-1).every((i,o)=>i===r[o])?e[e.length-1]-r[r.length-1]:0}function lC(e,r,s=!1){let{routesMeta:i}=e,o={},c="/",u=[];for(let d=0;d<i.length;++d){let m=i[d],f=d===i.length-1,p=c==="/"?r:r.slice(c.length)||"/",x=Ic({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},p),y=m.route;if(!x&&f&&s&&!i[i.length-1].route.index&&(x=Ic({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:Dr([c,x.pathname]),pathnameBase:pC(Dr([c,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(c=Dr([c,x.pathnameBase]))}return u}function Ic(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,i]=cC(e.path,e.caseSensitive,e.end),o=r.match(s);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:x},y)=>{if(p==="*"){let S=d[y]||"";u=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const v=d[y];return x&&!v?f[p]=void 0:f[p]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:u,pattern:e}}function cC(e,r=!1,s=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),i]}function uC(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function Hr(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,i=e.charAt(s);return i&&i!=="/"?null:e.slice(s)||"/"}var dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fC=e=>dC.test(e);function hC(e,r="/"){let{pathname:s,search:i="",hash:o=""}=typeof e=="string"?da(e):e,c;if(s)if(fC(s))c=s;else{if(s.includes("//")){let u=s;s=s.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${s}`)}s.startsWith("/")?c=Ky(s.substring(1),"/"):c=Ky(s,r)}else c=r;return{pathname:c,search:gC(i),hash:yC(o)}}function Ky(e,r){let s=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Xf(e,r,s,i){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mC(e){return e.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function pm(e){let r=mC(e);return r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase)}function gm(e,r,s,i=!1){let o;typeof e=="string"?o=da(e):(o={...e},vt(!o.pathname||!o.pathname.includes("?"),Xf("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Xf("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Xf("#","search","hash",o)));let c=e===""||o.pathname==="",u=c?"/":o.pathname,d;if(u==null)d=s;else{let x=r.length-1;if(!i&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),x-=1;o.pathname=y.join("/")}d=x>=0?r[x]:"/"}let m=hC(o,d),f=u&&u!=="/"&&u.endsWith("/"),p=(c||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(f||p)&&(m.pathname+="/"),m}var Dr=e=>e.join("/").replace(/\/\/+/g,"/"),pC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function vC(e){return e.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rb=["POST","PUT","PATCH","DELETE"];new Set(rb);var bC=["GET",...rb];new Set(bC);var fa=j.createContext(null);fa.displayName="DataRouter";var fu=j.createContext(null);fu.displayName="DataRouterState";j.createContext(!1);var sb=j.createContext({isTransitioning:!1});sb.displayName="ViewTransition";var wC=j.createContext(new Map);wC.displayName="Fetchers";var SC=j.createContext(null);SC.displayName="Await";var Bn=j.createContext(null);Bn.displayName="Navigation";var Uo=j.createContext(null);Uo.displayName="Location";var Hn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var ym=j.createContext(null);ym.displayName="RouteError";function NC(e,{relative:r}={}){vt(ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=j.useContext(Bn),{hash:o,pathname:c,search:u}=Io(e,{relative:r}),d=c;return s!=="/"&&(d=c==="/"?s:Dr([s,c])),i.createHref({pathname:d,search:u,hash:o})}function ha(){return j.useContext(Uo)!=null}function Wn(){return vt(ha(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Uo).location}var ib="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ab(e){j.useContext(Bn).static||j.useLayoutEffect(e)}function lr(){let{isDataRoute:e}=j.useContext(Hn);return e?BC():EC()}function EC(){vt(ha(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(fa),{basename:r,navigator:s}=j.useContext(Bn),{matches:i}=j.useContext(Hn),{pathname:o}=Wn(),c=JSON.stringify(pm(i)),u=j.useRef(!1);return ab(()=>{u.current=!0}),j.useCallback((m,f={})=>{if($n(u.current,ib),!u.current)return;if(typeof m=="number"){s.go(m);return}let p=gm(m,JSON.parse(c),o,f.relative==="path");e==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:Dr([r,p.pathname])),(f.replace?s.replace:s.push)(p,f.state,f)},[r,s,c,o,e])}var CC=j.createContext(null);function _C(e){let r=j.useContext(Hn).outlet;return j.useMemo(()=>r&&j.createElement(CC.Provider,{value:e},r),[r,e])}function xm(){let{matches:e}=j.useContext(Hn),r=e[e.length-1];return r?r.params:{}}function Io(e,{relative:r}={}){let{matches:s}=j.useContext(Hn),{pathname:i}=Wn(),o=JSON.stringify(pm(s));return j.useMemo(()=>gm(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function jC(e,r){return ob(e,r)}function ob(e,r,s,i,o){vt(ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Bn),{matches:u}=j.useContext(Hn),d=u[u.length-1],m=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",x=d&&d.route;{let _=x&&x.path||"";lb(f,!x||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let y=Wn(),v;if(r){let _=typeof r=="string"?da(r):r;vt(p==="/"||_.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=y;let S=v.pathname||"/",N=S;if(p!=="/"){let _=p.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=eb(e,{pathname:N});$n(x||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),$n(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=kC(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},m,_.params),pathname:Dr([p,c.encodeLocation?c.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:Dr([p,c.encodeLocation?c.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),u,s,i,o);return r&&w?j.createElement(Uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function AC(){let e=$C(),r=xC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},r),s?j.createElement("pre",{style:o},s):null,u)}var TC=j.createElement(AC,null),MC=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.onError?this.props.onError(e,r):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Hn.Provider,{value:this.props.routeContext},j.createElement(ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RC({routeContext:e,match:r,children:s}){let i=j.useContext(fa);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Hn.Provider,{value:e},s)}function kC(e,r=[],s=null,i=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(r.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let c=e,u=s?.errors;if(u!=null){let p=c.findIndex(x=>x.route.id&&u?.[x.route.id]!==void 0);vt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let d=!1,m=-1;if(s)for(let p=0;p<c.length;p++){let x=c[p];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=p),x.route.id){let{loaderData:y,errors:v}=s,S=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||S){d=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let f=s&&i?(p,x)=>{i(p,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:vC(s.matches),errorInfo:x})}:void 0;return c.reduceRight((p,x,y)=>{let v,S=!1,N=null,C=null;s&&(v=u&&x.route.id?u[x.route.id]:void 0,N=x.route.errorElement||TC,d&&(m<0&&y===0?(lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):m===y&&(S=!0,C=x.route.hydrateFallbackElement||null)));let w=r.concat(c.slice(0,y+1)),_=()=>{let E;return v?E=N:S?E=C:x.route.Component?E=j.createElement(x.route.Component,null):x.route.element?E=x.route.element:E=p,j.createElement(RC,{match:x,routeContext:{outlet:p,matches:w,isDataRoute:s!=null},children:E})};return s&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?j.createElement(MC,{location:s.location,revalidation:s.revalidation,component:N,error:v,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:f}):_()},null)}function vm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(e){let r=j.useContext(fa);return vt(r,vm(e)),r}function OC(e){let r=j.useContext(fu);return vt(r,vm(e)),r}function LC(e){let r=j.useContext(Hn);return vt(r,vm(e)),r}function bm(e){let r=LC(e),s=r.matches[r.matches.length-1];return vt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function DC(){return bm("useRouteId")}function $C(){let e=j.useContext(ym),r=OC("useRouteError"),s=bm("useRouteError");return e!==void 0?e:r.errors?.[s]}function BC(){let{router:e}=zC("useNavigate"),r=bm("useNavigate"),s=j.useRef(!1);return ab(()=>{s.current=!0}),j.useCallback(async(o,c={})=>{$n(s.current,ib),s.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:r,...c}))},[e,r])}var Jy={};function lb(e,r,s){!r&&!Jy[e]&&(Jy[e]=!0,$n(!1,s))}j.memo(HC);function HC({routes:e,future:r,state:s,unstable_onError:i}){return ob(e,void 0,s,i,r)}function qC({to:e,replace:r,state:s,relative:i}){vt(ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Bn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Hn),{pathname:u}=Wn(),d=lr(),m=gm(e,pm(c),u,i==="path"),f=JSON.stringify(m);return j.useEffect(()=>{d(JSON.parse(f),{replace:r,state:s,relative:i})},[d,f,i,r,s]),null}function UC(e){return _C(e.context)}function Ln(e){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IC({basename:e="/",children:r=null,location:s,navigationType:i="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){vt(!ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:d,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[d,o,c,u]);typeof s=="string"&&(s=da(s));let{pathname:f="/",search:p="",hash:x="",state:y=null,key:v="default"}=s,S=j.useMemo(()=>{let N=Hr(f,d);return N==null?null:{location:{pathname:N,search:p,hash:x,state:y,key:v},navigationType:i}},[d,f,p,x,y,v,i]);return $n(S!=null,`<Router basename="${d}"> is not able to match the URL "${f}${p}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:j.createElement(Bn.Provider,{value:m},j.createElement(Uo.Provider,{children:r,value:S}))}function GC({children:e,location:r}){return jC(Oh(e),r)}function Oh(e,r=[]){let s=[];return j.Children.forEach(e,(i,o)=>{if(!j.isValidElement(i))return;let c=[...r,o];if(i.type===j.Fragment){s.push.apply(s,Oh(i.props.children,c));return}vt(i.type===Ln,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Oh(i.props.children,c)),s.push(u)}),s}var zc="get",Oc="application/x-www-form-urlencoded";function hu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function VC(e){return hu(e)&&e.tagName.toLowerCase()==="button"}function PC(e){return hu(e)&&e.tagName.toLowerCase()==="form"}function YC(e){return hu(e)&&e.tagName.toLowerCase()==="input"}function FC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XC(e,r){return e.button===0&&(!r||r==="_self")&&!FC(e)}var fc=null;function ZC(){if(fc===null)try{new FormData(document.createElement("form"),0),fc=!1}catch{fc=!0}return fc}var QC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zf(e){return e!=null&&!QC.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oc}"`),null):e}function WC(e,r){let s,i,o,c,u;if(PC(e)){let d=e.getAttribute("action");i=d?Hr(d,r):null,s=e.getAttribute("method")||zc,o=Zf(e.getAttribute("enctype"))||Oc,c=new FormData(e)}else if(VC(e)||YC(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(i=m?Hr(m,r):null,s=e.getAttribute("formmethod")||d.getAttribute("method")||zc,o=Zf(e.getAttribute("formenctype"))||Zf(d.getAttribute("enctype"))||Oc,c=new FormData(d,e),!ZC()){let{name:f,type:p,value:x}=e;if(p==="image"){let y=f?`${f}.`:"";c.append(`${y}x`,"0"),c.append(`${y}y`,"0")}else f&&c.append(f,x)}}else{if(hu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=zc,i=null,o=Oc,u=e}return c&&o==="text/plain"&&(u=c,c=void 0),{action:i,method:s.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wm(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function KC(e,r,s){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${s}`:r&&Hr(i.pathname,r)==="/"?i.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function JC(e,r){if(e.id in r)return r[e.id];try{let s=await import(e.module);return r[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function t_(e,r,s){let i=await Promise.all(e.map(async o=>{let c=r.routes[o.route.id];if(c){let u=await JC(c,s);return u.links?u.links():[]}return[]}));return i_(i.flat(1).filter(e_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ex(e,r,s,i,o,c){let u=(m,f)=>s[f]?m.route.id!==s[f].route.id:!0,d=(m,f)=>s[f].pathname!==m.pathname||s[f].route.path?.endsWith("*")&&s[f].params["*"]!==m.params["*"];return c==="assets"?r.filter((m,f)=>u(m,f)||d(m,f)):c==="data"?r.filter((m,f)=>{let p=i.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(u(m,f)||d(m,f))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function n_(e,r,{includeHydrateFallback:s}={}){return r_(e.map(i=>{let o=r.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function r_(e){return[...new Set(e)]}function s_(e){let r={},s=Object.keys(e).sort();for(let i of s)r[i]=e[i];return r}function i_(e,r){let s=new Set;return new Set(r),e.reduce((i,o)=>{let c=JSON.stringify(s_(o));return s.has(c)||(s.add(c),i.push({key:c,link:o})),i},[])}function cb(){let e=j.useContext(fa);return wm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function a_(){let e=j.useContext(fu);return wm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Sm=j.createContext(void 0);Sm.displayName="FrameworkContext";function ub(){let e=j.useContext(Sm);return wm(e,"You must render this element inside a <HydratedRouter> element"),e}function o_(e,r){let s=j.useContext(Sm),[i,o]=j.useState(!1),[c,u]=j.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:f,onMouseLeave:p,onTouchStart:x}=r,y=j.useRef(null);j.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=w=>{w.forEach(_=>{u(_.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[e]),j.useEffect(()=>{if(i){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[i]);let v=()=>{o(!0)},S=()=>{o(!1),u(!1)};return s?e!=="intent"?[c,y,{}]:[c,y,{onFocus:uo(d,v),onBlur:uo(m,S),onMouseEnter:uo(f,v),onMouseLeave:uo(p,S),onTouchStart:uo(x,v)}]:[!1,y,{}]}function uo(e,r){return s=>{e&&e(s),s.defaultPrevented||r(s)}}function l_({page:e,...r}){let{router:s}=cb(),i=j.useMemo(()=>eb(s.routes,e,s.basename),[s.routes,e,s.basename]);return i?j.createElement(u_,{page:e,matches:i,...r}):null}function c_(e){let{manifest:r,routeModules:s}=ub(),[i,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return t_(e,r,s).then(u=>{c||o(u)}),()=>{c=!0}},[e,r,s]),i}function u_({page:e,matches:r,...s}){let i=Wn(),{manifest:o,routeModules:c}=ub(),{basename:u}=cb(),{loaderData:d,matches:m}=a_(),f=j.useMemo(()=>ex(e,r,m,o,i,"data"),[e,r,m,o,i]),p=j.useMemo(()=>ex(e,r,m,o,i,"assets"),[e,r,m,o,i]),x=j.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,N=!1;if(r.forEach(w=>{let _=o.routes[w.route.id];!_||!_.hasLoader||(!f.some(E=>E.route.id===w.route.id)&&w.route.id in d&&c[w.route.id]?.shouldRevalidate||_.hasClientLoader?N=!0:S.add(w.route.id))}),S.size===0)return[];let C=KC(e,u,"data");return N&&S.size>0&&C.searchParams.set("_routes",r.filter(w=>S.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[u,d,i,o,f,r,e,c]),y=j.useMemo(()=>n_(p,o),[p,o]),v=c_(p);return j.createElement(j.Fragment,null,x.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),y.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),v.map(({key:S,link:N})=>j.createElement("link",{key:S,nonce:s.nonce,...N})))}function d_(...e){return r=>{e.forEach(s=>{typeof s=="function"?s(r):s!=null&&(s.current=r)})}}var db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{db&&(window.__reactRouterVersion="7.10.1")}catch{}function f_({basename:e,children:r,unstable_useTransitions:s,window:i}){let o=j.useRef();o.current==null&&(o.current=XE({window:i,v5Compat:!0}));let c=o.current,[u,d]=j.useState({action:c.action,location:c.location}),m=j.useCallback(f=>{s===!1?d(f):j.startTransition(()=>d(f))},[s]);return j.useLayoutEffect(()=>c.listen(m),[c,m]),j.createElement(IC,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:s===!0})}var fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mu=j.forwardRef(function({onClick:r,discover:s="render",prefetch:i="none",relative:o,reloadDocument:c,replace:u,state:d,target:m,to:f,preventScrollReset:p,viewTransition:x,...y},v){let{basename:S,unstable_useTransitions:N}=j.useContext(Bn),C=typeof f=="string"&&fb.test(f),w,_=!1;if(typeof f=="string"&&C&&(w=f,db))try{let G=new URL(window.location.href),P=f.startsWith("//")?new URL(G.protocol+f):new URL(f),U=Hr(P.pathname,S);P.origin===G.origin&&U!=null?f=U+P.search+P.hash:_=!0}catch{$n(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=NC(f,{relative:o}),[R,M,T]=o_(i,y),A=g_(f,{replace:u,state:d,target:m,preventScrollReset:p,relative:o,viewTransition:x,unstable_useTransitions:N});function z(G){r&&r(G),G.defaultPrevented||A(G)}let O=j.createElement("a",{...y,...T,href:w||E,onClick:_||c?r:z,ref:d_(v,M),target:m,"data-discover":!C&&s==="render"?"true":void 0});return R&&!C?j.createElement(j.Fragment,null,O,j.createElement(l_,{page:E})):O});mu.displayName="Link";var h_=j.forwardRef(function({"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:c,to:u,viewTransition:d,children:m,...f},p){let x=Io(u,{relative:f.relative}),y=Wn(),v=j.useContext(fu),{navigator:S,basename:N}=j.useContext(Bn),C=v!=null&&w_(x)&&d===!0,w=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,_=y.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(_=_.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&N&&(E=Hr(E,N)||E);const R=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=_===w||!o&&_.startsWith(w)&&_.charAt(R)==="/",T=E!=null&&(E===w||!o&&E.startsWith(w)&&E.charAt(w.length)==="/"),A={isActive:M,isPending:T,isTransitioning:C},z=M?r:void 0,O;typeof i=="function"?O=i(A):O=[i,M?"active":null,T?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let G=typeof c=="function"?c(A):c;return j.createElement(mu,{...f,"aria-current":z,className:O,ref:p,style:G,to:u,viewTransition:d},typeof m=="function"?m(A):m)});h_.displayName="NavLink";var m_=j.forwardRef(({discover:e="render",fetcherKey:r,navigate:s,reloadDocument:i,replace:o,state:c,method:u=zc,action:d,onSubmit:m,relative:f,preventScrollReset:p,viewTransition:x,...y},v)=>{let{unstable_useTransitions:S}=j.useContext(Bn),N=v_(),C=b_(d,{relative:f}),w=u.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&fb.test(d),E=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let M=R.nativeEvent.submitter,T=M?.getAttribute("formmethod")||u,A=()=>N(M||R.currentTarget,{fetcherKey:r,method:T,navigate:s,replace:o,state:c,relative:f,preventScrollReset:p,viewTransition:x});S&&s!==!1?j.startTransition(()=>A()):A()};return j.createElement("form",{ref:v,method:w,action:C,onSubmit:i?m:E,...y,"data-discover":!_&&e==="render"?"true":void 0})});m_.displayName="Form";function p_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hb(e){let r=j.useContext(fa);return vt(r,p_(e)),r}function g_(e,{target:r,replace:s,state:i,preventScrollReset:o,relative:c,viewTransition:u,unstable_useTransitions:d}={}){let m=lr(),f=Wn(),p=Io(e,{relative:c});return j.useCallback(x=>{if(XC(x,r)){x.preventDefault();let y=s!==void 0?s:_o(f)===_o(p),v=()=>m(e,{replace:y,state:i,preventScrollReset:o,relative:c,viewTransition:u});d?j.startTransition(()=>v()):v()}},[f,m,p,s,i,r,e,o,c,u,d])}var y_=0,x_=()=>`__${String(++y_)}__`;function v_(){let{router:e}=hb("useSubmit"),{basename:r}=j.useContext(Bn),s=DC(),i=e.fetch,o=e.navigate;return j.useCallback(async(c,u={})=>{let{action:d,method:m,encType:f,formData:p,body:x}=WC(c,r);if(u.navigate===!1){let y=u.fetcherKey||x_();await i(y,s,u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:x,formMethod:u.method||m,formEncType:u.encType||f,flushSync:u.flushSync})}else await o(u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:x,formMethod:u.method||m,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,r,s])}function b_(e,{relative:r}={}){let{basename:s}=j.useContext(Bn),i=j.useContext(Hn);vt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...Io(e||".",{relative:r})},u=Wn();if(e==null){c.search=u.search;let d=new URLSearchParams(c.search),m=d.getAll("index");if(m.some(p=>p==="")){d.delete("index"),m.filter(x=>x).forEach(x=>d.append("index",x));let p=d.toString();c.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Dr([s,c.pathname])),_o(c)}function w_(e,{relative:r}={}){let s=j.useContext(sb);vt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=hb("useViewTransitionState"),o=Io(e,{relative:r});if(!s.isTransitioning)return!1;let c=Hr(s.currentLocation.pathname,i)||s.currentLocation.pathname,u=Hr(s.nextLocation.pathname,i)||s.nextLocation.pathname;return Ic(o.pathname,u)!=null||Ic(o.pathname,c)!=null}Jv();const mb=j.createContext(void 0);function S_({children:e}){const[r,s]=j.useState({}),i=j.useCallback((u,d)=>{s(m=>m[u]===d?m:{...m,[u]:d})},[]),o=j.useCallback(u=>{s(d=>{if(!(u in d))return d;const m={...d};return delete m[u],m})},[]),c=j.useMemo(()=>({customLabels:r,setCustomLabel:i,clearCustomLabel:o}),[r,i,o]);return h.jsx(mb.Provider,{value:c,children:e})}function N_(){const e=j.useContext(mb);if(!e)throw new Error("useBreadcrumbManager must be used within a BreadcrumbProvider");return e}const pb="procedure.search.completed",gb="procedure.search.failed",E_="thread.stream",C_="thread.cancelled",__="thread.failed",j_="thread.async_tool_execution.completed",A_="thread.async_tool_execution.failed",T_={},tx=e=>{let r;const s=new Set,i=(p,x)=>{const y=typeof p=="function"?p(r):p;if(!Object.is(y,r)){const v=r;r=x??(typeof y!="object"||y===null)?y:Object.assign({},r,y),s.forEach(S=>S(r,v))}},o=()=>r,m={setState:i,getState:o,getInitialState:()=>f,subscribe:p=>(s.add(p),()=>s.delete(p)),destroy:()=>{(T_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},f=r=e(i,o,m);return m},yb=e=>e?tx(e):tx;var Qf={exports:{}},Wf={},Kf={exports:{}},Jf={};var nx;function M_(){if(nx)return Jf;nx=1;var e=qo();function r(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var s=typeof Object.is=="function"?Object.is:r,i=e.useState,o=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function d(x,y){var v=y(),S=i({inst:{value:v,getSnapshot:y}}),N=S[0].inst,C=S[1];return c(function(){N.value=v,N.getSnapshot=y,m(N)&&C({inst:N})},[x,v,y]),o(function(){return m(N)&&C({inst:N}),x(function(){m(N)&&C({inst:N})})},[x]),u(v),v}function m(x){var y=x.getSnapshot;x=x.value;try{var v=y();return!s(x,v)}catch{return!0}}function f(x,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return Jf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Jf}var rx;function R_(){return rx||(rx=1,Kf.exports=M_()),Kf.exports}var sx;function k_(){if(sx)return Wf;sx=1;var e=qo(),r=R_();function s(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:s,o=r.useSyncExternalStore,c=e.useRef,u=e.useEffect,d=e.useMemo,m=e.useDebugValue;return Wf.useSyncExternalStoreWithSelector=function(f,p,x,y,v){var S=c(null);if(S.current===null){var N={hasValue:!1,value:null};S.current=N}else N=S.current;S=d(function(){function w(T){if(!_){if(_=!0,E=T,T=y(T),v!==void 0&&N.hasValue){var A=N.value;if(v(A,T))return R=A}return R=T}if(A=R,i(E,T))return A;var z=y(T);return v!==void 0&&v(A,z)?(E=T,A):(E=T,R=z)}var _=!1,E,R,M=x===void 0?null:x;return[function(){return w(p())},M===null?void 0:function(){return w(M())}]},[p,x,y,v]);var C=o(f,S[0],S[1]);return u(function(){N.hasValue=!0,N.value=C},[C]),m(C),C},Wf}var ix;function z_(){return ix||(ix=1,Qf.exports=k_()),Qf.exports}var O_=z_();const xb=hm(O_),vb={},{useDebugValue:L_}=sr,{useSyncExternalStoreWithSelector:D_}=xb;let ax=!1;const $_=e=>e;function B_(e,r=$_,s){(vb?"production":void 0)!=="production"&&s&&!ax&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ax=!0);const i=D_(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,s);return L_(i),i}const H_=e=>{(vb?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof e=="function"?yb(e):e,s=(i,o)=>B_(r,i,o);return Object.assign(s,r),s},Nm=e=>H_,eh={BASE_URL:"/static/app/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Lh=new Map,hc=e=>{const r=Lh.get(e);return r?Object.fromEntries(Object.entries(r.stores).map(([s,i])=>[s,i.getState()])):{}},q_=(e,r,s)=>{if(e===void 0)return{type:"untracked",connection:r.connect(s)};const i=Lh.get(s.name);if(i)return{type:"tracked",store:e,...i};const o={connection:r.connect(s),stores:{}};return Lh.set(s.name,o),{type:"tracked",store:e,...o}},U_=(e,r={})=>(s,i,o)=>{const{enabled:c,anonymousActionType:u,store:d,...m}=r;let f;try{f=(c??(eh?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return(eh?"production":void 0)!=="production"&&c&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(s,i,o);const{connection:p,...x}=q_(d,f,m);let y=!0;o.setState=(N,C,w)=>{const _=s(N,C);if(!y)return _;const E=w===void 0?{type:u||"anonymous"}:typeof w=="string"?{type:w}:w;return d===void 0?(p?.send(E,i()),_):(p?.send({...E,type:`${d}/${E.type}`},{...hc(m.name),[d]:o.getState()}),_)};const v=(...N)=>{const C=y;y=!1,s(...N),y=C},S=e(o.setState,i,o);if(x.type==="untracked"?p?.init(S):(x.stores[x.store]=o,p?.init(Object.fromEntries(Object.entries(x.stores).map(([N,C])=>[N,N===x.store?S:C.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let N=!1;const C=o.dispatch;o.dispatch=(...w)=>{(eh?"production":void 0)!=="production"&&w[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),C(...w)}}return p.subscribe(N=>{var C;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return th(N.payload,w=>{if(w.type==="__setState"){if(d===void 0){v(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const _=w.state[d];if(_==null)return;JSON.stringify(o.getState())!==JSON.stringify(_)&&v(_);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(w)});case"DISPATCH":switch(N.payload.type){case"RESET":return v(S),d===void 0?p?.init(o.getState()):p?.init(hc(m.name));case"COMMIT":if(d===void 0){p?.init(o.getState());return}return p?.init(hc(m.name));case"ROLLBACK":return th(N.state,w=>{if(d===void 0){v(w),p?.init(o.getState());return}v(w[d]),p?.init(hc(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return th(N.state,w=>{if(d===void 0){v(w);return}JSON.stringify(o.getState())!==JSON.stringify(w[d])&&v(w[d])});case"IMPORT_STATE":{const{nextLiftedState:w}=N.payload,_=(C=w.computedStates.slice(-1)[0])==null?void 0:C.state;if(!_)return;v(d===void 0?_:_[d]),p?.send(null,w);return}case"PAUSE_RECORDING":return y=!y}return}}),S},Em=U_,th=(e,r)=>{let s;try{s=JSON.parse(e)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}s!==void 0&&r(s)};var bb=Symbol.for("immer-nothing"),ox=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function Yn(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jo=Object.getPrototypeOf;function ea(e){return!!e&&!!e[Sn]}function Ws(e){return e?wb(e)||Array.isArray(e)||!!e[ox]||!!e.constructor?.[ox]||Go(e)||gu(e):!1}var I_=Object.prototype.constructor.toString(),lx=new WeakMap;function wb(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const s=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(s===Object)return!0;if(typeof s!="function")return!1;let i=lx.get(s);return i===void 0&&(i=Function.toString.call(s),lx.set(s,i)),i===I_}function Gc(e,r,s=!0){pu(e)===0?(s?Reflect.ownKeys(e):Object.keys(e)).forEach(o=>{r(o,e[o],e)}):e.forEach((i,o)=>r(o,i,e))}function pu(e){const r=e[Sn];return r?r.type_:Array.isArray(e)?1:Go(e)?2:gu(e)?3:0}function Dh(e,r){return pu(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function Sb(e,r,s){const i=pu(e);i===2?e.set(r,s):i===3?e.add(s):e[r]=s}function G_(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Go(e){return e instanceof Map}function gu(e){return e instanceof Set}function Gs(e){return e.copy_||e.base_}function $h(e,r){if(Go(e))return new Map(e);if(gu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=wb(e);if(r===!0||r==="class_only"&&!s){const i=Object.getOwnPropertyDescriptors(e);delete i[Sn];let o=Reflect.ownKeys(i);for(let c=0;c<o.length;c++){const u=o[c],d=i[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(jo(e),i)}else{const i=jo(e);if(i!==null&&s)return{...e};const o=Object.create(i);return Object.assign(o,e)}}function Cm(e,r=!1){return yu(e)||ea(e)||!Ws(e)||(pu(e)>1&&Object.defineProperties(e,{set:mc,add:mc,clear:mc,delete:mc}),Object.freeze(e),r&&Object.values(e).forEach(s=>Cm(s,!0))),e}function V_(){Yn(2)}var mc={value:V_};function yu(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var P_={};function Ks(e){const r=P_[e];return r||Yn(0,e),r}var Ao;function Nb(){return Ao}function Y_(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cx(e,r){r&&(Ks("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function Bh(e){Hh(e),e.drafts_.forEach(F_),e.drafts_=null}function Hh(e){e===Ao&&(Ao=e.parent_)}function ux(e){return Ao=Y_(Ao,e)}function F_(e){const r=e[Sn];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function dx(e,r){r.unfinalizedDrafts_=r.drafts_.length;const s=r.drafts_[0];return e!==void 0&&e!==s?(s[Sn].modified_&&(Bh(r),Yn(4)),Ws(e)&&(e=Vc(r,e),r.parent_||Pc(r,e)),r.patches_&&Ks("Patches").generateReplacementPatches_(s[Sn].base_,e,r.patches_,r.inversePatches_)):e=Vc(r,s,[]),Bh(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==bb?e:void 0}function Vc(e,r,s){if(yu(r))return r;const i=e.immer_.shouldUseStrictIteration(),o=r[Sn];if(!o)return Gc(r,(c,u)=>fx(e,o,r,c,u,s),i),r;if(o.scope_!==e)return r;if(!o.modified_)return Pc(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const c=o.copy_;let u=c,d=!1;o.type_===3&&(u=new Set(c),c.clear(),d=!0),Gc(u,(m,f)=>fx(e,o,c,m,f,s,d),i),Pc(e,c,!1),s&&e.patches_&&Ks("Patches").generatePatches_(o,s,e.patches_,e.inversePatches_)}return o.copy_}function fx(e,r,s,i,o,c,u){if(o==null||typeof o!="object"&&!u)return;const d=yu(o);if(!(d&&!u)){if(ea(o)){const m=c&&r&&r.type_!==3&&!Dh(r.assigned_,i)?c.concat(i):void 0,f=Vc(e,o,m);if(Sb(s,i,f),ea(f))e.canAutoFreeze_=!1;else return}else u&&s.add(o);if(Ws(o)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[i]===o&&d)return;Vc(e,o),(!r||!r.scope_.parent_)&&typeof i!="symbol"&&(Go(s)?s.has(i):Object.prototype.propertyIsEnumerable.call(s,i))&&Pc(e,o)}}}function Pc(e,r,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Cm(r,s)}function X_(e,r){const s=Array.isArray(e),i={type_:s?1:0,scope_:r?r.scope_:Nb(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,c=_m;s&&(o=[i],c=To);const{revoke:u,proxy:d}=Proxy.revocable(o,c);return i.draft_=d,i.revoke_=u,d}var _m={get(e,r){if(r===Sn)return e;const s=Gs(e);if(!Dh(s,r))return Z_(e,s,r);const i=s[r];return e.finalized_||!Ws(i)?i:i===nh(e.base_,r)?(rh(e),e.copy_[r]=Uh(i,e)):i},has(e,r){return r in Gs(e)},ownKeys(e){return Reflect.ownKeys(Gs(e))},set(e,r,s){const i=Eb(Gs(e),r);if(i?.set)return i.set.call(e.draft_,s),!0;if(!e.modified_){const o=nh(Gs(e),r),c=o?.[Sn];if(c&&c.base_===s)return e.copy_[r]=s,e.assigned_[r]=!1,!0;if(G_(s,o)&&(s!==void 0||Dh(e.base_,r)))return!0;rh(e),qh(e)}return e.copy_[r]===s&&(s!==void 0||r in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=s,e.assigned_[r]=!0),!0},deleteProperty(e,r){return nh(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,rh(e),qh(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const s=Gs(e),i=Reflect.getOwnPropertyDescriptor(s,r);return i&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:i.enumerable,value:s[r]}},defineProperty(){Yn(11)},getPrototypeOf(e){return jo(e.base_)},setPrototypeOf(){Yn(12)}},To={};Gc(_m,(e,r)=>{To[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});To.deleteProperty=function(e,r){return To.set.call(this,e,r,void 0)};To.set=function(e,r,s){return _m.set.call(this,e[0],r,s,e[0])};function nh(e,r){const s=e[Sn];return(s?Gs(s):e)[r]}function Z_(e,r,s){const i=Eb(r,s);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function Eb(e,r){if(!(r in e))return;let s=jo(e);for(;s;){const i=Object.getOwnPropertyDescriptor(s,r);if(i)return i;s=jo(s)}}function qh(e){e.modified_||(e.modified_=!0,e.parent_&&qh(e.parent_))}function rh(e){e.copy_||(e.copy_=$h(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Q_=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,s,i)=>{if(typeof r=="function"&&typeof s!="function"){const c=s;s=r;const u=this;return function(m=c,...f){return u.produce(m,p=>s.call(this,p,...f))}}typeof s!="function"&&Yn(6),i!==void 0&&typeof i!="function"&&Yn(7);let o;if(Ws(r)){const c=ux(this),u=Uh(r,void 0);let d=!0;try{o=s(u),d=!1}finally{d?Bh(c):Hh(c)}return cx(c,i),dx(o,c)}else if(!r||typeof r!="object"){if(o=s(r),o===void 0&&(o=r),o===bb&&(o=void 0),this.autoFreeze_&&Cm(o,!0),i){const c=[],u=[];Ks("Patches").generateReplacementPatches_(r,o,c,u),i(c,u)}return o}else Yn(1,r)},this.produceWithPatches=(r,s)=>{if(typeof r=="function")return(u,...d)=>this.produceWithPatches(u,m=>r(m,...d));let i,o;return[this.produce(r,s,(u,d)=>{i=u,o=d}),i,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ws(e)||Yn(8),ea(e)&&(e=W_(e));const r=ux(this),s=Uh(e,void 0);return s[Sn].isManual_=!0,Hh(r),s}finishDraft(e,r){const s=e&&e[Sn];(!s||!s.isManual_)&&Yn(9);const{scope_:i}=s;return cx(i,r),dx(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let s;for(s=r.length-1;s>=0;s--){const o=r[s];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}s>-1&&(r=r.slice(s+1));const i=Ks("Patches").applyPatches_;return ea(e)?i(e,r):this.produce(e,o=>i(o,r))}};function Uh(e,r){const s=Go(e)?Ks("MapSet").proxyMap_(e,r):gu(e)?Ks("MapSet").proxySet_(e,r):X_(e,r);return(r?r.scope_:Nb()).drafts_.push(s),s}function W_(e){return ea(e)||Yn(10,e),Cb(e)}function Cb(e){if(!Ws(e)||yu(e))return e;const r=e[Sn];let s,i=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,s=$h(e,r.scope_.immer_.useStrictShallowCopy_),i=r.scope_.immer_.shouldUseStrictIteration()}else s=$h(e,!0);return Gc(s,(o,c)=>{Sb(s,o,Cb(c))},i),r&&(r.finalized_=!1),s}var K_=new Q_,J_=K_.produce;const ej=e=>(r,s,i)=>(i.setState=(o,c,...u)=>{const d=typeof o=="function"?J_(o):o;return r(d,c,...u)},e(i.setState,s,i)),jm=ej;class Bt{constructor(){this.baseUrl="/api/v0",this.method="GET"}buildUrl(r){throw new Error("buildUrl must be implemented")}async execute(r){const s=`${this.baseUrl}${this.buildUrl(r)}`,i={method:this.method,credentials:"include"};this.buildBody&&(this.method==="POST"||this.method==="PUT")&&(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(this.buildBody(r)));const o=await fetch(s,i);if(!o.ok){const c=await o.json().catch(()=>({detail:"Request failed"}));throw new Error(c.detail||`HTTP ${o.status}`)}return o.json()}}class tj{constructor(){this.baseUrl="/api/v0"}buildUrl(r){throw new Error("buildUrl must be implemented")}buildFormData(r){throw new Error("buildFormData must be implemented")}async execute(r){const s=`${this.baseUrl}${this.buildUrl(r)}`,i=await fetch(s,{method:"POST",body:this.buildFormData(r),credentials:"include"});if(!i.ok){const o=await i.json().catch(()=>({detail:"Request failed"}));throw new Error(o.detail||`HTTP ${i.status}`)}return i.json()}}class nj extends Bt{constructor(){super(...arguments),this.method="GET"}buildUrl(){return"/chat/threads"}}class rj extends Bt{constructor(){super(...arguments),this.method="GET"}buildUrl(r){return`/chat/threads/${r}`}}class _b extends Bt{constructor(){super(...arguments),this.method="POST"}buildUrl(){return"/chat/threads"}buildBody(r){return r}}class sj extends Bt{constructor(){super(...arguments),this.method="POST"}buildUrl(r){return`/chat/threads/${r.threadId}/messages`}buildBody(r){return r.params}}class ij extends Bt{constructor(){super(...arguments),this.method="DELETE"}buildUrl(r){return`/chat/threads/${r}/pending`}}class aj extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=({id:r})=>`/constructs/${r}`}}class jb extends Bt{constructor(){super(...arguments),this.method="POST",this.buildUrl=()=>"/library/create",this.buildBody=r=>r}}class Ab extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=({id:r})=>`/library/${r}`}}class Tb extends tj{constructor(){super(...arguments),this.buildUrl=()=>"/library/import",this.buildFormData=r=>{const s=new FormData;return s.append("file",r.file),r.name&&s.append("name",r.name),r.methylases?.length&&s.append("methylases",JSON.stringify(r.methylases)),s}}}class xu extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=()=>"/library/list"}}class Mb extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=(r={})=>{const s=new URLSearchParams;r.query&&s.set("query",r.query),r.min_score!==void 0&&s.set("min_score",r.min_score.toString());const i=s.toString();return i?`/library/search?${i}`:"/library/search"}}}class Rb extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=({id:r})=>`/procedures/${r}`}}class oj extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=()=>"/procedures"}}class kb extends Bt{constructor(){super(...arguments),this.method="POST",this.buildUrl=()=>"/procedures",this.buildBody=r=>r}}class lj extends Bt{constructor(){super(...arguments),this.method="POST",this.buildUrl=({procedure_id:r})=>`/procedures/${r}/search`,this.buildBody=r=>({target_feature_ids:r.target_feature_ids,target_topology:r.target_topology,max_depth:r.max_depth??5})}}class cj extends Bt{constructor(){super(...arguments),this.method="POST",this.buildUrl=()=>"/procedures/from-search",this.buildBody=r=>({search_id:r.search_id,name:r.name,description:r.description})}}class uj extends Bt{constructor(){super(...arguments),this.method="POST",this.buildUrl=()=>"/procedures/validate",this.buildBody=r=>r}}class dj extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=({procedure_id:r,limit:s,offset:i})=>{const o=new URLSearchParams;s&&o.set("limit",String(s)),i&&o.set("offset",String(i));const c=o.toString();return c?`/procedures/${r}/versions?${c}`:`/procedures/${r}/versions`}}}class zb extends Bt{constructor(){super(...arguments),this.method="POST",this.buildUrl=({procedure_id:r})=>`/procedures/${r}/versions`,this.buildBody=r=>({operations:r.operations,input_construct_ids:r.input_construct_ids,message:r.message,search_id:r.search_id,created_by:r.created_by})}}class fj extends Bt{constructor(){super(...arguments),this.method="GET",this.buildUrl=()=>"/resources/enzymes"}}const Ob=300*1e3;function hj(){return`temp_${crypto.randomUUID()}`}const sh={metadata:null,inputPlasmids:[],features:[],operations:[],brokenLinks:[],constructToPlasmid:{},cachedId:null,lastFetchedAt:null,isStale:!0,version:0,isDirty:!1,isSaving:!1,isLoading:!1,error:null,lastSavedAt:null};Nm()(Em(jm((e,r)=>({...sh,loadProcedure:async(s,i)=>{const{cachedId:o,lastFetchedAt:c,isStale:u,isLoading:d}=r();if(d)return;const m=Date.now();if(!(o===s&&c!==null&&!u&&m-c<Ob&&!i?.force)){o!==s&&e(sh),e(p=>{p.isLoading=!0,p.error=null,p.cachedId=s});try{const x=await new Rb().execute({id:s});r().syncFromServer(x)}catch(p){e(x=>{x.error=p instanceof Error?p.message:"Failed to load procedure",x.isLoading=!1})}}},reset:()=>e(sh),syncFromServer:s=>{e(i=>{i.metadata={id:s.id,name:s.name,description:s.description,outputConstructId:null,lastSearchStatus:null,createdAt:s.created_at,updatedAt:s.updated_at},i.inputPlasmids=s.input_plasmids.map(o=>({id:o.id,name:o.name,constructId:o.construct_id})),i.features=s.features,i.operations=s.operations.map((o,c)=>({id:`op-${c}`,order:o.order,type:o.type,inputRefs:o.input_refs,resourceIds:o.resource_ids,description:o.description,inputConstructIds:[],outputConstructIds:[],validationStatus:"valid",validationErrors:[],isModified:!1})),i.constructToPlasmid={};for(const o of s.input_plasmids)i.constructToPlasmid[o.construct_id]=o.id;i.version=s.current_version_number??0,i.isDirty=!1,i.isLoading=!1,i.error=null,i.lastFetchedAt=Date.now(),i.isStale=!1}),r().validateLinks()},updateName:s=>{e(i=>{i.metadata&&(i.metadata.name=s,i.isDirty=!0)})},updateDescription:s=>{e(i=>{i.metadata&&(i.metadata.description=s,i.isDirty=!0)})},setInputPlasmids:s=>{e(i=>{i.inputPlasmids=s,i.isDirty=!0}),r().validateLinks()},addOperation:(s,i)=>{e(o=>{const c={id:hj(),order:0,type:i,inputRefs:[],resourceIds:i==="digest"?[]:null,description:null,inputConstructIds:[],outputConstructIds:[],validationStatus:"warning",validationErrors:["Operation needs inputs"],isModified:!0};s===null||s>=o.operations.length?o.operations.push(c):o.operations.splice(s+1,0,c),o.operations.forEach((u,d)=>{u.order=d}),o.isDirty=!0}),r().validateLinks()},removeOperation:s=>{e(i=>{i.operations.splice(s,1),i.operations.forEach((o,c)=>{o.order=c}),i.isDirty=!0}),r().validateLinks()},updateOperation:(s,i)=>{e(o=>{const c=o.operations[s];c&&(Object.assign(c,i,{isModified:!0}),o.isDirty=!0)}),r().validateLinks()},reorderOperations:(s,i)=>{e(o=>{const[c]=o.operations.splice(s,1);o.operations.splice(i,0,c),o.operations.forEach((u,d)=>{u.order=d,u.isModified=!0}),o.isDirty=!0}),r().validateLinks()},validateLinks:()=>{const{operations:s}=r(),i=[];s.forEach((o,c)=>{for(const u of o.inputRefs)(!u||u.trim()==="")&&i.push({id:`${o.id}-empty-ref`,sourceOpIndex:-1,targetOpIndex:c,type:"invalid_ref",message:"Empty input reference",severity:"error"});o.type==="digest"&&(o.inputRefs.length!==1&&i.push({id:`${o.id}-wrong-input-count`,sourceOpIndex:c,targetOpIndex:c,type:"missing_input",message:"Digest requires exactly 1 input",severity:"error"}),(!o.resourceIds||o.resourceIds.length===0)&&i.push({id:`${o.id}-no-enzyme`,sourceOpIndex:c,targetOpIndex:c,type:"missing_input",message:"Digest requires at least one enzyme",severity:"error"})),o.type==="ligate"&&o.inputRefs.length<2&&i.push({id:`${o.id}-insufficient-inputs`,sourceOpIndex:c,targetOpIndex:c,type:"missing_input",message:"Ligation requires at least 2 inputs",severity:"warning"})}),e(o=>{o.brokenLinks=i,o.operations.forEach((c,u)=>{const d=i.filter(m=>m.targetOpIndex===u);d.length===0?(c.validationStatus="valid",c.validationErrors=[]):d.some(m=>m.severity==="error")?(c.validationStatus="error",c.validationErrors=d.map(m=>m.message)):(c.validationStatus="warning",c.validationErrors=d.map(m=>m.message))})})},markSaving:s=>{e(i=>{i.isSaving=s})},markSaved:s=>{e(i=>{i.version=s,i.isDirty=!1,i.isSaving=!1,i.lastSavedAt=Date.now(),i.operations.forEach(o=>{o.isModified=!1})})},setError:s=>{e(i=>{i.error=s})},invalidate:()=>{e(s=>{s.isStale=!0})}})),{name:"procedure-store"}));const mj=new xu,pj=new Mb,gj=new Tb,yj=new jb,xj=new Ab,hx={plasmids:[],searchResults:null,selectedPlasmid:null,lastFetchedAt:null,isStale:!0,isLoading:!1,isSearching:!1,isUploading:!1,isLoadingDetail:!1,error:null},vj=Nm()(Em(jm((e,r)=>({...hx,loadPlasmids:async s=>{const{lastFetchedAt:i,isStale:o,isLoading:c}=r();if(c)return;const u=Date.now();if(!(i!==null&&!o&&u-i<Ob&&!s?.force)){e(m=>{m.isLoading=!0,m.error=null});try{const m=await mj.execute();e(f=>{f.plasmids=m.plasmids,f.lastFetchedAt=Date.now(),f.isStale=!1,f.isLoading=!1})}catch(m){e(f=>{f.error=m instanceof Error?m.message:"Failed to load plasmids",f.isLoading=!1})}}},search:async(s,i)=>{if(!s.trim()){e(o=>{o.searchResults=null});return}e(o=>{o.isSearching=!0,o.error=null});try{const o=await pj.execute({query:s,min_score:i});e(c=>{c.searchResults=o.results,c.isSearching=!1})}catch(o){e(c=>{c.error=o instanceof Error?o.message:"Search failed",c.isSearching=!1})}},clearSearch:()=>{e(s=>{s.searchResults=null})},importPlasmid:async(s,i,o)=>{e(c=>{c.isUploading=!0,c.error=null});try{const c=await gj.execute({file:s,name:i,methylases:o});return await r().loadPlasmids({force:!0}),e(u=>{u.searchResults=null,u.isUploading=!1}),c.plasmid_id}catch(c){throw e(u=>{u.error=c instanceof Error?c.message:"Failed to import plasmid",u.isUploading=!1}),c}},createPlasmid:async(s,i,o)=>{e(c=>{c.isUploading=!0,c.error=null});try{const c=await yj.execute({construct_id:s,name:i,description:o});return await r().loadPlasmids({force:!0}),e(u=>{u.isUploading=!1}),c.plasmid_id}catch(c){throw e(u=>{u.error=c instanceof Error?c.message:"Failed to create plasmid",u.isUploading=!1}),c}},loadPlasmidDetail:async s=>{e(i=>{i.isLoadingDetail=!0,i.error=null});try{const i=await xj.execute({id:s});e(o=>{o.selectedPlasmid=i,o.isLoadingDetail=!1})}catch(i){e(o=>{o.error=i instanceof Error?i.message:"Failed to load plasmid details",o.isLoadingDetail=!1})}},clearSelectedPlasmid:()=>{e(s=>{s.selectedPlasmid=null})},invalidate:()=>{e(s=>{s.isStale=!0})},reset:()=>{e(hx)}})),{name:"library-store"})),bj={[pb]:e=>{e.result_construct_id&&vj.getState().invalidate()},[gb]:e=>{}},wj={...bj},Lb=j.createContext(null),Sj=3e3;function Nj({children:e}){const[r,s]=j.useState(!1),i=j.useRef(null),o=j.useRef(new Map),c=j.useRef(void 0),u=j.useCallback(()=>{i.current&&i.current.close();const m=window.location.protocol==="https:"?"wss:":"ws:",f=new WebSocket(`${m}//${window.location.host}/ws/events`);i.current=f,f.onopen=()=>{s(!0)},f.onclose=()=>{s(!1),c.current=setTimeout(u,Sj)},f.onerror=p=>{console.error("[WebSocket] Error:",p)},f.onmessage=p=>{try{const x=JSON.parse(p.data),y=wj[x.type];y&&y(x.payload);const v=o.current.get(x.type);if(v)for(const S of v)S(x.payload)}catch(x){console.error("[WebSocket] Failed to parse event:",x)}}},[]);j.useEffect(()=>(u(),()=>{c.current&&clearTimeout(c.current),i.current&&i.current.close()}),[u]);const d=j.useCallback((m,f)=>{o.current.has(m)||o.current.set(m,new Set);const p=o.current.get(m);if(!p)return()=>{};const x=f;return p.add(x),()=>{p.delete(x)}},[]);return h.jsx(Lb.Provider,{value:{isConnected:r,subscribe:d},children:e})}function Db(){const e=j.useContext(Lb);if(!e)throw new Error("useWebSocket must be used within a WebSocketProvider");return e}const Ej=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,i)=>i?i.toUpperCase():s.toLowerCase()),mx=e=>{const r=Cj(e);return r.charAt(0).toUpperCase()+r.slice(1)},$b=(...e)=>e.filter((r,s,i)=>!!r&&r.trim()!==""&&i.indexOf(r)===s).join(" ").trim(),_j=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var jj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Aj=j.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u,...d},m)=>j.createElement("svg",{ref:m,...jj,width:r,height:r,stroke:e,strokeWidth:i?Number(s)*24/Number(r):s,className:$b("lucide",o),...!c&&!_j(d)&&{"aria-hidden":"true"},...d},[...u.map(([f,p])=>j.createElement(f,p)),...Array.isArray(c)?c:[c]]));const Ke=(e,r)=>{const s=j.forwardRef(({className:i,...o},c)=>j.createElement(Aj,{ref:c,iconNode:r,className:$b(`lucide-${Ej(mx(e))}`,`lucide-${e}`,i),...o}));return s.displayName=mx(e),s};const Tj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Mj=Ke("arrow-left",Tj);const Rj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ih=Ke("arrow-right",Rj);const kj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vo=Ke("chevron-down",kj);const zj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bb=Ke("chevron-left",zj);const Oj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Po=Ke("chevron-right",Oj);const Lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zi=Ke("circle-alert",Lj);const Dj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$j=Ke("circle-check",Dj);const Bj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hj=Ke("circle",Bj);const qj=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Uj=Ke("code",qj);const Ij=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],Gh=Ke("dna",Ij);const Gj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vj=Ke("external-link",Gj);const Pj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hb=Ke("file-text",Pj);const Yj=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Fj=Ke("flask-conical",Yj);const Xj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Zj=Ke("history",Xj);const Qj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],qb=Ke("house",Qj);const Wj=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Kj=Ke("link-2",Wj);const Jj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],At=Ke("loader-circle",Jj);const eA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],tA=Ke("log-out",eA);const nA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ub=Ke("message-square",nA);const rA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yi=Ke("plus",rA);const sA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],iA=Ke("rotate-ccw",sA);const aA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oA=Ke("save",aA);const lA=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Am=Ke("scissors",lA);const cA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ib=Ke("search",cA);const uA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gb=Ke("send",uA);const dA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fA=Ke("settings",dA);const hA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],So=Ke("sparkles",hA);const mA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],pA=Ke("square",mA);const gA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yA=Ke("trash-2",gA);const xA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vA=Ke("upload",xA);const bA=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Vb=Ke("workflow",bA);const wA=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],SA=Ke("wrench",wA);const NA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tn=Ke("x",NA),EA="/static/app/assets/logo-BQN_3yO4.svg";function Pb(e){var r,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(s=Pb(e[r]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function Yb(){for(var e,r,s=0,i="",o=arguments.length;s<o;s++)(e=arguments[s])&&(r=Pb(e))&&(i&&(i+=" "),i+=r);return i}const Tm="-",CA=e=>{const r=jA(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{const d=u.split(Tm);return d[0]===""&&d.length!==1&&d.shift(),Fb(d,r)||_A(u)},getConflictingClassGroupIds:(u,d)=>{const m=s[u]||[];return d&&i[u]?[...m,...i[u]]:m}}},Fb=(e,r)=>{if(e.length===0)return r.classGroupId;const s=e[0],i=r.nextPart.get(s),o=i?Fb(e.slice(1),i):void 0;if(o)return o;if(r.validators.length===0)return;const c=e.join(Tm);return r.validators.find(({validator:u})=>u(c))?.classGroupId},px=/^\[(.+)\]$/,_A=e=>{if(px.test(e)){const r=px.exec(e)[1],s=r?.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},jA=e=>{const{theme:r,prefix:s}=e,i={nextPart:new Map,validators:[]};return TA(Object.entries(e.classGroups),s).forEach(([c,u])=>{Vh(u,i,c,r)}),i},Vh=(e,r,s,i)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?r:gx(r,o);c.classGroupId=s;return}if(typeof o=="function"){if(AA(o)){Vh(o(i),r,s,i);return}r.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{Vh(u,gx(r,c),s,i)})})},gx=(e,r)=>{let s=e;return r.split(Tm).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},AA=e=>e.isThemeGetter,TA=(e,r)=>r?e.map(([s,i])=>{const o=i.map(c=>typeof c=="string"?r+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,d])=>[r+u,d])):c);return[s,o]}):e,MA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,i=new Map;const o=(c,u)=>{s.set(c,u),r++,r>e&&(r=0,i=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},Xb="!",RA=e=>{const{separator:r,experimentalParseClassName:s}=e,i=r.length===1,o=r[0],c=r.length,u=d=>{const m=[];let f=0,p=0,x;for(let C=0;C<d.length;C++){let w=d[C];if(f===0){if(w===o&&(i||d.slice(C,C+c)===r)){m.push(d.slice(p,C)),p=C+c;continue}if(w==="/"){x=C;continue}}w==="["?f++:w==="]"&&f--}const y=m.length===0?d:d.substring(p),v=y.startsWith(Xb),S=v?y.substring(1):y,N=x&&x>p?x-p:void 0;return{modifiers:m,hasImportantModifier:v,baseClassName:S,maybePostfixModifierPosition:N}};return s?d=>s({className:d,parseClassName:u}):u},kA=e=>{if(e.length<=1)return e;const r=[];let s=[];return e.forEach(i=>{i[0]==="["?(r.push(...s.sort(),i),s=[]):s.push(i)}),r.push(...s.sort()),r},zA=e=>({cache:MA(e.cacheSize),parseClassName:RA(e),...CA(e)}),OA=/\s+/,LA=(e,r)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o}=r,c=[],u=e.trim().split(OA);let d="";for(let m=u.length-1;m>=0;m-=1){const f=u[m],{modifiers:p,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:v}=s(f);let S=!!v,N=i(S?y.substring(0,v):y);if(!N){if(!S){d=f+(d.length>0?" "+d:d);continue}if(N=i(y),!N){d=f+(d.length>0?" "+d:d);continue}S=!1}const C=kA(p).join(":"),w=x?C+Xb:C,_=w+N;if(c.includes(_))continue;c.push(_);const E=o(N,S);for(let R=0;R<E.length;++R){const M=E[R];c.push(w+M)}d=f+(d.length>0?" "+d:d)}return d};function DA(){let e=0,r,s,i="";for(;e<arguments.length;)(r=arguments[e++])&&(s=Zb(r))&&(i&&(i+=" "),i+=s);return i}const Zb=e=>{if(typeof e=="string")return e;let r,s="";for(let i=0;i<e.length;i++)e[i]&&(r=Zb(e[i]))&&(s&&(s+=" "),s+=r);return s};function $A(e,...r){let s,i,o,c=u;function u(m){const f=r.reduce((p,x)=>x(p),e());return s=zA(f),i=s.cache.get,o=s.cache.set,c=d,d(m)}function d(m){const f=i(m);if(f)return f;const p=LA(m,s);return o(m,p),p}return function(){return c(DA.apply(null,arguments))}}const pt=e=>{const r=s=>s[e]||[];return r.isThemeGetter=!0,r},Qb=/^\[(?:([a-z-]+):)?(.+)\]$/i,BA=/^\d+\/\d+$/,HA=new Set(["px","full","screen"]),qA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kr=e=>Qi(e)||HA.has(e)||BA.test(e),ps=e=>ma(e,"length",KA),Qi=e=>!!e&&!Number.isNaN(Number(e)),ih=e=>ma(e,"number",Qi),fo=e=>!!e&&Number.isInteger(Number(e)),PA=e=>e.endsWith("%")&&Qi(e.slice(0,-1)),qe=e=>Qb.test(e),gs=e=>qA.test(e),YA=new Set(["length","size","percentage"]),FA=e=>ma(e,YA,Wb),XA=e=>ma(e,"position",Wb),ZA=new Set(["image","url"]),QA=e=>ma(e,ZA,eT),WA=e=>ma(e,"",JA),ho=()=>!0,ma=(e,r,s)=>{const i=Qb.exec(e);return i?i[1]?typeof r=="string"?i[1]===r:r.has(i[1]):s(i[2]):!1},KA=e=>UA.test(e)&&!IA.test(e),Wb=()=>!1,JA=e=>GA.test(e),eT=e=>VA.test(e),tT=()=>{const e=pt("colors"),r=pt("spacing"),s=pt("blur"),i=pt("brightness"),o=pt("borderColor"),c=pt("borderRadius"),u=pt("borderSpacing"),d=pt("borderWidth"),m=pt("contrast"),f=pt("grayscale"),p=pt("hueRotate"),x=pt("invert"),y=pt("gap"),v=pt("gradientColorStops"),S=pt("gradientColorStopPositions"),N=pt("inset"),C=pt("margin"),w=pt("opacity"),_=pt("padding"),E=pt("saturate"),R=pt("scale"),M=pt("sepia"),T=pt("skew"),A=pt("space"),z=pt("translate"),O=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",qe,r],U=()=>[qe,r],V=()=>["",kr,ps],B=()=>["auto",Qi,qe],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",qe],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Qi,qe];return{cacheSize:500,separator:":",theme:{colors:[ho],spacing:[kr,ps],blur:["none","",gs,qe],brightness:$(),borderColor:[e],borderRadius:["none","","full",gs,qe],borderSpacing:U(),borderWidth:V(),contrast:$(),grayscale:Y(),hueRotate:$(),invert:Y(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[PA,ps],inset:P(),margin:P(),opacity:$(),padding:U(),saturate:$(),scale:$(),sepia:Y(),skew:$(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[gs]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),qe]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fo,qe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",fo,qe]}],"grid-cols":[{"grid-cols":[ho]}],"col-start-end":[{col:["auto",{span:["full",fo,qe]},qe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[ho]}],"row-start-end":[{row:["auto",{span:[fo,qe]},qe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,r]}],"min-w":[{"min-w":[qe,r,"min","max","fit"]}],"max-w":[{"max-w":[qe,r,"none","full","min","max","fit","prose",{screen:[gs]},gs]}],h:[{h:[qe,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,r,"auto","min","max","fit"]}],"font-size":[{text:["base",gs,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ih]}],"font-family":[{font:[ho]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Qi,ih]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kr,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kr,ps]}],"underline-offset":[{"underline-offset":["auto",kr,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),XA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:L()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[kr,qe]}],"outline-w":[{outline:[kr,ps]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[kr,ps]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gs,WA]}],"shadow-color":[{shadow:[ho]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",gs,qe]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[x]}],saturate:[{saturate:[E]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[fo,qe]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[kr,ps,ih]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nT=$A(tT);function st(...e){return nT(Yb(e))}function yx(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function Mm(...e){return r=>{let s=!1;const i=e.map(o=>{const c=yx(o,r);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():yx(e[o],null)}}}}function Yc(...e){return j.useCallback(Mm(...e),e)}var rT=Symbol.for("react.lazy"),Fc=mm[" use ".trim().toString()];function sT(e){return typeof e=="object"&&e!==null&&"then"in e}function Kb(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===rT&&"_payload"in e&&sT(e._payload)}function iT(e){const r=oT(e),s=j.forwardRef((i,o)=>{let{children:c,...u}=i;Kb(c)&&typeof Fc=="function"&&(c=Fc(c._payload));const d=j.Children.toArray(c),m=d.find(cT);if(m){const f=m.props.children,p=d.map(x=>x===m?j.Children.count(f)>1?j.Children.only(null):j.isValidElement(f)?f.props.children:null:x);return h.jsx(r,{...u,ref:o,children:j.isValidElement(f)?j.cloneElement(f,void 0,p):null})}return h.jsx(r,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var aT=iT("Slot");function oT(e){const r=j.forwardRef((s,i)=>{let{children:o,...c}=s;if(Kb(o)&&typeof Fc=="function"&&(o=Fc(o._payload)),j.isValidElement(o)){const u=dT(o),d=uT(c,o.props);return o.type!==j.Fragment&&(d.ref=i?Mm(i,u):u),j.cloneElement(o,d)}return j.Children.count(o)>1?j.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var lT=Symbol("radix.slottable");function cT(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lT}function uT(e,r){const s={...r};for(const i in r){const o=e[i],c=r[i];/^on[A-Z]/.test(i)?o&&c?s[i]=(...d)=>{const m=c(...d);return o(...d),m}:o&&(s[i]=o):i==="style"?s[i]={...o,...c}:i==="className"&&(s[i]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function dT(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const fT=({className:e,...r})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,...r,children:[h.jsx("title",{children:"Play"}),h.jsx("path",{d:"M8 5v14l11-7z"})]}),hT=({className:e,...r})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...r,children:[h.jsx("title",{children:"Arrow Right"}),h.jsx("path",{d:"M5 12h14"}),h.jsx("path",{d:"m12 5 7 7-7 7"})]}),mT=({className:e,...r})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...r,children:[h.jsx("title",{children:"Arrow Left"}),h.jsx("path",{d:"M19 12H5"}),h.jsx("path",{d:"m12 19-7-7 7-7"})]}),pT=({className:e,...r})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:e,...r,children:[h.jsx("title",{children:"External Link"}),h.jsx("path",{d:"M7 17L17 7"}),h.jsx("path",{d:"M7 7h10"}),h.jsx("path",{d:"M17 7v10"})]}),gT=({className:e,...r})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...r,children:[h.jsx("title",{children:"Menu"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),yT=({className:e,...r})=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,...r,children:[h.jsx("title",{children:"Close"}),h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),xT={play:fT,"arrow-right":hT,"arrow-left":mT,external:pT,menu:gT,close:yT},xx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vx=Yb,Jb=(e,r)=>s=>{var i;if(r?.variants==null)return vx(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=r,u=Object.keys(o).map(f=>{const p=s?.[f],x=c?.[f];if(p===null)return null;const y=xx(p)||xx(x);return o[f][y]}),d=s&&Object.entries(s).reduce((f,p)=>{let[x,y]=p;return y===void 0||(f[x]=y),f},{}),m=r==null||(i=r.compoundVariants)===null||i===void 0?void 0:i.reduce((f,p)=>{let{class:x,className:y,...v}=p;return Object.entries(v).every(S=>{let[N,C]=S;return Array.isArray(C)?C.includes({...c,...d}[N]):{...c,...d}[N]===C})?[...f,x,y]:f},[]);return vx(e,u,m,s?.class,s?.className)},bx=Jb("inline-flex items-center justify-center gap-1.5 whitespace-nowrap font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 rounded-md text-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 rounded-md text-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground rounded-md text-sm",ghost:"hover:bg-accent hover:text-accent-foreground rounded-md text-sm",link:"text-primary underline-offset-4 hover:underline rounded-md text-sm","primary-slate":"bg-secondary text-secondary-foreground hover:bg-secondary/80 rounded-full text-sm","primary-black":"bg-foreground text-background hover:bg-foreground/90 rounded-full text-sm","primary-magenta":"bg-primary text-primary-foreground hover:bg-primary/90 rounded-full text-sm shadow-[0_2px_8px_rgba(217,87,217,0.3)]",secondary:"bg-muted text-muted-foreground hover:bg-muted/80 rounded-full text-sm",icon:"bg-background hover:bg-background/80 hover:scale-105 rounded-lg","icon-slate":"bg-secondary text-secondary-foreground hover:bg-secondary/80 hover:scale-105 rounded-lg","icon-magenta":"bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-105 rounded-full shadow-[0_2px_8px_rgba(217,87,217,0.3)]"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-4 py-2",md:"h-11 px-6 py-3",lg:"h-12 px-8 py-3","icon-sm":"h-9 w-9","icon-md":"h-11 w-11","icon-lg":"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),Ge=j.forwardRef(({className:e,variant:r,size:s,asChild:i=!1,iconType:o=null,iconPosition:c="right",children:u,...d},m)=>{const f=i?aT:"button",p=o?xT[o]:null,x=!u&&p;return i?h.jsx(f,{className:st(bx({variant:r,size:s,className:e})),ref:m,...d,children:u}):h.jsxs(f,{className:st(bx({variant:r,size:s,className:e})),ref:m,...d,children:[p&&c==="left"&&!x&&h.jsx(p,{}),x?h.jsx(p,{}):u,p&&c==="right"&&!x&&h.jsx(p,{})]})});Ge.displayName="Button";const Mo=j.forwardRef(({className:e,...r},s)=>h.jsx("div",{ref:s,className:st("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));Mo.displayName="Card";const vT=j.forwardRef(({className:e,...r},s)=>h.jsx("div",{ref:s,className:st("flex flex-col space-y-1.5 p-6",e),...r}));vT.displayName="CardHeader";const bT=j.forwardRef(({className:e,...r},s)=>h.jsx("div",{ref:s,className:st("text-2xl font-semibold leading-none tracking-tight",e),...r}));bT.displayName="CardTitle";const wT=j.forwardRef(({className:e,...r},s)=>h.jsx("div",{ref:s,className:st("text-sm text-muted-foreground",e),...r}));wT.displayName="CardDescription";const Xc=j.forwardRef(({className:e,...r},s)=>h.jsx("div",{ref:s,className:st("p-6 pt-0",e),...r}));Xc.displayName="CardContent";const ST=j.forwardRef(({className:e,...r},s)=>h.jsx("div",{ref:s,className:st("flex items-center p-6 pt-0",e),...r}));ST.displayName="CardFooter";const NT=j.forwardRef(({title:e,defaultCollapsed:r=!1,className:s,children:i,TitleComponent:o,...c},u)=>{const[d,m]=j.useState(r),f=o||"h2";return h.jsxs("div",{ref:u,className:st("rounded-lg border border-border bg-white dark:bg-card shadow-sm",s),...c,children:[h.jsxs("button",{type:"button",onClick:()=>m(!d),className:"w-full flex items-center justify-between p-6 hover:bg-muted/50 transition-colors",children:[h.jsx(f,{className:"text-left",children:e}),h.jsx("div",{className:st("transition-transform duration-500 ease-out",d?"rotate-0":"rotate-180"),children:h.jsx(Vo,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})})]}),h.jsx("div",{className:st("grid transition-all duration-500 ease-out",d?"grid-rows-[0fr] opacity-0":"grid-rows-[1fr] opacity-100"),children:h.jsx("div",{className:"overflow-hidden",children:h.jsx("div",{className:"px-6 pb-6 pt-4 border-t border-border",children:i})})})]})});NT.displayName="CollapsibleCard";const Xn=j.forwardRef(({className:e,type:r,...s},i)=>h.jsx("input",{type:r,className:st("flex h-11 w-full rounded-lg border border-border bg-background px-4 py-3 text-foreground transition-all","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary","disabled:cursor-not-allowed disabled:opacity-50","font-sans text-ui-sm md:text-ui",e),ref:i,...s}));Xn.displayName="Input";const $r=j.forwardRef(({className:e,...r},s)=>h.jsx("label",{ref:s,className:st("block text-foreground font-sans text-ui-sm md:text-ui font-medium mb-2",e),...r}));$r.displayName="Label";const Rm=j.forwardRef(({className:e,...r},s)=>h.jsx("textarea",{className:st("flex min-h-[120px] w-full rounded-lg border border-border bg-background px-4 py-3 text-foreground transition-all","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary","disabled:cursor-not-allowed disabled:opacity-50","resize-none","font-sans text-ui-sm md:text-ui",e),ref:s,...r}));Rm.displayName="Textarea";const ri=Jb("transition-colors",{variants:{variant:{header:["font-serif","font-bold","text-foreground","text-header-sm","md:text-header-md","lg:text-header"],subheader:["font-serif","font-semibold","text-foreground","text-subheader-sm","md:text-subheader-md","lg:text-subheader"],label:["font-serif","font-normal","text-foreground","text-label-sm","md:text-label-md","lg:text-label"],text:["font-sans","font-normal","text-foreground","text-text-sm","md:text-text"],subtext:["font-sans","font-normal","text-accent","text-subtext-sm","md:text-subtext"],labels:["font-sans","font-normal","text-accent","uppercase","tracking-wider","text-labels-sm","md:text-labels"],ui:["font-sans","font-medium","text-foreground","text-ui-sm","md:text-ui"]}},defaultVariants:{variant:"text"}}),e1=j.forwardRef(({className:e,as:r="h1",children:s,...i},o)=>h.jsx(r,{ref:o,className:st(ri({variant:"header"}),e),...i,children:s}));e1.displayName="Typography.Header";const t1=j.forwardRef(({className:e,as:r="h2",children:s,...i},o)=>h.jsx(r,{ref:o,className:st(ri({variant:"subheader"}),e),...i,children:s}));t1.displayName="Typography.SubHeader";const n1=j.forwardRef(({className:e,as:r="h3",children:s,...i},o)=>h.jsx(r,{ref:o,className:st(ri({variant:"label"}),e),...i,children:s}));n1.displayName="Typography.Label";const r1=j.forwardRef(({className:e,as:r="p",children:s,...i},o)=>h.jsx(r,{ref:o,className:st(ri({variant:"text"}),e),...i,children:s}));r1.displayName="Typography.Text";const s1=j.forwardRef(({className:e,as:r="p",children:s,...i},o)=>h.jsx(r,{ref:o,className:st(ri({variant:"subtext"}),e),...i,children:s}));s1.displayName="Typography.Subtext";const ET=j.forwardRef(({className:e,as:r="span",children:s,...i},o)=>h.jsx(r,{ref:o,className:st(ri({variant:"labels"}),e),...i,children:s}));ET.displayName="Typography.Labels";const i1=j.forwardRef(({className:e,as:r="span",children:s,...i},o)=>h.jsx(r,{ref:o,className:st(ri({variant:"ui"}),e),...i,children:s}));i1.displayName="Typography.UIText";const se={Header:e1,SubHeader:t1,Label:n1,Text:r1,Subtext:s1,UIText:i1},CT=({message:e})=>h.jsx("div",{className:"text-center py-12",children:h.jsx(se.Subtext,{className:"text-muted-foreground",children:e})}),a1=({items:e,columns:r,onRowClick:s,isLoading:i=!1,emptyStateMessage:o,itemLabel:c,getItemKey:u})=>i&&e.length===0?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(At,{className:"w-8 h-8 text-primary animate-spin"})}):e.length===0?h.jsx(CT,{message:o||`No ${c.toLowerCase()} yet.`}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs(se.Label,{children:[c," (",e.length,")"]}),h.jsx("div",{className:"border border-border rounded-lg overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-muted/50",children:h.jsx("tr",{children:r.map(d=>h.jsx("th",{className:`${d.align==="right"?"text-right":"text-left"} p-4 whitespace-nowrap`,children:h.jsx(se.UIText,{className:"font-semibold",children:d.header})},d.key))})}),h.jsx("tbody",{children:e.map(d=>h.jsx("tr",{onClick:()=>s?.(d),className:`transition-colors border-t border-border bg-white dark:bg-card ${s?"cursor-pointer hover:bg-muted/30":""}`,children:r.map(m=>h.jsx("td",{className:`${m.align==="right"?"text-right":""} p-4 whitespace-nowrap`,children:m.render(d)},m.key))},u(d)))})]})})]});function Br(e,r,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e?.(o),s===!1||!o.defaultPrevented)return r?.(o)}}function km(e,r=[]){let s=[];function i(c,u){const d=j.createContext(u),m=s.length;s=[...s,u];const f=x=>{const{scope:y,children:v,...S}=x,N=y?.[e]?.[m]||d,C=j.useMemo(()=>S,Object.values(S));return h.jsx(N.Provider,{value:C,children:v})};f.displayName=c+"Provider";function p(x,y){const v=y?.[e]?.[m]||d,S=j.useContext(v);if(S)return S;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[f,p]}const o=()=>{const c=s.map(u=>j.createContext(u));return function(d){const m=d?.[e]||c;return j.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[i,_T(o,...r)]}function _T(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=i.reduce((d,{useScope:m,scopeName:f})=>{const x=m(c)[`__scope${f}`];return{...d,...x}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:u}),[u])}};return s.scopeName=r.scopeName,s}function Ph(e){const r=jT(e),s=j.forwardRef((i,o)=>{const{children:c,...u}=i,d=j.Children.toArray(c),m=d.find(TT);if(m){const f=m.props.children,p=d.map(x=>x===m?j.Children.count(f)>1?j.Children.only(null):j.isValidElement(f)?f.props.children:null:x);return h.jsx(r,{...u,ref:o,children:j.isValidElement(f)?j.cloneElement(f,void 0,p):null})}return h.jsx(r,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}function jT(e){const r=j.forwardRef((s,i)=>{const{children:o,...c}=s;if(j.isValidElement(o)){const u=RT(o),d=MT(c,o.props);return o.type!==j.Fragment&&(d.ref=i?Mm(i,u):u),j.cloneElement(o,d)}return j.Children.count(o)>1?j.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var AT=Symbol("radix.slottable");function TT(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AT}function MT(e,r){const s={...r};for(const i in r){const o=e[i],c=r[i];/^on[A-Z]/.test(i)?o&&c?s[i]=(...d)=>{const m=c(...d);return o(...d),m}:o&&(s[i]=o):i==="style"?s[i]={...o,...c}:i==="className"&&(s[i]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function RT(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function kT(e){const r=e+"CollectionProvider",[s,i]=km(r),[o,c]=s(r,{collectionRef:{current:null},itemMap:new Map}),u=N=>{const{scope:C,children:w}=N,_=sr.useRef(null),E=sr.useRef(new Map).current;return h.jsx(o,{scope:C,itemMap:E,collectionRef:_,children:w})};u.displayName=r;const d=e+"CollectionSlot",m=Ph(d),f=sr.forwardRef((N,C)=>{const{scope:w,children:_}=N,E=c(d,w),R=Yc(C,E.collectionRef);return h.jsx(m,{ref:R,children:_})});f.displayName=d;const p=e+"CollectionItemSlot",x="data-radix-collection-item",y=Ph(p),v=sr.forwardRef((N,C)=>{const{scope:w,children:_,...E}=N,R=sr.useRef(null),M=Yc(C,R),T=c(p,w);return sr.useEffect(()=>(T.itemMap.set(R,{ref:R,...E}),()=>{T.itemMap.delete(R)})),h.jsx(y,{[x]:"",ref:M,children:_})});v.displayName=p;function S(N){const C=c(e+"CollectionConsumer",N);return sr.useCallback(()=>{const _=C.collectionRef.current;if(!_)return[];const E=Array.from(_.querySelectorAll(`[${x}]`));return Array.from(C.itemMap.values()).sort((T,A)=>E.indexOf(T.ref.current)-E.indexOf(A.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:f,ItemSlot:v},S,i]}var Zc=globalThis?.document?j.useLayoutEffect:()=>{},zT=mm[" useId ".trim().toString()]||(()=>{}),OT=0;function o1(e){const[r,s]=j.useState(zT());return Zc(()=>{s(i=>i??String(OT++))},[e]),r?`radix-${r}`:""}var LT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pa=LT.reduce((e,r)=>{const s=Ph(`Primitive.${r}`),i=j.forwardRef((o,c)=>{const{asChild:u,...d}=o,m=u?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(m,{...d,ref:c})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function DT(e){const r=j.useRef(e);return j.useEffect(()=>{r.current=e}),j.useMemo(()=>(...s)=>r.current?.(...s),[])}var $T=mm[" useInsertionEffect ".trim().toString()]||Zc;function l1({prop:e,defaultProp:r,onChange:s=()=>{},caller:i}){const[o,c,u]=BT({defaultProp:r,onChange:s}),d=e!==void 0,m=d?e:o;{const p=j.useRef(e!==void 0);j.useEffect(()=>{const x=p.current;x!==d&&console.warn(`${i} is changing from ${x?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,i])}const f=j.useCallback(p=>{if(d){const x=HT(p)?p(e):p;x!==e&&u.current?.(x)}else c(p)},[d,e,c,u]);return[m,f]}function BT({defaultProp:e,onChange:r}){const[s,i]=j.useState(e),o=j.useRef(s),c=j.useRef(r);return $T(()=>{c.current=r},[r]),j.useEffect(()=>{o.current!==s&&(c.current?.(s),o.current=s)},[s,o]),[s,i,c]}function HT(e){return typeof e=="function"}var qT=j.createContext(void 0);function c1(e){const r=j.useContext(qT);return e||r||"ltr"}var ah="rovingFocusGroup.onEntryFocus",UT={bubbles:!1,cancelable:!0},Yo="RovingFocusGroup",[Yh,u1,IT]=kT(Yo),[GT,d1]=km(Yo,[IT]),[VT,PT]=GT(Yo),f1=j.forwardRef((e,r)=>h.jsx(Yh.Provider,{scope:e.__scopeRovingFocusGroup,children:h.jsx(Yh.Slot,{scope:e.__scopeRovingFocusGroup,children:h.jsx(YT,{...e,ref:r})})}));f1.displayName=Yo;var YT=j.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...x}=e,y=j.useRef(null),v=Yc(r,y),S=c1(c),[N,C]=l1({prop:u,defaultProp:d??null,onChange:m,caller:Yo}),[w,_]=j.useState(!1),E=DT(f),R=u1(s),M=j.useRef(!1),[T,A]=j.useState(0);return j.useEffect(()=>{const z=y.current;if(z)return z.addEventListener(ah,E),()=>z.removeEventListener(ah,E)},[E]),h.jsx(VT,{scope:s,orientation:i,dir:S,loop:o,currentTabStopId:N,onItemFocus:j.useCallback(z=>C(z),[C]),onItemShiftTab:j.useCallback(()=>_(!0),[]),onFocusableItemAdd:j.useCallback(()=>A(z=>z+1),[]),onFocusableItemRemove:j.useCallback(()=>A(z=>z-1),[]),children:h.jsx(pa.div,{tabIndex:w||T===0?-1:0,"data-orientation":i,...x,ref:v,style:{outline:"none",...e.style},onMouseDown:Br(e.onMouseDown,()=>{M.current=!0}),onFocus:Br(e.onFocus,z=>{const O=!M.current;if(z.target===z.currentTarget&&O&&!w){const G=new CustomEvent(ah,UT);if(z.currentTarget.dispatchEvent(G),!G.defaultPrevented){const P=R().filter(L=>L.focusable),U=P.find(L=>L.active),V=P.find(L=>L.id===N),F=[U,V,...P].filter(Boolean).map(L=>L.ref.current);p1(F,p)}}M.current=!1}),onBlur:Br(e.onBlur,()=>_(!1))})})}),h1="RovingFocusGroupItem",m1=j.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:o=!1,tabStopId:c,children:u,...d}=e,m=o1(),f=c||m,p=PT(h1,s),x=p.currentTabStopId===f,y=u1(s),{onFocusableItemAdd:v,onFocusableItemRemove:S,currentTabStopId:N}=p;return j.useEffect(()=>{if(i)return v(),()=>S()},[i,v,S]),h.jsx(Yh.ItemSlot,{scope:s,id:f,focusable:i,active:o,children:h.jsx(pa.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...d,ref:r,onMouseDown:Br(e.onMouseDown,C=>{i?p.onItemFocus(f):C.preventDefault()}),onFocus:Br(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Br(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const w=ZT(C,p.orientation,p.dir);if(w!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let E=y().filter(R=>R.focusable).map(R=>R.ref.current);if(w==="last")E.reverse();else if(w==="prev"||w==="next"){w==="prev"&&E.reverse();const R=E.indexOf(C.currentTarget);E=p.loop?QT(E,R+1):E.slice(R+1)}setTimeout(()=>p1(E))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:N!=null}):u})})});m1.displayName=h1;var FT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function XT(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ZT(e,r,s){const i=XT(e.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return FT[i]}function p1(e,r=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:r}),document.activeElement!==s))return}function QT(e,r){return e.map((s,i)=>e[(r+i)%e.length])}var WT=f1,KT=m1;function JT(e,r){return j.useReducer((s,i)=>r[s][i]??s,e)}var g1=e=>{const{present:r,children:s}=e,i=eM(r),o=typeof s=="function"?s({present:i.isPresent}):j.Children.only(s),c=Yc(i.ref,tM(o));return typeof s=="function"||i.isPresent?j.cloneElement(o,{ref:c}):null};g1.displayName="Presence";function eM(e){const[r,s]=j.useState(),i=j.useRef(null),o=j.useRef(e),c=j.useRef("none"),u=e?"mounted":"unmounted",[d,m]=JT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const f=pc(i.current);c.current=d==="mounted"?f:"none"},[d]),Zc(()=>{const f=i.current,p=o.current;if(p!==e){const y=c.current,v=pc(f);e?m("MOUNT"):v==="none"||f?.display==="none"?m("UNMOUNT"):m(p&&y!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),Zc(()=>{if(r){let f;const p=r.ownerDocument.defaultView??window,x=v=>{const N=pc(i.current).includes(CSS.escape(v.animationName));if(v.target===r&&N&&(m("ANIMATION_END"),!o.current)){const C=r.style.animationFillMode;r.style.animationFillMode="forwards",f=p.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=C)})}},y=v=>{v.target===r&&(c.current=pc(i.current))};return r.addEventListener("animationstart",y),r.addEventListener("animationcancel",x),r.addEventListener("animationend",x),()=>{p.clearTimeout(f),r.removeEventListener("animationstart",y),r.removeEventListener("animationcancel",x),r.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[r,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:j.useCallback(f=>{i.current=f?getComputedStyle(f):null,s(f)},[])}}function pc(e){return e?.animationName||"none"}function tM(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?e.ref:(r=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var vu="Tabs",[nM]=km(vu,[d1]),y1=d1(),[rM,zm]=nM(vu),x1=j.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:d,activationMode:m="automatic",...f}=e,p=c1(d),[x,y]=l1({prop:i,onChange:o,defaultProp:c??"",caller:vu});return h.jsx(rM,{scope:s,baseId:o1(),value:x,onValueChange:y,orientation:u,dir:p,activationMode:m,children:h.jsx(pa.div,{dir:p,"data-orientation":u,...f,ref:r})})});x1.displayName=vu;var v1="TabsList",b1=j.forwardRef((e,r)=>{const{__scopeTabs:s,loop:i=!0,...o}=e,c=zm(v1,s),u=y1(s);return h.jsx(WT,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:i,children:h.jsx(pa.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:r})})});b1.displayName=v1;var w1="TabsTrigger",S1=j.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,disabled:o=!1,...c}=e,u=zm(w1,s),d=y1(s),m=C1(u.baseId,i),f=_1(u.baseId,i),p=i===u.value;return h.jsx(KT,{asChild:!0,...d,focusable:!o,active:p,children:h.jsx(pa.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...c,ref:r,onMouseDown:Br(e.onMouseDown,x=>{!o&&x.button===0&&x.ctrlKey===!1?u.onValueChange(i):x.preventDefault()}),onKeyDown:Br(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(i)}),onFocus:Br(e.onFocus,()=>{const x=u.activationMode!=="manual";!p&&!o&&x&&u.onValueChange(i)})})})});S1.displayName=w1;var N1="TabsContent",E1=j.forwardRef((e,r)=>{const{__scopeTabs:s,value:i,forceMount:o,children:c,...u}=e,d=zm(N1,s),m=C1(d.baseId,i),f=_1(d.baseId,i),p=i===d.value,x=j.useRef(p);return j.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),h.jsx(g1,{present:o||p,children:({present:y})=>h.jsx(pa.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!y,id:f,tabIndex:0,...u,ref:r,style:{...e.style,animationDuration:x.current?"0s":void 0},children:y&&c})})});E1.displayName=N1;function C1(e,r){return`${e}-trigger-${r}`}function _1(e,r){return`${e}-content-${r}`}var sM=x1,j1=b1,A1=S1,T1=E1;const iM=sM,M1=j.forwardRef(({className:e,...r},s)=>h.jsx(j1,{ref:s,className:st("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...r}));M1.displayName=j1.displayName;const Fh=j.forwardRef(({className:e,...r},s)=>h.jsx(A1,{ref:s,className:st("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","text-muted-foreground hover:text-foreground","data-[state=active]:bg-white data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));Fh.displayName=A1.displayName;const Xh=j.forwardRef(({className:e,...r},s)=>h.jsx(T1,{ref:s,className:st("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));Xh.displayName=T1.displayName;function mo({to:e,icon:r,label:s,isCollapsed:i}){const o=Wn(),c=o.pathname===e||o.pathname.startsWith(`${e}/`);return h.jsxs(mu,{to:e,className:`
        rounded-lg p-2 hover:bg-black/5 dark:hover:bg-white/10 transition-all duration-200
        focus-visible:outline-none focus-visible:ring focus-visible:ring-ring focus-visible:ring-offset-2
        font-medium text-base overflow-hidden
        flex flex-row items-center h-10 w-full
        ${i?"justify-center":""}
        ${c?"bg-muted/50 text-primary":"text-foreground"}
      `,children:[r,!i&&h.jsx("span",{className:"text-base my-auto whitespace-nowrap overflow-hidden text-ellipsis flex flex-row items-center w-fit ml-2",children:s})]})}function aM({isCollapsed:e,onMouseEnter:r,onMouseLeave:s}){const i=()=>{window.location.href="/auth/logout"};return h.jsxs("aside",{className:"h-full flex flex-col text-sm bg-transparent py-2",onMouseEnter:r,onMouseLeave:s,children:[h.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-y-0.5 px-2 pt-2",children:[h.jsx(mo,{to:"/dashboard",icon:h.jsx(qb,{className:"shrink-0 transition-none my-auto text-sm h-4 w-4"}),label:"Dashboard",isCollapsed:e}),h.jsx(mo,{to:"/library",icon:h.jsx(Gh,{className:"shrink-0 transition-none my-auto text-sm h-4 w-4"}),label:"Library",isCollapsed:e}),h.jsx(mo,{to:"/procedures",icon:h.jsx(Vb,{className:"shrink-0 transition-none my-auto text-sm h-4 w-4"}),label:"Procedures",isCollapsed:e}),h.jsx(mo,{to:"/chat",icon:h.jsx(Ub,{className:"shrink-0 transition-none my-auto text-sm h-4 w-4"}),label:"Chat",isCollapsed:e}),h.jsx(mo,{to:"/settings",icon:h.jsx(fA,{className:"shrink-0 transition-none my-auto text-sm h-4 w-4"}),label:"Settings",isCollapsed:e})]}),h.jsx("div",{className:"shrink-0 px-2 pb-2 flex flex-col gap-2",children:h.jsxs("button",{type:"button",onClick:i,className:`
            w-full flex items-center px-2 py-2 rounded-lg
            transition-colors duration-200
            hover:bg-white/10 text-gray-600 hover:text-gray-800
            ${e?"justify-center":"gap-3"}
          `,children:[h.jsx(tA,{className:"w-4 h-4 flex-shrink-0"}),!e&&h.jsx(se.UIText,{className:"text-sm font-medium whitespace-nowrap",children:"Log out"})]})})]})}function oM(){const[e,r]=j.useState(!1),[s,i]=j.useState(!1),o=()=>{r(!e)},c=e&&!s;return h.jsx("div",{className:"h-screen w-screen overflow-hidden bg-muted flex flex-col",children:h.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[h.jsxs("div",{className:`flex-shrink-0 transition-[width] duration-200 ease-in-out overflow-hidden flex flex-col ${c?"w-16":"w-48"}`,children:[h.jsx("div",{className:`flex-shrink-0 h-9 mt-2 ${c?"px-2":"flex items-center justify-between px-3"}`,children:c?h.jsx(h.Fragment,{children:h.jsx("button",{type:"button",onClick:o,className:"rounded-lg p-2 hover:bg-black/5 dark:hover:bg-white/10 transition-all duration-200 flex items-center justify-center h-9 w-full",children:h.jsx("div",{className:"flex items-center justify-center w-7 h-7 rounded-md border border-muted-foreground/40 hover:bg-muted/20 hover:border-muted-foreground/60 text-muted-foreground transition-colors",children:h.jsx(Po,{className:"w-4 h-4"})})})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[h.jsx("img",{src:EA,alt:"Geney",className:"w-7 h-7 shrink-0"}),h.jsx("h1",{className:"text-foreground font-serif font-semibold text-xl leading-tight",children:"Geney"})]}),h.jsx("button",{type:"button",onClick:o,className:"flex items-center justify-center w-7 h-7 rounded-md border border-muted-foreground/40 hover:bg-muted/20 hover:border-muted-foreground/60 text-muted-foreground transition-colors shrink-0",children:h.jsx(Bb,{className:"w-4 h-4"})})]})}),h.jsx(aM,{isCollapsed:c,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1)})]}),h.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:h.jsx("main",{className:"flex-1 bg-background text-foreground shadow-lg border-l border-border/40 flex flex-col overflow-hidden",children:h.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:h.jsx(UC,{})})})})]})})}const R1=e=>{const r=new Date(e),i=new Date().getTime()-r.getTime(),o=Math.floor(i/1e3),c=Math.floor(o/60),u=Math.floor(c/60),d=Math.floor(u/24);return o<60?"just now":c<60?`${c} ${c===1?"minute":"minutes"} ago`:u<24?`${u} ${u===1?"hour":"hours"} ago`:d<7?`${d} ${d===1?"day":"days"} ago`:r.toLocaleDateString()};function lM(){const e=lr(),[r,s]=j.useState([]),[i,o]=j.useState(!0),[c,u]=j.useState(null),[d,m]=j.useState(""),[f,p]=j.useState(!1),x=j.useMemo(()=>new nj,[]),y=j.useMemo(()=>new _b,[]);j.useEffect(()=>{async function C(){try{const w=await x.execute();s(w.threads)}catch(w){u(w instanceof Error?w.message:"Failed to load threads")}finally{o(!1)}}C()},[x]);const v=C=>{e(`/chat/${C}`)},S=j.useCallback(async()=>{if(!(!d.trim()||f)){p(!0),u(null);try{const C=await y.execute({content:d.trim()});e(`/chat/${C.thread_id}`,{state:{completionId:C.completion_id,initialMessage:d.trim()}})}catch(C){u(C instanceof Error?C.message:"Failed to start chat"),p(!1)}}},[d,f,y,e]),N=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),S())};return h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("div",{children:[h.jsx(se.Header,{children:"Chat"}),h.jsx(se.Text,{className:"text-muted-foreground",children:"Chat with the AI assistant"})]}),h.jsx(Mo,{children:h.jsx(Xc,{className:"p-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Rm,{value:d,onChange:C=>m(C.target.value),onKeyDown:N,placeholder:"Start a new conversation...",className:"min-h-[100px] resize-none flex-1",disabled:f}),h.jsx(Ge,{onClick:S,disabled:!d.trim()||f,className:"self-end",children:h.jsx(Gb,{className:"w-4 h-4"})})]})})}),c&&h.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center justify-between gap-2",children:[h.jsx(se.Text,{className:"text-destructive text-sm",children:c}),h.jsx("button",{type:"button",onClick:()=>u(null),className:"text-destructive/60 hover:text-destructive transition-colors","aria-label":"Dismiss error",children:h.jsx(tn,{className:"w-4 h-4"})})]}),h.jsxs("div",{children:[h.jsx(se.UIText,{className:"text-muted-foreground mb-3 block",children:"Recent Chats"}),i&&h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"Loading..."})}),!i&&r.length===0&&h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"No previous chats"})}),!i&&r.length>0&&h.jsx("div",{className:"grid gap-2",children:r.map(C=>h.jsx(Mo,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>v(C.id),children:h.jsxs(Xc,{className:"flex items-center justify-between p-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ub,{className:"w-4 h-4 text-muted-foreground"}),h.jsxs("div",{children:[h.jsxs(se.UIText,{className:"font-medium",children:["Chat ",C.id.slice(0,8),"..."]}),h.jsx(se.Subtext,{className:"text-muted-foreground",children:R1(C.created_at)})]})]}),C.is_processing&&h.jsx(se.Subtext,{className:"text-muted-foreground",children:"Processing..."})]})},C.id))})]})]})}function po(e,r){const{subscribe:s}=Db(),i=j.useRef(r);i.current=r,j.useEffect(()=>s(e,c=>{i.current(c)}),[e,s])}function cM({isNewThread:e,threadId:r,onBack:s}){return h.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[h.jsx(Ge,{variant:"ghost",size:"sm",onClick:s,children:h.jsx(Mj,{className:"w-4 h-4"})}),h.jsxs("div",{children:[h.jsx(se.Header,{children:e?"New Chat":"Chat"}),r&&h.jsxs(se.Text,{className:"text-muted-foreground",children:[r.slice(0,8),"..."]})]})]})}function uM({value:e,onChange:r,onSend:s,onStop:i,isLoading:o}){const c=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),s())};return h.jsxs("div",{className:"mt-4 flex gap-2",children:[h.jsx(Rm,{value:e,onChange:u=>r(u.target.value),onKeyDown:c,placeholder:"Type your message...",className:"min-h-[60px] resize-none flex-1",disabled:o}),o?h.jsx(Ge,{onClick:i,variant:"destructive",className:"self-end",children:h.jsx(pA,{className:"w-4 h-4"})}):h.jsx(Ge,{onClick:s,disabled:!e.trim(),className:"self-end",children:h.jsx(Gb,{className:"w-4 h-4"})})]})}function dM({operation:e}){const r=lr(),[s,i]=j.useState(!1),[o,c]=j.useState(""),[u,d]=j.useState(!1),[m,f]=j.useState(null),p=e.result?.status,x=e.result?.message,y=e.result?.data,[v,S]=j.useState(y?.procedure_id??null);j.useEffect(()=>{y?.procedure_id&&S(y.procedure_id)},[y?.procedure_id]);const N=j.useMemo(()=>new cj,[]),C=e.status==="completed"&&e.ref_type==="search"&&e.ref_id!=null&&y?.found_solution===!0&&!v,w=async()=>{if(!(!o.trim()||!e.ref_id)){d(!0),f(null);try{const M=await N.execute({search_id:e.ref_id,name:o.trim()});S(M.procedure_id),r(`/procedures/${M.procedure_id}`)}catch(M){f(M instanceof Error?M.message:"Failed to save")}finally{d(!1)}}},_=e.status==="pending"?h.jsx(At,{className:"w-4 h-4 animate-spin text-muted-foreground"}):e.status==="completed"?h.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xs",children:""})}):p==="error"?h.jsx("div",{className:"w-4 h-4 rounded-full bg-amber-500 flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xs",children:"!"})}):h.jsx("div",{className:"w-4 h-4 rounded-full bg-destructive flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xs",children:""})}),E=x||(e.status==="pending"?"Running...":e.status==="completed"?"Completed":p==="error"?"Error":"Failed"),R=e.status==="pending";return h.jsxs("div",{className:"my-2 border border-border rounded-lg overflow-hidden bg-muted/30",children:[h.jsxs("button",{type:"button",onClick:()=>!R&&i(!s),disabled:R,className:`w-full flex items-center gap-2 px-3 py-2 text-sm text-left transition-colors ${R?"cursor-default":"hover:bg-muted/50"}`,children:[R?h.jsx("div",{className:"w-4 h-4 flex-shrink-0"}):s?h.jsx(Vo,{className:"w-4 h-4 flex-shrink-0"}):h.jsx(Po,{className:"w-4 h-4 flex-shrink-0"}),_,h.jsx("span",{className:"font-mono text-xs capitalize flex-shrink-0",children:e.name}),h.jsx("span",{className:"text-xs text-muted-foreground ml-auto truncate max-w-[60%]",children:E})]}),s&&h.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[e.error_message&&h.jsx("div",{className:"text-xs text-destructive bg-destructive/10 rounded p-2",children:e.error_message}),e.result&&h.jsxs("div",{children:[h.jsx(se.Text,{className:"text-xs text-muted-foreground mb-1",children:"Result"}),h.jsx("pre",{className:"text-xs bg-muted rounded p-2 overflow-x-auto max-h-48",children:JSON.stringify(e.result,null,2)})]}),C&&h.jsxs("div",{className:"pt-2 border-t border-border space-y-2",children:[h.jsx(se.Text,{className:"text-xs font-medium",children:"Save as Procedure"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:o,onChange:M=>c(M.target.value),placeholder:"Procedure name...",className:"flex-1 px-2 py-1 text-xs border border-border rounded bg-background",disabled:u}),h.jsx(Ge,{size:"sm",onClick:w,disabled:!o.trim()||u,children:u?h.jsx(At,{className:"w-3 h-3 animate-spin"}):"Save"})]}),m&&h.jsx("div",{className:"text-xs text-destructive",children:m})]}),v&&h.jsxs("div",{className:"pt-2 border-t border-border flex items-center gap-2",children:[h.jsx(se.Text,{className:"text-xs text-green-600",children:"Saved as procedure"}),h.jsx(Ge,{size:"sm",variant:"outline",onClick:()=>r(`/procedures/${v}`),children:"View"})]})]})]})}function fM({toolCall:e,toolResult:r}){const[s,i]=j.useState(!1);let o=null,c=null;if(r?.result)try{o=JSON.parse(r.result),o&&typeof o=="object"&&"message"in o&&(c=o.message??null)}catch{o=r.result}const u=c??"completed";return h.jsxs("div",{className:"my-2 border border-border rounded-lg overflow-hidden bg-muted/30",children:[h.jsxs("button",{type:"button",onClick:()=>i(!s),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-left hover:bg-muted/50 transition-colors",children:[s?h.jsx(Vo,{className:"w-4 h-4 flex-shrink-0"}):h.jsx(Po,{className:"w-4 h-4 flex-shrink-0"}),h.jsx(SA,{className:"w-4 h-4 flex-shrink-0 text-muted-foreground"}),h.jsx("span",{className:"font-mono text-xs flex-shrink-0",children:e.tool_name}),r&&h.jsx("span",{className:"text-xs text-muted-foreground ml-auto truncate max-w-[60%]",children:u})]}),s&&h.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[h.jsxs("div",{children:[h.jsx(se.Text,{className:"text-xs text-muted-foreground mb-1",children:"Arguments"}),h.jsx("pre",{className:"text-xs bg-muted rounded p-2 overflow-x-auto",children:JSON.stringify(e.arguments,null,2)})]}),o!==null&&h.jsxs("div",{children:[h.jsx(se.Text,{className:"text-xs text-muted-foreground mb-1",children:"Result"}),h.jsx("pre",{className:"text-xs bg-muted rounded p-2 overflow-x-auto max-h-48",children:typeof o=="string"?o:JSON.stringify(o,null,2)})]})]})]})}function hM({message:e,operations:r=[]}){if(!e.parts||e.parts.length===0)return h.jsx(se.Text,{as:"span",className:"whitespace-pre-wrap",children:e.content});const s=new Map,i=[];let o=0;for(const c of e.parts)if(c.kind==="text")o>0&&(i.push(h.jsx("br",{},`br-${i.length}`)),i.push(h.jsx("br",{},`br2-${i.length}`))),i.push(h.jsx(se.Text,{as:"span",className:"whitespace-pre-wrap",children:c.content},`text-${i.length}`)),o++;else if(c.kind==="tool_call")s.set(c.call_id,{call:c});else if(c.kind==="tool_result"){const u=s.get(c.call_id);u&&(u.result=c)}for(const[c,{call:u,result:d}]of s)i.push(h.jsx(fM,{toolCall:u,toolResult:d},c));if(r.length>0)for(const c of r)i.push(h.jsx(dM,{operation:c},c.id));return h.jsx(h.Fragment,{children:i})}function mM(e){const r=new Set;if(!e.parts)return r;for(const s of e.parts)if(s.kind==="tool_result")try{const i=JSON.parse(s.result);i.status==="pending"&&i.ref_id&&r.add(i.ref_id)}catch{}return r}const pM=j.forwardRef(function({messages:r,operations:s,streamingContent:i,isLoading:o},c){return h.jsx(Mo,{className:"flex-1 overflow-hidden",children:h.jsxs(Xc,{className:"h-full overflow-y-auto p-4 space-y-4",children:[r.length===0&&!i&&h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"Send a message to start chatting"})}),r.map((u,d)=>{const m=mM(u),f=s.filter(p=>p.ref_id!=null&&m.has(p.ref_id));return h.jsx("div",{className:`flex ${u.role==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${u.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:h.jsx(hM,{message:u,operations:f})})},u.id||`${u.role}-${d}`)}),i&&h.jsx("div",{className:"flex justify-start",children:h.jsxs("div",{className:"max-w-[80%] rounded-lg px-4 py-2 bg-muted",children:[h.jsx(se.Text,{as:"span",className:"whitespace-pre-wrap",children:i}),h.jsx("span",{className:"inline-block w-2 h-4 ml-1 bg-foreground/50 animate-pulse"})]})}),o&&!i&&h.jsx("div",{className:"flex justify-start",children:h.jsx("div",{className:"bg-muted rounded-lg px-4 py-2",children:h.jsx(At,{className:"w-4 h-4 animate-spin"})})}),h.jsx("div",{ref:c})]})})});function wx(e){switch(e){case"api":return"Something went wrong on our end. Please try again.";case"overloaded":return"The service is currently busy. Please try again in a moment.";case"timeout":return"The request timed out. Please try again.";case"internal":return"An unexpected error occurred. Please try again."}}function gM(){const{id:e}=xm(),r=lr(),s=Wn(),i=e==="new",c=j.useRef(s.state).current,[u,d]=j.useState(i?null:e||null),[m,f]=j.useState(()=>c?.initialMessage?[{role:"user",content:c.initialMessage}]:[]),[p,x]=j.useState([]),[y,v]=j.useState(!i&&!c?.completionId),[S,N]=j.useState(""),[C,w]=j.useState(!!c?.completionId),[_,E]=j.useState(null),[R,M]=j.useState(c?.completionId||null),[T,A]=j.useState(""),z=j.useRef(null),O=j.useMemo(()=>new _b,[]),G=j.useMemo(()=>new sj,[]),P=j.useMemo(()=>new ij,[]),U=j.useMemo(()=>new rj,[]);j.useEffect(()=>{s.state&&r(s.pathname,{replace:!0,state:null})},[s.pathname,s.state,r]),j.useEffect(()=>{if(i||!e||c?.completionId)return;const q=e;async function H(){try{const Y=await U.execute(q);f(Y.messages),x(Y.async_tool_executions),d(Y.id),Y.is_processing&&Y.pending_completion_id&&(w(!0),M(Y.pending_completion_id)),Y.last_error_type&&E(wx(Y.last_error_type))}catch(Y){E(Y instanceof Error?Y.message:"Failed to load thread")}finally{v(!1)}}H()},[e,i,U,c?.completionId]),j.useEffect(()=>{z.current?.scrollIntoView({behavior:"smooth"})},[m,T]);const V=j.useCallback(async()=>{if(u)try{const q=await U.execute(u);f(q.messages),x(q.async_tool_executions)}catch(q){console.error("Failed to reload thread:",q)}},[u,U]);po(E_,q=>{q.completion_id===R&&(q.done?(A(""),w(!1),M(null),V()):A(H=>H+q.chunk))}),po(C_,q=>{q.completion_id===R&&(A(""),w(!1),M(null),V())}),po(__,q=>{q.completion_id===R&&(E(wx(q.error_type)),A(""),w(!1),M(null))}),po(j_,q=>{q.thread_id===u&&V()}),po(A_,q=>{q.thread_id===u&&V()});const B=j.useCallback(async()=>{if(!S.trim()||C)return;const q={role:"user",content:S.trim()};f(H=>[...H,q]),N(""),w(!0),E(null),A("");try{if(u){const H=await G.execute({threadId:u,params:{content:q.content}});M(H.completion_id)}else{const H=await O.execute({content:q.content});d(H.thread_id),r(`/chat/${H.thread_id}`,{replace:!0}),M(H.completion_id)}}catch(H){E(H instanceof Error?H.message:"Failed to send message"),w(!1)}},[S,C,O,G,u,r]),F=j.useCallback(async()=>{if(u)try{await P.execute(u)}catch(q){console.error("Failed to cancel:",q)}},[u,P]),L=()=>{r("/chat")};return y?h.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:h.jsx(At,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):h.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:[h.jsx(cM,{isNewThread:i,threadId:u,onBack:L}),h.jsx(pM,{ref:z,messages:m,operations:p,streamingContent:T,isLoading:C}),_&&h.jsxs("div",{className:"mt-2 p-3 bg-destructive/10 border border-destructive/20 rounded-lg flex items-center justify-between gap-2",children:[h.jsx(se.Text,{className:"text-destructive text-sm",children:_}),h.jsx("button",{type:"button",onClick:()=>E(null),className:"text-destructive/60 hover:text-destructive transition-colors","aria-label":"Dismiss error",children:h.jsx(tn,{className:"w-4 h-4"})})]}),h.jsx(uM,{value:S,onChange:N,onSend:B,onStop:F,isLoading:C})]})}function yM(){const e=lr(),[r,s]=j.useState(null),[i,o]=j.useState(!0),c=j.useMemo(()=>new xu,[]);return j.useEffect(()=>{(async()=>{try{const d=await c.execute();s(d.plasmids.length)}catch(d){console.error("Failed to load stats:",d)}finally{o(!1)}})()},[c]),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(se.Header,{children:"Welcome to Geney"}),h.jsx(se.Text,{className:"text-muted-foreground",children:"Your synthetic biology workspace"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.jsxs(Mo,{className:"p-6 space-y-4 hover:shadow-lg transition-shadow",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:h.jsx(Gh,{className:"w-6 h-6 text-primary"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx(se.Label,{children:"Plasmids"}),h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:"Your plasmid library"})]})]}),h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsxs("div",{children:[i?h.jsx(At,{className:"w-8 h-8 text-muted-foreground animate-spin"}):h.jsx(se.Header,{className:"text-4xl font-bold",children:r}),h.jsx(se.Subtext,{className:"text-muted-foreground text-sm",children:"sequences uploaded"})]}),h.jsxs(Ge,{variant:"ghost",size:"sm",onClick:()=>e("/library"),children:["View ",h.jsx(Ih,{className:"w-4 h-4 ml-1"})]})]})]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(se.Label,{children:"Quick Actions"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.jsxs("button",{type:"button",onClick:()=>e("/library"),className:"flex items-center gap-4 p-4 rounded-lg border border-border hover:border-primary/50 hover:bg-muted/30 transition-all text-left",children:[h.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:h.jsx(Gh,{className:"w-6 h-6 text-primary"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx(se.UIText,{className:"font-medium",children:"Manage Plasmids"}),h.jsx(se.Subtext,{className:"text-muted-foreground text-sm",children:"Upload and view your GenBank sequences"})]}),h.jsx(Ih,{className:"w-5 h-5 text-muted-foreground"})]})})]})]})}const xM=300;function vM({onSearch:e,isSearching:r}){const[s,i]=j.useState(""),o=s.trim()!=="";j.useEffect(()=>{const u=setTimeout(()=>{e({query:s.trim()||void 0})},xM);return()=>clearTimeout(u)},[s,e]);const c=j.useCallback(()=>{i("")},[]);return h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[r?h.jsx(At,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground animate-spin"}):h.jsx(Ib,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),h.jsx(Xn,{type:"text",placeholder:"Search by name or feature...",value:s,onChange:u=>i(u.target.value),className:"pl-10"})]}),o&&h.jsxs(Ge,{variant:"outline",size:"sm",onClick:c,className:"flex items-center gap-1",children:[h.jsx(tn,{className:"w-3 h-3"}),"Clear"]})]})}function bM({isOpen:e,onClose:r,onUpload:s}){const[i,o]=j.useState(null),[c,u]=j.useState(""),[d,m]=j.useState(["dam","dcm"]),[f,p]=j.useState(!1),[x,y]=j.useState(null),v=j.useId(),S=j.useId();j.useEffect(()=>{e&&(o(null),u(""),m(["dam","dcm"]),y(null),p(!1))},[e]),j.useEffect(()=>{if(i&&!c){const w=i.name.replace(/\.(gbk|gb)$/i,"");u(w)}},[i,c]);const N=w=>{const _=w.target.files?.[0];_&&(_.name.endsWith(".gbk")||_.name.endsWith(".gb")?(o(_),y(null)):y("Please select a valid GenBank file (.gbk or .gb)"))},C=async w=>{if(w.preventDefault(),!i){y("Please select a file");return}if(!c.trim()){y("Please enter a name");return}p(!0),y(null);try{await s(i,c.trim(),d),r()}catch(_){y(_ instanceof Error?_.message:"Failed to upload file")}finally{p(!1)}};return e?h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"fixed inset-0 bg-black/60 backdrop-blur-sm cursor-default",onClick:f?void 0:r,disabled:f,"aria-label":"Close modal"}),h.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-lg border border-gray-200 dark:border-zinc-800",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-200 dark:border-zinc-800",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Upload Plasmid"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Upload a GenBank file to add to your collection"})]}),h.jsx("button",{type:"button",onClick:r,disabled:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors disabled:opacity-50",children:h.jsx(tn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),h.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx($r,{htmlFor:v,className:"text-sm font-medium text-gray-900 dark:text-white",children:"GenBank File"}),i?h.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:i.name}),h.jsxs("p",{className:"text-xs text-green-600 dark:text-green-500",children:[(i.size/1024).toFixed(1)," KB"]})]})]}),h.jsx("button",{type:"button",onClick:()=>o(null),disabled:f,className:"p-1 hover:bg-green-100 dark:hover:bg-green-900/40 rounded transition-colors",children:h.jsx(tn,{className:"w-4 h-4 text-green-600 dark:text-green-400"})})]}):h.jsxs("label",{htmlFor:v,className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 dark:border-zinc-700 rounded-lg cursor-pointer bg-gray-50 dark:bg-zinc-800/50 hover:bg-gray-100 dark:hover:bg-zinc-800 transition-colors",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[h.jsxs("svg",{className:"w-8 h-8 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("title",{children:"Upload file icon"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]}),h.jsx("p",{className:"mb-1 text-sm text-gray-600 dark:text-gray-300 font-medium",children:"Click to upload"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:".gbk or .gb files only"})]}),h.jsx("input",{id:v,type:"file",accept:".gbk,.gb",onChange:N,disabled:f,className:"hidden"})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx($r,{htmlFor:S,className:"text-sm font-medium text-gray-900 dark:text-white",children:"Plasmid Name"}),h.jsx(Xn,{id:S,type:"text",value:c,onChange:w=>u(w.target.value),placeholder:"Enter plasmid name",disabled:f,className:"w-full px-4 py-3 text-base"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx($r,{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Methylation"}),h.jsx("div",{className:"flex flex-wrap gap-4",children:[{value:"dam",label:"Dam",desc:"E. coli GATC"},{value:"dcm",label:"Dcm",desc:"E. coli CC(A/T)GG"},{value:"CpG",label:"CpG",desc:"Eukaryotic"}].map(w=>h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:d.includes(w.value),onChange:_=>{_.target.checked?m([...d,w.value]):m(d.filter(E=>E!==w.value))},disabled:f,className:"w-4 h-4 rounded border-gray-300 dark:border-zinc-600 text-primary focus:ring-primary"}),h.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:w.label}),h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",w.desc,")"]})]},w.value))})]}),x&&h.jsxs("div",{className:"flex items-start gap-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[h.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:h.jsx(tn,{className:"w-3 h-3 text-white"})}),h.jsx(se.Subtext,{className:"text-red-700 dark:text-red-400 text-sm",children:x})]})]}),h.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-zinc-800/50 border-t border-gray-200 dark:border-zinc-800 rounded-b-2xl",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(se.Subtext,{className:"text-xs text-gray-500 dark:text-gray-400",children:"Supported: .gbk, .gb"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ge,{type:"button",variant:"ghost",onClick:r,disabled:f,className:"px-5",children:"Cancel"}),h.jsx(Ge,{type:"submit",disabled:!i||!c.trim()||f,variant:"default",className:"px-8",onClick:C,children:f?"Uploading...":"Upload"})]})]})})]})]}):null}function wM(){const[e,r]=j.useState([]),[s,i]=j.useState(null),[o,c]=j.useState(!1),[u,d]=j.useState(!1),[m,f]=j.useState(null),[p,x]=j.useState(!1),y=lr(),v=j.useMemo(()=>new Tb,[]),S=j.useMemo(()=>new xu,[]),N=j.useMemo(()=>new Mb,[]),C=j.useCallback(async()=>{c(!0),f(null);try{const A=await S.execute();r(A.plasmids)}catch(A){f(A instanceof Error?A.message:"Failed to load plasmids")}finally{c(!1)}},[S]);j.useEffect(()=>{C()},[C]);const w=async(A,z,O)=>{await v.execute({file:A,name:z,methylases:O}),await C(),i(null)},_=A=>{y(`/library/${A.id}`)},E=j.useCallback(async A=>{if(!A.query){i(null);return}d(!0),f(null);try{const z=await N.execute(A);i(z.results)}catch(z){f(z instanceof Error?z.message:"Search failed")}finally{d(!1)}},[N]),R=s??e,M=s!==null,T=j.useMemo(()=>[{key:"name",header:"Name",render:z=>{const O=z,G=M&&O.matched_on==="feature"&&O.matched_features?.length>0;return h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Hb,{className:"w-5 h-5 flex-shrink-0 text-muted-foreground"}),h.jsx(se.UIText,{className:"truncate",children:z.name})]}),G&&h.jsxs(se.Subtext,{className:"ml-8 text-primary",children:["Matched: ",O.matched_features.join(", ")]})]})}},{key:"length",header:"Length",render:z=>h.jsxs(se.Subtext,{children:[z.length.toLocaleString()," bp"]})},{key:"topology",header:"Topology",render:z=>h.jsx(se.Subtext,{className:"capitalize",children:z.topology||"-"})}],[M]);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(se.Header,{children:"Library"}),h.jsx(se.Text,{className:"text-muted-foreground",children:"Upload and manage your GenBank plasmid files"})]}),h.jsxs(Ge,{onClick:()=>x(!0),variant:"default",children:[h.jsx(vA,{className:"w-4 h-4 mr-2"}),"Upload"]})]}),h.jsx(vM,{onSearch:E,isSearching:u}),m&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-lg p-4",children:h.jsx(se.Text,{className:"text-red-600 dark:text-red-400",children:m})}),M&&h.jsxs(se.Subtext,{className:"text-muted-foreground",children:["Showing ",R.length," result",R.length!==1?"s":""]}),o&&e.length===0?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(At,{className:"w-8 h-8 text-primary animate-spin"})}):h.jsx(a1,{items:R,columns:T,onRowClick:_,itemLabel:M?"Search Results":"Your Plasmids",getItemKey:A=>A.id,emptyStateMessage:M?"No plasmids match your search":"No plasmids uploaded yet. Upload your first GenBank file!"}),h.jsx(bM,{isOpen:p,onClose:()=>x(!1),onUpload:w})]})}const k1=(e,r)=>{const s=Wn(),{setCustomLabel:i}=N_(),o=j.useCallback(r,[]);j.useEffect(()=>{e&&i(s.pathname,o(e))},[e,o,s.pathname,i])},SM=new fj,Sx={enzymes:[],enzymeById:{},isLoading:!1,error:null,lastFetchedAt:null},Xs=Nm()(Em(jm((e,r)=>({...Sx,loadEnzymes:async()=>{const{lastFetchedAt:s,isLoading:i}=r();if(!i&&s===null){e(o=>{o.isLoading=!0,o.error=null});try{const o=await SM.execute(),c={};for(const u of o.enzymes)c[u.id]=u;e(u=>{u.enzymes=o.enzymes,u.enzymeById=c,u.lastFetchedAt=Date.now(),u.isLoading=!1})}catch(o){e(c=>{c.error=o instanceof Error?o.message:"Failed to load enzymes",c.isLoading=!1})}}},getEnzyme:s=>r().enzymeById[s],searchEnzymes:s=>{const{enzymes:i}=r();if(!s.trim())return i;const o=s.toLowerCase();return i.filter(c=>c.name.toLowerCase().includes(o)||c.recognition_sequence.toLowerCase().includes(o))},reset:()=>{e(Sx)}})),{name:"resources-store"})),NM=[{value:"single",label:"1x"},{value:"multi",label:"2+"}];function EM({enzymesWithCounts:e,isComputing:r,selectedEnzymeIds:s,onEnzymeToggle:i,onSetSelectedEnzymeIds:o,onAddDigest:c,cutCountFilter:u,onCutCountFilterChange:d,sequenceLength:m,className:f}){const[p,x]=j.useState(""),y=j.useMemo(()=>{if(!m||s.length===0)return[];const E=[];for(const T of s){const A=e.find(z=>z.enzyme.id===T);if(A)for(const z of A.cutSites)E.push(z.fcut)}if(E.length===0)return[];const R=[...new Set(E)].sort((T,A)=>T-A),M=[];for(let T=0;T<R.length;T++){const A=R[T],z=R[(T+1)%R.length];let O;z>A?O=z-A:O=m-A+z,M.push({size:O,start:A,end:z})}return M.sort((T,A)=>A.size-T.size)},[s,e,m]),v=j.useMemo(()=>{let E=e;switch(u){case"single":E=E.filter(R=>R.cutCount===1);break;case"multi":E=E.filter(R=>R.cutCount>=2);break}if(p.trim()){const R=p.toLowerCase();E=E.filter(M=>M.enzyme.name.toLowerCase().includes(R)||M.enzyme.recognition_sequence.toLowerCase().includes(R))}return E},[e,u,p]),S=j.useMemo(()=>({single:e.filter(E=>E.cutCount===1).length,multi:e.filter(E=>E.cutCount>=2).length}),[e]),N=j.useCallback(E=>{i(E)},[i]),C=j.useCallback(E=>{d(E);let R;switch(E){case"single":R=e.filter(M=>M.cutCount===1).map(M=>M.enzyme.id);break;case"multi":R=e.filter(M=>M.cutCount>=2).map(M=>M.enzyme.id);break}o(R)},[e,d,o]),w=j.useCallback(()=>{s.length>0&&c?.(s)},[s,c]),_=j.useCallback(()=>{o([])},[o]);return h.jsxs("div",{className:st("flex flex-col h-full bg-background",f),children:[h.jsxs("div",{className:"p-3 border-b",children:[h.jsx("h3",{className:"text-sm font-medium text-foreground mb-2",children:"Enzymes"}),h.jsx(Xn,{type:"text",placeholder:"Search enzymes...",value:p,onChange:E=>x(E.target.value),className:"h-8 text-xs"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-1 p-2 border-b",children:[NM.map(E=>h.jsxs("button",{type:"button",onClick:()=>C(E.value),className:st("px-2 py-0.5 text-xs rounded-full transition-colors",u===E.value?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),children:[E.label," (",S[E.value],")"]},E.value)),s.length>0&&h.jsx("button",{type:"button",onClick:_,className:"ml-auto px-2 py-0.5 text-xs text-muted-foreground hover:text-foreground transition-colors",children:"Clear"})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:r?h.jsx("div",{className:"flex items-center justify-center h-20 text-sm text-muted-foreground",children:"Computing cut sites..."}):v.length===0?h.jsx("div",{className:"flex items-center justify-center h-20 text-sm text-muted-foreground",children:"No enzymes found"}):h.jsx("ul",{className:"divide-y divide-border",children:v.map(({enzyme:E,cutCount:R})=>{const M=s.includes(E.id);return h.jsxs("li",{onClick:()=>N(E.id),onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),N(E.id))},className:st("group flex items-center px-3 py-2 cursor-pointer transition-colors",M?"bg-primary/10":"hover:bg-muted/50"),children:[h.jsx("input",{type:"checkbox",checked:M,onChange:()=>N(E.id),className:"mr-2 h-4 w-4 rounded border-gray-300",onClick:T=>T.stopPropagation()}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm font-medium truncate",children:E.name}),h.jsxs("span",{className:st("px-1.5 py-0.5 text-xs rounded-full",R===1?"bg-green-100 text-green-700":R===2?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"),children:[R,"x"]})]}),h.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:E.recognition_sequence})]})]},E.id)})})}),h.jsxs("div",{className:"border-t",children:[y.length>0&&h.jsxs("div",{className:"p-3 border-b bg-muted/30",children:[h.jsxs("div",{className:"text-xs font-medium text-foreground mb-2",children:["Expected Fragments (",y.length,")"]}),h.jsx("div",{className:"flex flex-wrap gap-1",children:y.map((E,R)=>h.jsxs("span",{className:st("px-2 py-0.5 text-xs rounded-full font-mono",R===0?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-gray-100 text-gray-700 dark:bg-zinc-700 dark:text-gray-300"),title:`${E.start.toLocaleString()} - ${E.end.toLocaleString()} bp`,children:[E.size.toLocaleString()," bp"]},`${E.start}-${E.end}-${E.size}`))})]}),h.jsxs("div",{className:"p-3 space-y-2",children:[h.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[v.length," enzyme",v.length!==1?"s":""," ",s.length>0&&h.jsxs("span",{children:["(",s.length," selected)"]})]}),c&&s.length>0&&h.jsxs(Ge,{onClick:w,className:"w-full",size:"sm",children:[h.jsx(Am,{className:"w-4 h-4 mr-2"}),"Add Digest (",s.length," enzyme",s.length!==1?"s":"",")"]})]})]})]})}const CM={circular:0,linear:0,setCentralIndex:(e,r)=>{}},si=j.createContext(CM);si.displayName="CentralIndexContext";const go=e=>e[e.length-1],_M=e=>e[0],vo=(e,r)=>[...e].sort((s,i)=>s.end-i.end).sort((s,i)=>s.start-i.start).reduce((s,i)=>{const o=s.findIndex(c=>i.end===i.start?!1:go(c).end<=go(c).start?go(c).end+r<=i.start:i.end>i.start?go(c).end<=i.start:go(c).end<i.start&&i.end<_M(c).start);return o>-1?s[o].push(i):s.push([i]),s},[]),gc=(e,r,s)=>{const i=new Array(s);for(let o=0;o<s;o+=1){i[o]=[];for(let c=0;c<e.length;c+=1)i[o][c]=[]}for(let o=0;o<e.length;o+=1)for(let c=0;c<e[o].length;c+=1)if(e[o][c].start<e[o][c].end){let u=Math.max(0,Math.floor(e[o][c].start/r));const d=Math.floor((e[o][c].end-1)/r);for(;u<=d&&u<s;)i[u][o].push(e[o][c]),u+=1}else if(e[o][c].end<e[o][c].start){let u=Math.floor((e[o][c].end-1)/r);for(e[o][c].end===0&&(u=-1);u>=0&&u<i.length;)i[u][o].push(e[o][c]),u-=1;let d=Math.floor(e[o][c].start/r);for(;d<s;)i[d][o].push(e[o][c]),d+=1}else if(e[o][c].end===e[o][c].start){for(let d=0;d<i.length;d+=1)i[d][o].push(e[o][c]);if(e[o][c].end===0)continue;const u=Math.floor(e[o][c].start/r);i[u][o].push(e[o][c])}for(let o=0;o<s;o+=1)i[o]=i[o].filter(c=>c[0]);return i},oh=(e,r,s,i=!0)=>{const o=new Array(s);for(let c=0;c<s;c+=1)o[c]=[];for(let c=0;c<e.length;c+=1){const{end:u,start:d}=e[c];if(d<u){let m=Math.floor(d/r);const f=Math.floor((u-1)/r);for(;m<=f&&m<s;)o[m].push(e[c]),m+=1}else{let m=Math.floor(u/r);for(;m>=0;)o[m].push(e[c]),m-=1;let f=Math.floor(d/r);for(;f<s;)(i||o[f].every(p=>p.id!==e[c].id))&&o[f].push(e[c]),f+=1}}return o},Dn=(e,r)=>{if(e===r)return!0;if(typeof e=="object"&&e!==null&&typeof r=="object"&&r!==null){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(Object.hasOwn(r,s)){if(!Dn(e[s],r[s]))return!1}else return!1;return!0}return!1};function jM(e,r,{signal:s,edges:i}={}){let o,c=null;const u=i!=null&&i.includes("leading"),d=i==null||i.includes("trailing"),m=()=>{c!==null&&(e.apply(o,c),o=void 0,c=null)},f=()=>{d&&m(),v()};let p=null;const x=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},y=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{y(),o=void 0,c=null},S=()=>{m()},N=function(...C){if(s?.aborted)return;o=this,c=C;const w=p==null;x(),u&&w&&m()};return N.schedule=x,N.cancel=v,N.flush=S,s?.addEventListener("abort",v,{once:!0}),N}function z1(e,r=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:c}=s,u=Array(2);i&&(u[0]="leading"),o&&(u[1]="trailing");let d,m=null;const f=jM(function(...y){d=e.apply(this,y),m=null},r,{edges:u}),p=function(...y){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=e.apply(this,y),m=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,y),d)},x=()=>(f.flush(),d);return p.cancel=f.cancel,p.flush=x,p}function AM(e,r=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return z1(e,r,{leading:i,maxWait:r,trailing:o})}const TM=(e,r,s,i)=>{switch(r){case"debounce":return z1(e,s,i);case"throttle":return AM(e,s,i);default:return e}},MM=e=>{const r=j.useRef(e);return j.useEffect(()=>{r.current=e}),j.useMemo(()=>((...s)=>{var i;return(i=r.current)===null||i===void 0?void 0:i.call(r,...s)}),[])},RM=e=>{const[r,s]=j.useState(e?.current||null);return e&&setTimeout(()=>{e.current!==r&&s(e.current)},0),{refProxy:j.useMemo(()=>new Proxy(o=>{o!==r&&s(o)},{get(o,c){return c==="current"?r:o[c]},set(o,c,u){return c==="current"?s(u):o[c]=u,!0}}),[r]),refElement:r,setRefElement:s}},kM=(e,r)=>{var s,i;const o=(s=e.borderBoxSize)===null||s===void 0?void 0:s[0],c=(i=e.contentBoxSize)===null||i===void 0?void 0:i[0];return r==="border-box"&&o?{width:o.inlineSize,height:o.blockSize}:r==="content-box"&&c?{width:c.inlineSize,height:c.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}};function zM({skipOnMount:e=!1,refreshMode:r,refreshRate:s=1e3,refreshOptions:i,handleWidth:o=!0,handleHeight:c=!0,targetRef:u,observerOptions:d,onResize:m,disableRerender:f=!1}={}){const p=j.useRef(e),x=MM(m),[y,v]=j.useState({width:void 0,height:void 0}),S=j.useRef({width:void 0,height:void 0}),{refProxy:N,refElement:C}=RM(u),{box:w}=d||{},_=j.useCallback(R=>{if(!o&&!c)return;if(p.current){p.current=!1;return}const M=(T,A)=>o&&T.width!==A.width||c&&T.height!==A.height;R.forEach(T=>{const A=kM(T,w);f?M(S.current,A)&&(S.current.width=A.width,S.current.height=A.height,x?.({width:A.width,height:A.height,entry:T})):v(z=>M(z,A)?(x?.({width:A.width,height:A.height,entry:T}),A):z)})},[o,c,p,w,f]),E=j.useCallback(TM(_,r,s,i),[_,r,s,i]);return j.useEffect(()=>{let R;if(C)try{R=new window.ResizeObserver(E),R.observe(C,d)}catch(M){console.warn("ResizeObserver not supported or failed to initialize:",M)}else(y.width||y.height)&&(x?.({width:null,height:null,entry:null}),S.current.width=void 0,S.current.height=void 0,f||v({width:void 0,height:void 0}));return()=>{var M,T,A;(M=R?.disconnect)===null||M===void 0||M.call(R),(A=(T=E).cancel)===null||A===void 0||A.call(T)}},[E,C]),Object.assign({ref:N},f?S.current:y)}const OM=(e,r,s=!0)=>{let i;return function(...o){const c=function(){i=null,s||e.apply(this,o)},u=s&&!i;clearTimeout(i),i=setTimeout(c,r),u&&e.apply(this,o)}};class LM extends j.PureComponent{static contextType=si;static context;clickedOnce=null;clickedTwice=null;handleKeyPress=r=>{const s=this.keypressMap(r);s&&(r.preventDefault(),this.handleSeqInteraction(s))};keypressMap=r=>{const{copyEvent:s,selectAllEvent:i}=this.props;if(s?.(r))return"Copy";if(i?.(r))return"SelectAll";const{key:o,shiftKey:c}=r;switch(o){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return c?`Shift${o}`:o;default:return null}};handleSeqInteraction=async r=>{const{seq:s}=this.props,i=s.length,o=this.props.bpsPerBlock||1;switch(r){case"SelectAll":{this.selectAllHotkey();break}case"Copy":{this.handleCopy();break}case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":case"ShiftArrowUp":case"ShiftArrowRight":case"ShiftArrowDown":case"ShiftArrowLeft":{const{selection:c,setSelection:u}=this.props,{end:d,start:m}=c;if(typeof m>"u"||typeof d>"u")return;let{clockwise:f}=c,p=d;r==="ArrowUp"||r==="ShiftArrowUp"?i/o>1?p-=o:p-=1:r==="ArrowRight"||r==="ShiftArrowRight"?p+=1:r==="ArrowDown"||r==="ShiftArrowDown"?i/o>1?p+=o:p+=1:(r==="ArrowLeft"||r==="ShiftArrowLeft")&&(p-=1),p<=-1&&(p=i+p),p>=i+1&&(p-=i),f=Math.abs(m-d)===0?r==="ArrowRight"||r==="ShiftArrowRight"||r==="ArrowDown"||r==="ShiftArrowDown":f,p!==m&&!r.startsWith("Shift")?u({clockwise:!0,end:p,start:p,type:"SEQ"}):r.startsWith("Shift")&&u({clockwise:f,end:p,start:m,type:"SEQ"});break}}};handleCopy=()=>{const{selection:{end:r,ref:s,start:i},seq:o}=this.props;if(!document)return;const c=document.activeElement,u=document.createElement("textarea");s==="ALL"?u.innerText=o:u.innerText=o.substring(i||0,r),document.body&&document.body.appendChild(u),u.select(),document.execCommand("copy"),u.remove(),c&&c.focus()};selectAllHotkey=()=>{const{selection:r,seq:s,setSelection:i}=this.props,o={...r,clockwise:!0,end:s.length,start:0};i(o)};handleTripleClick=()=>{this.selectAllHotkey()};resetClicked=OM(()=>{this.clickedOnce=null,this.clickedTwice=null},250);handleMouseEvent=r=>{const{handleMouseEvent:s}=this.props;r.type==="mouseup"&&(this.resetClicked(),this.clickedOnce===r.target&&this.clickedTwice===r.target?(this.handleTripleClick(),this.resetClicked()):this.clickedOnce===r.target&&this.clickedTwice===null?(this.clickedOnce=r.target,this.clickedTwice=r.target,this.resetClicked()):(this.clickedOnce=r.target,this.resetClicked()));const{button:i,ctrlKey:o,type:c}=r,u=c==="mousedown"&&i===0&&o;r.button===0&&!u&&s(r)};render=()=>h.jsx("div",{className:"la-vz-viewer-event-router",id:"la-vz-event-router",role:"presentation",style:{display:"flex",flexDirection:"row",height:"100%",outline:"none",position:"absolute",width:"100%"},tabIndex:-1,onKeyDown:this.handleKeyPress,onMouseDown:this.handleMouseEvent,onMouseMove:this.props.handleMouseEvent,onMouseUp:this.handleMouseEvent,children:this.props.children})}const DM={a:"a",c:"c",g:"g",t:"t",u:"u"},Nx={b:{c:"c",g:"g",t:"t"},d:{a:"a",g:"g",t:"t"},h:{a:"a",c:"c",t:"t"},k:{g:"g",t:"t"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",t:"t"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",t:"t"},x:{a:"a",c:"c",g:"g",t:"t"},y:{c:"c",t:"t"}},$M={b:{c:"c",g:"g",u:"u"},d:{a:"a",g:"g",u:"u"},h:{a:"a",c:"c",u:"u"},k:{g:"g",u:"u"},m:{a:"a",c:"c"},n:{a:"a",c:"c",g:"g",u:"u"},r:{a:"a",g:"g"},s:{c:"c",g:"g"},v:{a:"a",c:"c",g:"g"},w:{a:"a",u:"u"},x:{a:"a",c:"c",g:"g",u:"u"},y:{c:"c",u:"u"}},Qc={AAA:"K",AAC:"N",AAG:"K",AAT:"N",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AGA:"R",AGC:"S",AGG:"R",AGT:"S",ATA:"I",ATC:"I",ATG:"M",ATT:"I",CAA:"Q",CAC:"H",CAG:"Q",CAT:"H",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CGA:"R",CGC:"R",CGG:"R",CGT:"R",CTA:"L",CTC:"L",CTG:"L",CTT:"L",GAA:"E",GAC:"D",GAG:"E",GAT:"D",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GGA:"G",GGC:"G",GGG:"G",GGT:"G",GTA:"V",GTC:"V",GTG:"V",GTT:"V",TAA:"*",TAC:"Y",TAG:"*",TAT:"Y",TCA:"S",TCC:"S",TCG:"S",TCT:"S",TGA:"*",TGC:"C",TGG:"W",TGT:"C",TTA:"L",TTC:"F",TTG:"L",TTT:"F"},O1=Array.from(new Set(Object.values(Qc)).values()).join(""),L1=O1.toLowerCase().split("").filter(e=>e!=="*").reduce((e,r)=>({...e,[r]:r}),{}),BM={b:{d:"d",n:"n"},j:{i:"i",l:"l"},x:L1,z:{e:"e",q:"q"}},D1=e=>({aa:BM,dna:Nx,rna:$M,unknown:Nx})[e],HM=new RegExp(`^[${O1}BJXZ]+$`,"i"),yc=e=>(e=e.substring(0,1e3),/^[atgcn.]+$/i.test(e)?"dna":/^[augcn.]+$/i.test(e)?"rna":HM.test(e)?"aa":"unknown"),qM=e=>e.split("").reverse().join("");let Ys={a:"t",b:"v",c:"g",d:"h",g:"c",h:"d",k:"m",m:"k",n:"n",r:"y",s:"s",t:"a",u:"a",v:"b",w:"w",x:"x",y:"r"};Ys={...Ys,...Object.keys(Ys).reduce((e,r)=>({...e,[r.toUpperCase()]:Ys[r].toUpperCase()}),{})};const UM={aa:Object.keys(L1).reduce((e,r)=>({...e,[r.toUpperCase()]:"",[r.toLowerCase()]:""}),{B:"",J:"",Z:"",b:"",j:"",z:""}),dna:Ys,rna:{...Ys,A:"U",a:"u"},undefined:Ys},No=(e,r)=>{if(!e)return{compSeq:"",seq:""};const s=UM[r];let i="",o="";for(let c=0,u=e.length;c<u;c+=1)e[c]in s&&(i+=e[c],o+=s[e[c]]);return{compSeq:o,seq:i}},Zh=(e,r)=>{const{compSeq:s}=No(e,r);return s.split("").reverse().join("")},IM=new Set(["FWD","fwd","FORWARD","forward","FOR","for","TOP","top","1",1]),GM=new Set(["REV","rev","REVERSE","reverse","BOTTOM","bottom","-1",-1]),VM=e=>e?IM.has(e)?1:GM.has(e)?-1:0:0,PM=Object.keys(Qc).reduce((e,r)=>({...e,[r.replace(/T/gi,"U")]:Qc[r]}),{}),Ex=(e,r)=>{if(r==="aa")return e;let s=Qc;r==="rna"&&(s=PM);const i=e.toUpperCase(),o=i.length;let c="";for(let u=0,d=0;u<o;u+=3,d+=1)u+2<o&&(c+=s[i[u]+i[u+1]+i[u+2]]||"?");return c},YM=(e,r,s)=>{const i=r+r,o=s==="aa"?1:3;return e.map(c=>{const{direction:u,start:d}=c;let{end:m}=c;d>m&&(m+=r.length);const f=u===1?i.substring(d,m):Zh(i.substring(d,m),s),p=u===1?Ex(f,s):Ex(f,s).split("").reverse().join(""),x=u===1?d:m-p.length*o;let y=u===1?(d+p.length*o)%r.length:m%r.length;return y===0&&(y+=r.length),{...c,AAseq:p,end:y,start:x}})},ta=(e=10)=>{let s=11;s=10**(e+1);const i=s/10,o=Math.floor(Math.random()*(s-i+1))+i;return String(o).substring(1)},fn={MozUserSelect:"none",WebkitUserSelect:"none",background:"none",fill:"rgb(42, 42, 42)",fontFamily:"Roboto Mono, Monaco, monospace",msUserSelect:"none",userSelect:"none"},Qh={cursor:"pointer",fill:"rgba(255, 251, 7, 0.5)"},Cx={cursor:"pointer",fill:"rgba(255, 251, 7, 0.25)",strokeWidth:"1"},$1={fill:"rgb(222, 246, 255)",shapeRendering:"auto"},Wc={fill:"black",shapeRendering:"geometricPrecision",stroke:"black"},Wi={fill:"transparent",shapeRendering:"auto",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},Kc={cursor:"pointer",fill:"rgb(255, 251, 7)",fillOpacity:0,shapeRendering:"auto",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},Wh={fill:"transparent",shapeRendering:"geometricPrecision",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},B1={fill:"transparent",shapeRendering:"geometricPrecision",stroke:"rgb(115, 119, 125)",strokeWidth:"1"},H1={...fn,fill:"rgb(115, 119, 125)",fontSize:"12",fontWeight:300,textRendering:"optimizeLegibility"},Om={fillOpacity:"0.7",shapeRendering:"geometricPrecision",strokeWidth:"0.5"},Lm={...fn,color:"rgb(42, 42, 42)",fontWeight:400,shapeRendering:"geometricPrecision",strokeLinejoin:"round",textRendering:"optimizeLegibility"},FM={fillOpacity:"0.7",shapeRendering:"geometricPrecision",strokeWidth:"0.5"},XM={...fn,color:"rgb(42, 42, 42)",fontSize:"9",fontWeight:400,shapeRendering:"geometricPrecision",strokeLinejoin:"round",textRendering:"optimizeLegibility"},ZM={...fn,color:"rgb(42, 42, 42)",fontSize:"12",fontWeight:400},QM={cursor:"text",fontSize:"12",fontWeight:300,margin:"auto"},Jc={...fn,cursor:"pointer"};({...Jc});const _x={fill:"none",stroke:"rgb(158, 170, 184)",strokeWidth:"1"},WM={cursor:"text",fontWeight:300,height:"100%",outline:"none !important",overflowX:"hidden",overflowY:"scroll",padding:"10px",position:"relative"},KM={overflow:"visible",padding:0,width:"100%"};class JM extends j.PureComponent{static contextType=si;static context;scroller=j.createRef();insideDOM=j.createRef();timeoutID;constructor(r){super(r),this.state={centralIndex:0,visibleBlocks:new Array(Math.min(5,r.seqBlocks.length)).fill(null).map((s,i)=>i)}}componentDidMount=()=>{this.handleScrollOrResize(),window.addEventListener("resize",this.handleScrollOrResize)};componentDidUpdate=(r,s,i)=>{if(!this.scroller.current)return;const{seqBlocks:o,size:c}=this.props,{centralIndex:u,visibleBlocks:d}=this.state;this.context&&u!==this.context.linear?this.scrollToCentralIndex():!Dn(r.size,c)||o.length!==r.seqBlocks.length?this.handleScrollOrResize():Dn(s.visibleBlocks,d)&&this.restoreSnapshot(i)};componentWillUnmount=()=>{window.removeEventListener("resize",this.handleScrollOrResize)};getSnapshotBeforeUpdate=r=>{const s=this.scroller.current?this.scroller.current.scrollTop:0,{blockHeights:i}=r;let o=0,c=0;do c+=i[o],o+=1;while(c+i[o]<s&&o<i.length);const u=s-c;return{blockIndex:o,blockY:u}};scrollToCentralIndex=()=>{if(!this.scroller.current)return;const{blockHeights:r,bpsPerBlock:s,seqBlocks:i,size:{height:o},totalHeight:c}=this.props,{visibleBlocks:u}=this.state,{clientHeight:d,scrollHeight:m}=this.scroller.current,f=this.context.linear,p=i.findIndex(y=>y.props.firstBase<=f&&y.props.firstBase+s>=f);let x=[];if(m<=d)x=u;else if(p>-1){const y=i[p],v=p>0?r[p-1]:0;let S=y.props.y-v,N=S+o;N>c&&(N=c,S=c-o),r.reduce((C,w,_)=>(C>=S&&C<=N&&x.push(_),C+w),0),this.scroller.current.scrollTop=y.props.y-r[0]/2}Dn(x,u)||this.setState({centralIndex:f,visibleBlocks:x})};restoreSnapshot=r=>{if(!this.scroller.current)return;const{blockHeights:s}=this.props,{blockIndex:i,blockY:o}=r,c=s.slice(0,i).reduce((u,d)=>u+d,0)+o;this.scroller.current.scrollTop=c};handleScrollOrResize=()=>{if(!this.scroller.current||!this.insideDOM.current)return;const{blockHeights:r,size:{height:s},totalHeight:i}=this.props,{visibleBlocks:o}=this.state,c=[];let u=0;if(this.scroller&&this.insideDOM){const{top:m}=this.scroller.current.getBoundingClientRect(),{top:f}=this.insideDOM.current.getBoundingClientRect();u=f-m}u=-u+35,u=Math.max(0,u),u=Math.min(i-s,u);const d=u+s;u-=2*r[0],r.reduce((m,f,p)=>(m>=u&&m<=d&&c.push(p),m+f),0),Dn(c,o)||this.setState({visibleBlocks:c})};incrementScroller=r=>{this.stopIncrementingScroller(),this.timeoutID=setTimeout(()=>{this.scroller.current&&(this.scroller.current.scrollTop+=r,this.incrementScroller(r))},5)};stopIncrementingScroller=()=>{this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};handleMouseOver=r=>{if(!this.scroller.current)return;if(r.buttons!==1){this.timeoutID&&this.stopIncrementingScroller();return}const s=this.scroller.current.getBoundingClientRect();let i=(r.clientY-s.top)/s.height;if(i>.9){i=Math.min(1,i);let o=i-.9;o*=10;const c=15*o;this.incrementScroller(c)}else if(i<.1){i=.1-Math.max(0,i);const c=-15*(10*i);this.incrementScroller(c)}else this.stopIncrementingScroller()};render(){const{blockHeights:r,seqBlocks:s,size:{width:i},totalHeight:o}=this.props,{visibleBlocks:c}=this.state,[u]=c,d=r.slice(0,u).reduce((m,f)=>m+f,0);return h.jsx("div",{ref:this.scroller,className:"la-vz-linear-scroller","data-testid":"la-vz-viewer-linear",style:WM,onFocus:()=>{},onMouseOver:this.handleMouseOver,onScroll:this.handleScrollOrResize,children:h.jsxs("div",{ref:this.insideDOM,className:"la-vz-seqblock-container",style:{height:o,width:"100%"},children:[h.jsx("div",{className:"la-vz-seqblock-padding-top",style:{height:d,width:i||0}}),c.map(m=>s[m])]})})}}const e3=(e,r,s,i)=>{const o=parseInt,c=Math.round;let u,d,m,f,p,x,y,v=typeof s=="string";if(typeof e!="number"||e<-1||e>1||typeof r!="string"||r[0]!=="r"&&r[0]!=="#"||s)return null;const S=N=>{let C=N.length;const w={};if(C>9){if([u,d,m,v]=N=N.split(","),C=N.length,C<3||C>4)return null;w.r=o(u[3]==="a"?u.slice(5):u.slice(4)),w.g=o(d),w.b=o(m),w.a=v?parseFloat(v):-1}else{if(C===8||C===6||C<4)return null;C<6&&(N="#"+N[1]+N[1]+N[2]+N[2]+N[3]+N[3]+(C>4?N[4]+N[4]:"")),N=o(N.slice(1),16),C===9||C===5?(w.r=N>>24&255,w.g=N>>16&255,w.b=N>>8&255,w.a=c((N&255)/.255)/1e3):(w.r=N>>16,w.g=N>>8&255,w.b=N&255,w.a=-1)}return w};return y=r.length>9,y=v?s.length>9:y,p=S(r),f=e<0,x=f?{a:-1,b:0,g:0,r:0}:{a:-1,b:255,g:255,r:255},e=f?e*-1:e,f=1-e,!p||!x?null:(u=c((f*p.r**2+e*x.r**2)**.5),d=c((f*p.g**2+e*x.g**2)**.5),m=c((f*p.b**2+e*x.b**2)**.5),v=p.a,x=x.a,p=v>=0||x>=0,v=p?v<0?x:x<0?v:v*f+x*e:0,y?"rgb"+(p?"a(":"(")+u+","+d+","+m+(p?`,${c(v*1e3)/1e3}`:"")+")":"#"+(4294967296+u*16777216+d*65536+m*256+(p?c(v*255):0)).toString(16).slice(1,p?void 0:-2))},jx={CDS:"#ff6b6b",promoter:"#51cf66",terminator:"#ffd93d",rep_origin:"#ffc078",gene:"#ff8787",misc_feature:"#868e96"};function t3(e){return jx[e]??jx.misc_feature}const na=["#9DEAED","#8FDE8C","#CFF283","#8CDEBD","#F0A3CE","#F7C672","#F07F7F","#FAA887","#F099F7","#C59CFF","#6B81FF","#85A6FF"],bu={"#6B81FF":"#2E3B85","#85A6FF":"#4C66AD","#8CDEBD":"#4CA17F","#8FDE8C":"#5CA35A","#9DEAED":"#5EB5B8","#C59CFF":"#8A60C4","#CFF283":"#8DB041","#F07F7F":"#AD4040","#F099F7":"#AB63B0","#F0A3CE":"#BD6295","#F7C672":"#BD872B","#FAA887":"#B36446"},Lc=(e,r)=>(r||na)[e%(r||na).length],n3=e=>bu[na[e%na.length]],lh={},Dm=e=>{if(lh[e])return lh[e];const r=e3(-.5,e);return lh[e]=r,r||e},xc=(e,r)=>{if(!document)return;const s=document.getElementsByClassName(e);for(let i=0;i<s.length;i+=1)s[i].style.fillOpacity=`${r}`},r3=e=>h.jsx("g",{children:e.annotationRows.map((r,s)=>h.jsx(s3,{annotations:r,bpsPerBlock:e.bpsPerBlock,findXAndWidth:e.findXAndWidth,firstBase:e.firstBase,fullSeq:e.fullSeq,height:e.elementHeight,inputRef:e.inputRef,lastBase:e.lastBase,seqBlockRef:e.seqBlockRef,width:e.width,y:e.yDiff+e.elementHeight*s},`annotation-linear-row-${r[0].id}-${e.firstBase}-${e.lastBase}`))}),s3=e=>h.jsx("g",{className:"la-vz-linear-annotation-row",height:e.height*.8,transform:`translate(0, ${e.y})`,width:e.width,children:e.annotations.map((r,s)=>j.createElement(i3,{...e,key:`annotation-linear-${r.id}-${s}-${e.firstBase}-${e.lastBase}`,element:r,elements:e.annotations,index:s}))}),i3=e=>{const{element:r,elements:s,findXAndWidth:i,firstBase:o,index:c,inputRef:u,lastBase:d}=e,{color:m,direction:f,end:p,name:x,start:y}=r,v=f===1,S=f===-1,{overflowLeft:N,overflowRight:C,width:w,x:_}=i(c,r,s),E=y>p&&p<o,R=v&&p>o&&p<=d,M=S&&y>=o&&y<=d,T=e.height*.8,A=4,z=T/4,[O,G]=[_,w],P=M?`M ${2*A} 0`:"M 0 0",U=R?`L ${w-2*A} 0`:`L ${w} 0`;let V="",B=`L ${w} ${T}`;C&&w>2*A||E?B=`
        L ${w-A} ${z}
        L ${w} ${2*z}
        L ${w-A} ${3*z}
        L ${w} ${4*z}`:R&&(B=`
        L ${w} ${T/2}
        L ${w-Math.min(2*A,G)} ${T}`);let F=`L 0 ${T} L 0 0`;N&&w>2*A?F=`
        L 0 ${T}
        L ${A} ${3*z}
        L 0 ${2*z}
        L ${A} ${z}
        L 0 0`:M&&(F=`
        L ${Math.min(2*A,G)} ${T}
        L 0 ${T/2}
        L ${Math.min(2*A,G)} 0`),V=`${P} ${U} ${B} ${F}`,v&&C||v&&E?w>15&&(V+=`
        M ${w-3*A} ${z}
        L ${w-2*A} ${2*z}
        L ${w-3*A} ${3*z}
        M ${w-4*A} ${z}
        L ${w-3*A} ${2*z}
        L ${w-4*A} ${3*z}`):(S&&N||S&&E)&&w>15&&(V+=`
        M ${3*A} ${3*z}
        L ${2*A} ${z*2}
        L ${3*A} ${z}
        M ${4*A} ${3*z}
        L ${3*A} ${z*2}
        L ${4*A} ${z}`);const L=12,q=.591*L,H=Math.floor((w-40)/q);let Y=x;if(x.length>H){const Q=H-1;Q<3?Y="":Y=`${x.slice(0,Q)}`}return h.jsxs("g",{id:r.id,transform:`translate(${O}, ${.1*T})`,children:[h.jsx("title",{children:x}),h.jsx("path",{ref:u(r.id,{end:p,name:r.name,ref:r.id,start:y,type:"ANNOTATION",viewer:"LINEAR"}),className:`${r.id} la-vz-annotation`,cursor:"pointer",d:V,fill:m,id:r.id,stroke:m?bu[m]||Dm(m):"gray",style:Om,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>xc(r.id,.7),onMouseOver:()=>xc(r.id,1)}),h.jsx("text",{className:"la-vz-annotation-label",cursor:"pointer",dominantBaseline:"middle",fontSize:L,id:r.id,style:Lm,textAnchor:"middle",x:w/2,y:T/2+1,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>xc(r.id,.7),onMouseOver:()=>xc(r.id,1),children:Y})]})},a3=e=>{const{cutSites:r,findXAndWidth:s,firstBase:i,inputRef:o,lastBase:c,lineHeight:u,onCutSiteClick:d,size:m,yDiff:f,zoom:{linear:p}}=e,x=o3(r,i,c,s);if(!x.length)return null;const y=d3(x,m),v=f+u;return h.jsx("g",{className:"la-vz-cut-sites",children:y.map(S=>h.jsxs("g",{children:[S.label.render&&h.jsx("text",{className:`la-vz-cut-site-text ${S.c.id}-label`,dominantBaseline:"hanging",id:S.c.id,style:{...fn,cursor:"pointer",fontSize:12},textAnchor:"start",x:S.label.x,y:f,onBlur:()=>0,onClick:N=>{d&&(N.stopPropagation(),d(S.c))},onFocus:()=>0,onMouseOut:()=>vc(S.c.id,!1),onMouseOver:()=>vc(S.c.id,!0),children:S.label.text}),p>10&&h.jsx("path",{ref:o(S.c.id,{clockwise:!0,end:S.c.end,id:S.c.id,start:S.c.start,type:"ENZYME",viewer:"LINEAR"}),className:`la-vz-cut-site-highlight ${S.c.id}`,d:`M ${S.highlight.x} ${v}
                    L ${S.highlight.x+S.highlight.width} ${v}
                    L ${S.highlight.x+S.highlight.width} ${v+2*u}
                    L ${S.highlight.x} ${v+2*u} Z`,style:S.c.color?.length?{...Kc,fill:S.c.color}:Kc,onClick:N=>{d&&(N.stopPropagation(),d(S.c))},onMouseOut:()=>vc(S.c.id,!1),onMouseOver:()=>vc(S.c.id,!0)}),S.top.render&&h.jsx("path",{className:`la-vz-cut-site ${S.c.id}`,d:`M ${S.top.x} ${v} L ${S.top.x} ${v+u}`,style:Wi}),S.connector.render&&p>10&&h.jsx("path",{className:`la-vz-cut-site ${S.c.id}`,d:`M ${S.connector.x} ${v+u}
                    L ${S.connector.x+S.connector.width} ${v+u}`,style:Wi}),S.bottom.render&&p>10&&h.jsx("path",{className:`la-vz-cut-site ${S.c.id}`,d:`M ${S.bottom.x} ${v+u} L ${S.bottom.x} ${v+2*u}`,style:Wi})]},`cut-site-${S.c.id}-${i}`))})},o3=(e,r,s,i)=>e.map(o=>{let c=o.fcut>r&&o.fcut<s;(o.fcut===r&&o.rcut>r&&o.rcut<=s||o.fcut===s&&o.rcut>=r&&o.rcut<=s)&&(c=!0);let u=o.rcut>r&&o.rcut<s;(o.rcut===r&&o.fcut>r&&o.fcut<=s||o.rcut===s&&o.fcut>=r&&o.fcut<=s)&&(u=!0);let d=o;o.end<o.start&&(o.start>r&&o.start<s?(d={...o,end:s},o.fcut<o.start&&(d={...d,fcut:s}),o.rcut<o.start&&(d={...d,rcut:s})):(d={...o,start:r},o.fcut>o.end&&(d={...d,fcut:r}),o.rcut>o.end&&(d={...d,rcut:r})));const{x:m}=i(d.fcut,d.fcut),{x:f}=i(d.rcut,d.rcut);return{bottom:{render:u,x:f},c:o,connector:u3(d,m,f,r,s,c,u,i),highlight:l3(d,r,s,i),top:{render:c,x:m}}}),l3=(e,r,s,i)=>c3(e.start,e.end,r,s)?e.start>e.end?i(e.end<r?s:Math.min(s,e.end),e.start>s?r:Math.max(r,e.start)):i(e.start<r?s:Math.min(s,e.start),e.end>s?r:Math.max(r,e.end)):i(e.start,e.end),c3=(e,r,s,i)=>e<s&&r<s||e>i&&r>i?!0:r>=e?r<i&&e>s:e<i&&r>s,u3=(e,r,s,i,o,c,u,d)=>c&&u?{render:!0,width:Math.abs(s-r),x:Math.min(r,s)}:c?e.start+r>e.end+s?{render:!0,...d(i,e.fcut)}:e.fcut>e.rcut?{render:!0,...d(i,e.fcut)}:{render:!0,...d(e.fcut,o)}:u?e.start+r>e.end+s?{render:!0,...d(e.rcut,o)}:e.fcut>e.rcut?{render:!0,...d(e.rcut,o)}:{render:!0,...d(i,e.rcut)}:{render:!1,width:0,x:0},d3=(e,r)=>{const s=e.filter(u=>!u.top.render).map(u=>({...u,label:{render:!1,text:u.c.name,x:u.highlight.x}})),i=e.filter(u=>u.top.render).sort((u,d)=>u.top.x-d.top.x).map(u=>({...u,label:{render:u.top.render,text:u.c.name,x:u.highlight.x}})),o=u=>u.label.x+u.label.text.length*xt>r.width;i.forEach(u=>{const d=u.label.text.length*xt;o(u)&&(u.label.x=r.width-d)});const c=(u,d)=>u.label.x+u.label.text.length*xt>d.label.x;return i.forEach((u,d)=>{if(d===0)return u;const m=i[d-1];for(;c(m,u);)u.label.x+=xt*2;return u}),i.forEach(u=>{o(u)&&(u.label.render=!1)}),s.concat(i)},vc=(e,r=!1)=>{if(!document)return;let s=document.getElementsByClassName(`${e}-label`);for(let i=0;i<s.length;i+=1)s[i].style.fillOpacity=r?"1.0":"0.8",s[i].style.fontWeight=r?"400":"300";s=document.getElementsByClassName(e);for(let i=0;i<s.length;i+=1)s[i].style.fillOpacity=r?"0.25":"0",s[i].style.stroke=r?"black":"rgb(115, 119, 125)"},Ax=({compYDiff:e,filteredRows:r,findXAndWidth:s,firstBase:i,indexYDiff:o,inputRef:c,lastBase:u,lineHeight:d,listenerOnly:m,zoomed:f})=>h.jsx(h.Fragment,{children:r.map(p=>h.jsx(f3,{compYDiff:e,direction:p.direction||1,end:p.end,findXAndWidth:s,firstBase:i,indexYDiff:o,inputRef:c,lastBase:u,lineHeight:d,listenerOnly:m,start:p.start,zoomed:f},JSON.stringify(p)))}),f3=({compYDiff:e,direction:r,end:s,findXAndWidth:i,firstBase:o,indexYDiff:c,inputRef:u,lastBase:d,lineHeight:m,listenerOnly:f,start:p,zoomed:x})=>{let{width:y,x:v}=i(p,s);p>s&&({width:y,x:v}=i(p>d?o:Math.max(o,p),s<o?d:Math.min(d,s)));const S=ta();let N=c;return(r<0||!x)&&(N=e),h.jsx("rect",{ref:u(S,{end:s,id:S,start:p,type:"FIND",viewer:"LINEAR"}),className:"la-vz-search",cursor:"pointer",height:m,id:S,shapeRendering:"crispEdges",stroke:f?"none":"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:f?{fill:"transparent"}:Qh,width:y,x:v,y:N},S)},Tx=e=>h.jsx(h.Fragment,{children:e.highlights.map((r,s)=>h.jsx(h3,{...e,highlight:r,index:s},`linear-highlight-${r.id}-${e.listenerOnly}`))}),h3=e=>{const{width:r,x:s}=e.findXAndWidth(e.index,e.highlight,e.highlights);let i=Cx.fill;e.listenerOnly?i="transparent":e.highlight.color?.length&&(i=e.highlight.color);const o={className:"la-vz-highlight",height:e.lineHeight,id:e.highlight.id,stroke:e.listenerOnly?"none":"rgba(0, 0, 0, 0.5)",style:{...Cx,fill:i},width:r,x:s};return h.jsxs(h.Fragment,{children:[h.jsx("rect",{ref:e.inputRef(e.highlight.id,{ref:e.highlight.id,...e.highlight,type:"HIGHLIGHT",viewer:"LINEAR"}),...o,y:e.indexYDiff},`linear-highlight-${e.highlight.id}-top`),h.jsx("rect",{ref:e.inputRef(e.highlight.id,{ref:e.highlight.id,...e.highlight,type:"HIGHLIGHT",viewer:"LINEAR"}),...o,y:e.compYDiff},`linear-highlight-${e.highlight.id}-bottom`)]})};let m3=class extends j.PureComponent{genTicks=()=>{const{charWidth:r,findXAndWidth:s,firstBase:i,seq:o,seqType:c,size:u,zoom:d}=this.props,m=o.length;let f=0;switch(!0){case d.linear>85:f=5;break;case d.linear>40:f=10;break;case d.linear>10:f=20;break;case d.linear>=0:f=50;break;default:f=10}c==="aa"&&(f=f/2);const p=[];i===0&&p.push(1);let x=0;for(;(x+i)%f!==0;)x+=1;for(;x<m;)x+i!==0&&p.push(x+i),x+=f;return p.map(y=>{let{x:v}=s(y-1,y-1);v+=r/2;let S=Math.ceil(Math.log10(y+1));S-=1;const C=S*7.7;let{x:w}=s(y-1,y-1);w+=r/2,w-=C/2+3,w=Math.max(0,w),w=Math.min(u.width-C/2,w);const _=`translate(${v}, 1)`,E=`translate(${w}, 10)`;return h.jsxs(j.Fragment,{children:[h.jsx("path",{className:"la-vz-index-tick",d:"M 0 0 L 0 7",style:B1,transform:_}),h.jsx("text",{className:"la-vz-index-tick-label",dominantBaseline:"hanging",style:H1,transform:E,children:y})]},y)})};render(){const{findXAndWidth:r,firstBase:s,lastBase:i,showIndex:o,yDiff:c}=this.props;if(!o)return null;const{width:u,x:d}=r(s,i);return h.jsxs("g",{transform:`translate(0, ${c})`,children:[h.jsx("path",{className:"la-vz-index-line",d:`M 0 1 L ${d+u} 1`,style:Wh}),this.genTicks()]})}};const bc=(e,r)=>{if(!document)return;const s=document.getElementsByClassName(e);for(let i=0;i<s.length;i+=1)s[i].style.fillOpacity=`${r}`},Mx=e=>h.jsx("g",{children:e.primerRows.map((r,s)=>h.jsx(p3,{bpsPerBlock:e.bpsPerBlock,direction:e.direction,findXAndWidth:e.findXAndWidth,firstBase:e.firstBase,fullSeq:e.fullSeq,height:e.elementHeight,inputRef:e.inputRef,lastBase:e.lastBase,primers:r,seqBlockRef:e.seqBlockRef,width:e.width,y:e.yDiff+e.elementHeight*s},`primer-linear-row-${r[0].id}-${e.firstBase}-${e.lastBase}`))}),p3=e=>h.jsx("g",{className:"la-vz-linear-primer-row",height:e.height*.8,transform:`translate(0, ${e.y})`,width:e.width,children:e.primers.filter(r=>r.direction===e.direction).map((r,s)=>j.createElement(g3,{...e,key:`primer-linear-${r.id}-${s}-${e.firstBase}-${e.lastBase}`,element:r,elements:e.primers,index:s}))}),g3=e=>{const{element:r,elements:s,findXAndWidth:i,firstBase:o,index:c,inputRef:u,lastBase:d}=e,{color:m,direction:f,end:p,name:x,start:y}=r,v=f===1,S=f===-1,{overflowLeft:N,overflowRight:C,width:w,x:_}=i(c,r,s),E=y>p&&p<o,R=v&&p>o&&p<=d,M=S&&y>=o&&y<=d,T=e.height*.7,A=4,z=T/4,O=3,[G,P]=[_,w],U="M 0 0",V=R?`
      L ${w-Math.min(8*A,P)} 0
      L ${w-Math.min(8*A,P)} ${-O}
    `:`L ${w} 0`;let B="",F=`L ${w} ${T}`;C&&w>2*A||E?F=`
        L ${w-A} ${z}
        L ${w} ${2*z}
        L ${w-A} ${3*z}
        L ${w} ${4*z}`:R&&(F=`
        L ${w} ${T}`);let L=`L 0 ${T} L 0 0`;N&&w>2*A?L=`
        L 0 ${T}
        L ${A} ${3*z}
        L 0 ${2*z}
        L ${A} ${z}
        L 0 0`:M&&(L=`
        L ${Math.min(8*A,P)} ${T}
        L ${Math.min(8*A,P)} ${T+O}`),B=`${U} ${V} ${F} ${L}`,(v&&C||v&&E)&&w>15&&(B+=`
        M ${w-3*A} ${z}
        L ${w-2*A} ${2*z}
        L ${w-3*A} ${3*z}
        M ${w-4*A} ${z}
        L ${w-3*A} ${2*z}
        L ${w-4*A} ${3*z}`),(S&&N||S&&E)&&w>15&&(B+=`
        M ${3*A} ${3*z}
        L ${2*A} ${z*2}
        L ${3*A} ${z}
        M ${4*A} ${3*z}
        L ${3*A} ${z*2}
        L ${4*A} ${z}`);const q=12,H=.591*q,Y=Math.floor((w-40)/H);let Q=x;if(x.length>Y){const $=Y-1;$<3?Q="":Q=`${x.slice(0,$)}`}return h.jsxs("g",{id:r.id,transform:`translate(${G}, ${.1*T})`,children:[h.jsx("title",{children:x}),h.jsx("path",{ref:u(r.id,{end:p,name:r.name,ref:r.id,start:y,type:"PRIMER",viewer:"LINEAR"}),className:`${r.id} la-vz-primer`,cursor:"pointer",d:B,fill:m,id:r.id,stroke:m?bu[m]||Dm(m):"gray",style:Om,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>bc(r.id,.7),onMouseOver:()=>bc(r.id,1)}),h.jsx("text",{className:"la-vz-primer-label",cursor:"pointer",dominantBaseline:"middle",fontSize:q,id:r.id,style:Lm,textAnchor:"middle",x:w/2,y:T/2+1,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>bc(r.id,.7),onMouseOver:()=>bc(r.id,1),children:Q})]})},Ps={clockwise:!0,end:0,length:0,name:"",ref:null,start:0,type:""},ga=j.createContext(Ps);ga.displayName="SelectionContext";class y3 extends j.PureComponent{static contextType=ga;static context;id=ta();render(){const{findXAndWidth:r,firstBase:s,fullSeq:i,lastBase:o,selectEdgeHeight:c}=this.props,{clockwise:u,end:d,ref:m,start:f}=this.context;if(typeof f>"u"||typeof d>"u")return;let p=null,x=null;if(u?(f>=s&&f<o&&(p=f),d>s&&d<=o&&(x=d)):(f>s&&f<=o&&(p=f),d>=s&&d<o&&(x=d)),(m==="ALL"||f===0&&d===i.length-1)&&(p=null,x=null),p===null&&x===null)return null;p===null&&(p=x,x=null);let{width:y,x:v}=r(p,x);u===!1&&p!==null&&x!==null&&({width:y,x:v}=r(x,p));let S=v+y;return p!==null&&x!==null&&(f>d&&u===!0||d>f&&u===!1)&&(S=v-y),f===d&&f===o||p===null&&x===null?null:(p===x&&(x=null),h.jsxs("g",{children:[p!==null&&h.jsx("rect",{className:"la-vz-selection-edge","data-testid":"la-vz-selection-edge",height:c,shapeRendering:"crispEdges",strokeWidth:0,style:Wc,width:1,x:v,y:-5}),x!==null&&h.jsx("rect",{className:"la-vz-selection-edge","data-testid":"la-vz-selection-edge",height:c,shapeRendering:"crispEdges",strokeWidth:0,style:Wc,width:1,x:S,y:-5})]}))}}class x3 extends j.PureComponent{static contextType=ga;static context;id=ta();render(){const{findXAndWidth:r,firstBase:s,fullSeq:i,lastBase:o,selectHeight:c}=this.props,{clockwise:u,ref:d}=this.context;let{end:m,start:f}=this.context;if(typeof f>"u"||typeof m>"u")return;if(f===m&&d!=="ALL")return null;(d==="ALL"||f===0&&m===i.length)&&(f=0,m=0);const p={"data-testid":"la-vz-selection-block",height:c,style:$1,y:-5};let x=null,y=null,v=null;if(u&&m>f)f<=o&&m>s&&({width:y,x}=r(Math.max(s,f),Math.min(o,m)));else if(u&&f>m){if(!(f>o&&m<s))if(f<o&&m>s){const{width:S,x:N}=r(f,o);v=h.jsx("rect",{...p,width:S,x:N}),{width:y,x}=r(s,m)}else({width:y,x}=r(f>o?s:Math.max(s,f),m<s?o:Math.min(o,m)))}else if(!u&&f>m)m<=o&&f>=s&&({width:y,x}=r(Math.max(s,m),Math.min(o,f)));else if(!u&&m>f&&(f>s||m<o))if(f>s&&f<o&&m>s){const{width:S,x:N}=r(m,o);v=h.jsx("rect",{...p,width:S,x:N}),{width:y,x}=r(s,f)}else({width:y,x}=r(f<s?m:s,m>o?f:o));return(d==="ALL"||f===m)&&({width:y,x}=r(Math.max(s,0),Math.min(o,i.length+1))),!x&&!y?null:h.jsxs(h.Fragment,{children:[h.jsx("rect",{...p,width:y?y+1:void 0,x:x||void 0}),v]})}}const Rx={Block:x3,Edges:y3},wc=(e,r)=>{if(!document)return;const s=document.getElementsByClassName(e);for(let i=0;i<s.length;i+=1)s[i].style.fillOpacity=`${r}`},v3=({bpsPerBlock:e,charWidth:r,elementHeight:s,findXAndWidth:i,findXAndWidthElement:o,firstBase:c,fullSeq:u,inputRef:d,lastBase:m,onUnmount:f,seqType:p,translationRows:x,yDiff:y})=>h.jsx("g",{className:"la-vz-linear-translation","data-testid":"la-vz-linear-translation",children:x.map((v,S)=>{let N=y;for(let C=0;C<S;C+=1){const w=x[C][0].name?2:1;N+=s*w}return h.jsx(b3,{bpsPerBlock:e,charWidth:r,elementHeight:s,findXAndWidth:i,findXAndWidthElement:o,firstBase:c,fullSeq:u,height:s,inputRef:d,lastBase:m,seqType:p,translations:v,y:N,onUnmount:f},`i-${c}`)})}),b3=e=>h.jsx(h.Fragment,{children:e.translations.map((r,s)=>h.jsxs(h.Fragment,{children:[j.createElement(w3,{...e,key:`translation-linear-${r.id}-${s}-${e.firstBase}-${e.lastBase}`,translation:r}),r.name&&j.createElement(S3,{...e,key:`translation-handle-linear-${r.id}-${s}-${e.firstBase}-${e.lastBase}`,element:r,elements:e.translations,index:s})]}))});class w3 extends j.PureComponent{AAs=[];componentWillUnmount=()=>{const{onUnmount:r}=this.props;this.AAs.forEach(s=>r(s))};genPath=(r,s)=>{const{charWidth:i,height:o}=this.props,c=r*i,u=s*3;return`M 0 0
			L ${c} 0
			L ${c+u} ${o/2}
			L ${c} ${o}
			L 0 ${o}
			L ${u} ${o/2}
			Z`};render(){const{bpsPerBlock:r,charWidth:s,findXAndWidth:i,firstBase:o,fullSeq:c,height:u,inputRef:d,lastBase:m,seqType:f,translation:p,y:x}=this.props,{AAseq:y,direction:v,end:S,id:N,start:C}=p,w=f==="aa"?1:3,_=y.split("");return h.jsx("g",{ref:d(N,{end:S,name:"translation",parent:{...p,type:"TRANSLATION"},start:C,type:"AMINOACID",viewer:"LINEAR"}),className:"la-vz-linear-aa-translation","data-testid":"la-vz-linear-aa-translation",id:N,transform:`translate(0, ${x})`,children:_.map((E,R)=>{const M=ta();this.AAs.push(M);let T=(C+R*w)%c.length,A=C+R*w+w;if(T>A&&o>=r?A+=c.length:T>A&&o<r?T-=c.length:T===0&&o>=r&&(T+=c.length,A+=c.length),T>=m||A<=o)return null;let z=!0,O=w;T<o?(O=Math.min(w,A-o),O<2&&f!=="aa"&&(z=!1)):A>m&&(O=Math.min(w,m-T),O<2&&f!=="aa"&&(z=!1));const{x:G}=i(Math.max(T,o)),P=this.genPath(O,v===1?1:-1);return h.jsxs("g",{ref:d(M,{end:A,parent:{...p,type:"TRANSLATION"},start:T,type:"AMINOACID",viewer:"LINEAR"}),id:M,transform:`translate(${G}, 0)`,children:[h.jsx("path",{d:P,fill:Lc(E.charCodeAt(0)),id:M,shapeRendering:"geometricPrecision",stroke:n3(E.charCodeAt(0)),style:{cursor:"pointer",opacity:.7,strokeWidth:.8}}),z&&h.jsx("text",{className:"la-vz-translation-amino-acid-label",cursor:"pointer","data-testid":"la-vz-translation",dominantBaseline:"middle",id:M,style:ZM,textAnchor:"middle",x:O*.5*s,y:`${u/2+1}`,children:E})]},M)})})}}const S3=e=>{const{element:r,elementHeight:s,elements:i,findXAndWidthElement:o,index:c,inputRef:u,y:d}=e,{color:m,end:f,name:p,start:x}=r,{width:y,x:v}=o(c,r,i),S=9,N=.591*S,C=Math.floor(y/4/N);let w=p??"";if(p&&p.length>C){const G=C-1;G<3?w="":w=`${p.slice(0,G)}`}const _=10,E=w.length*N+_*2,R=v,M=y,T=e.height,A=2,z=2;let O="";return O+=`M 0 ${z} 
              L ${E} ${z}
              L ${E} ${T/4-A/2+z/2}
              L ${M} ${T/4-A/2+z/2} 
              L ${M} ${3*T/4-A/2+z/2} 
              L ${E} ${3*T/4-A/2+z/2}  
              L ${E} ${T-A} 
              L 0 ${T-A}
              Z`,h.jsx("g",{ref:u(r.id,{end:f,name:p,start:x,type:"TRANSLATION_HANDLE",viewer:"LINEAR"}),id:r.id,transform:`translate(0, ${d+s})`,children:h.jsxs("g",{id:r.id,transform:`translate(${R}, 0)`,children:[h.jsx("title",{children:p}),h.jsx("path",{className:`${r.id} la-vz-translation-handle`,cursor:"pointer",d:O,fill:m,id:r.id,stroke:m,style:FM,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>wc(r.id,.7),onMouseOver:()=>wc(r.id,1)}),h.jsx("text",{className:"la-vz-handle-label",cursor:"pointer",dominantBaseline:"middle",fontSize:S,id:r.id,style:XM,textAnchor:"start",x:_,y:T/2+1,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>wc(r.id,.7),onMouseOver:()=>wc(r.id,1),children:w})]})})};class N3 extends j.PureComponent{static defaultProps={};componentWillUnmount=()=>{const{id:r,onUnmount:s}=this.props;s(r)};findXAndWidthElement=(r,s,i)=>{const{bpsPerBlock:o,firstBase:c,fullSeq:u,seq:d}=this.props,m=c+d.length,{end:f,start:p}=s;let{width:x,x:y}=this.findXAndWidth(p,f),v=p<c,S=f>m||p===f&&u.length>o;return i.reduce((C,w)=>w.id===s.id?C+1:C,0)>1?i.findIndex(C=>C.id===s.id)===r?({width:x,x:y}=this.findXAndWidth(c,f),v=!0,S=!1):({width:x,x:y}=this.findXAndWidth(p,m),v=!1,S=!0):p>f?({width:x,x:y}=this.findXAndWidth(p>m?c:Math.max(c,p),f<c?m:Math.min(m,f)),p>c&&(v=!0,S=f>m),f<c&&(v=p<c,S=!0)):p===f&&({width:x,x:y}=this.findXAndWidth(p,f+u.length)),{overflowLeft:v,overflowRight:S,width:x,x:y}};findXAndWidth=(r=0,s=0)=>{const{bpsPerBlock:i,charWidth:o,firstBase:c,fullSeq:{length:u},size:d}=this.props;r|=0,s|=0;const m=Math.min(c+i,u),f=u>=i;let p=0;r>=c&&(p=(r-c)*o,p=Math.max(p,0)||0);let x=d.width;if(r===s)x=0;else if(r>=c||s<m){const y=Math.max(r,c),v=Math.min(s,m);x=d.width*((v-y)/i),x=Math.abs(x)||0}else c+i>u&&f&&(x=d.width*(u%i/i));return{width:x,x:p}};seqTextSpan=(r,s)=>{const{bpColors:i,charWidth:o,firstBase:c,id:u}=this.props;let d;return i&&(d=i[r]||i[r.toUpperCase()]||i[r.toLowerCase()]||i[s+c]||void 0),h.jsx("tspan",{fill:d||void 0,x:o*s+o*.2,children:r},s+r+u)};render(){const{annotationRows:r,blockHeight:s,bpsPerBlock:i,charWidth:o,compSeq:c,cutSiteRows:u,elementHeight:d,firstBase:m,fullSeq:f,handleMouseEvent:p,highlights:x,id:y,inputRef:v,lineHeight:S,onCutSiteClick:N,onUnmount:C,primerFwdRows:w,primerRevRows:_,searchRows:E,seq:R,seqFontSize:M,seqType:T,showComplement:A,showIndex:z,size:O,translationRows:G,zoom:P,zoomed:U}=this.props;if(!O.width||!O.height)return null;const V={fontSize:M,lengthAdjust:"spacing",textAnchor:"start",textLength:O.width>=0?O.width:1,textRendering:"optimizeLegibility"},B=m+R.length,F=0,L=w.length?d*w.length:0,q=F+L,H=U&&u.length?S:0,Y=q+H,Q=T==="aa"?0:S,$=Y+Q,Z=U&&A?S:0,ee=$+Z,ie=_.length?d*_.length:0,me=ee+ie;let ye=0;for(let je=0;je<G.length;je++){const De=G[je][0].name?2:1;ye+=d*De}const ge=me+ye,he=d*r.length,ve=_.length+_.length+r.length+G.length?3:0,ze=ge+he+ve,Re=L+H+Q+Z+ye+he+ie+ve+5;let Ce=Re+9;return!U&&Re<=d&&(Ce=d),h.jsxs("svg",{ref:v(y,{end:B,ref:y,start:m,type:"SEQ",viewer:"LINEAR"}),className:"la-vz-seqblock",cursor:"text","data-testid":"la-vz-seqblock",display:"block",height:s,id:y,overflow:"visible",style:KM,width:O.width>=0?O.width:0,onMouseDown:p,onMouseMove:p,onMouseUp:p,children:[z&&h.jsx(m3,{charWidth:o,findXAndWidth:this.findXAndWidth,firstBase:m,lastBase:B,seq:R,seqType:T,showIndex:z,size:O,yDiff:ze,zoom:P}),h.jsx(Rx.Block,{findXAndWidth:this.findXAndWidth,firstBase:m,fullSeq:f,lastBase:B,selectHeight:Re,onUnmount:C}),w.length&&h.jsx(Mx,{bpsPerBlock:i,direction:1,elementHeight:d,findXAndWidth:this.findXAndWidthElement,firstBase:m,fullSeq:f,inputRef:v,lastBase:B,primerRows:w,seqBlockRef:this,width:O.width,yDiff:F}),h.jsx(Tx,{compYDiff:$-3,findXAndWidth:this.findXAndWidthElement,firstBase:m,highlights:x,indexYDiff:Y-3,inputRef:v,lastBase:B,lineHeight:S,listenerOnly:!1,seqBlockRef:this}),h.jsx(Rx.Edges,{findXAndWidth:this.findXAndWidth,firstBase:m,fullSeq:f,lastBase:B,selectEdgeHeight:Ce}),h.jsx(Ax,{compYDiff:$-3,filteredRows:A?E:E.filter(je=>je.direction===1),findXAndWidth:this.findXAndWidth,firstBase:m,indexYDiff:Y-3,inputRef:v,lastBase:B,lineHeight:S,listenerOnly:!1,zoomed:U}),_.length&&h.jsx(Mx,{bpsPerBlock:i,direction:-1,elementHeight:d,findXAndWidth:this.findXAndWidthElement,firstBase:m,fullSeq:f,inputRef:v,lastBase:B,primerRows:_,seqBlockRef:this,width:O.width,yDiff:ee}),G.length&&h.jsx(v3,{bpsPerBlock:i,charWidth:o,elementHeight:d,findXAndWidth:this.findXAndWidth,findXAndWidthElement:this.findXAndWidthElement,firstBase:m,fullSeq:f,inputRef:v,lastBase:B,seqType:T,translationRows:G,yDiff:me,onUnmount:C}),r.length&&h.jsx(r3,{annotationRows:r,bpsPerBlock:i,elementHeight:d,findXAndWidth:this.findXAndWidthElement,firstBase:m,fullSeq:f,inputRef:v,lastBase:B,seqBlockRef:this,width:O.width,yDiff:ge}),U&&T!=="aa"?h.jsx("text",{...V,className:"la-vz-seq","data-testid":"la-vz-seq",id:y,style:fn,transform:`translate(0, ${Y+S/2})`,children:R.split("").map(this.seqTextSpan)}):null,c&&U&&A&&T!=="aa"?h.jsx("text",{...V,className:"la-vz-comp-seq","data-testid":"la-vz-comp-seq",id:y,style:fn,transform:`translate(0, ${$+S/2})`,children:c.split("").map(this.seqTextSpan)}):null,U&&h.jsx(a3,{cutSites:u,findXAndWidth:this.findXAndWidth,firstBase:m,inputRef:v,lastBase:B,lineHeight:S,onCutSiteClick:N,size:O,yDiff:q-3,zoom:P}),h.jsx(Ax,{compYDiff:$-3,filteredRows:A?E:E.filter(je=>je.direction===1),findXAndWidth:this.findXAndWidth,firstBase:m,indexYDiff:Y-3,inputRef:v,lastBase:B,lineHeight:S,listenerOnly:!0,zoomed:U}),h.jsx(Tx,{compYDiff:$-3,findXAndWidth:this.findXAndWidthElement,firstBase:m,highlights:x,indexYDiff:Y-3,inputRef:v,lastBase:B,lineHeight:S,listenerOnly:!0,seqBlockRef:this})]})}}class ch extends j.Component{shouldComponentUpdate=r=>!Dn(r,this.props);render(){const{annotations:r,bpsPerBlock:s,compSeq:i,cutSites:o,elementHeight:c,highlights:u,lineHeight:d,onCutSiteClick:m,onUnmount:f,primers:p,search:x,seq:y,seqType:v,showComplement:S,showIndex:N,size:C,translations:w,zoom:_}=this.props,E=_.linear>10,R=y.length;let M=Math.round(Math.ceil(R/s));M===Number.POSITIVE_INFINITY&&(M=1);const T=new Array(M),A=new Array(M),z=new Array(M),O=new Array(M),G=o.length?oh(o,s,M):new Array(M).fill([]);function P(Q){return Q.forEach($=>{$.end===0&&$.start>$.end&&($.end=R),$.start===R&&$.end<$.start&&($.start=0)}),Q}const U=gc(vo(P(p.filter(Q=>Q.direction===1)),y.length),s,M),V=gc(vo(P(p.filter(Q=>Q.direction===-1)),y.length),s,M),B=gc(vo(P(r),y.length),s,M),F=x?.length?oh(x,s,M):new Array(M).fill([]),L=oh(u,s,M),q=w.length?gc(vo(YM(w,y,v),y.length),s,M):new Array(M).fill([]);for(let Q=0;Q<M;Q+=1){const $=Q*s,Z=$+s;A[Q]=y.substring($,Z),z[Q]=i.substring($,Z),T[Q]=A[Q]+String(Q);let ee=d*1.1;v!=="aa"&&(ee+=d),E&&(ee+=S?d:0),U[Q].length&&(ee+=U[Q].length*d),V[Q].length&&(ee+=V[Q].length*d),N&&(ee+=d),q[Q].length&&(ee+=q[Q].length*c*2),B[Q].length&&(ee+=B[Q].length*c),G[Q].length&&(ee+=d),O[Q]=ee}const H=[];let Y=0;for(let Q=0;Q<M;Q+=1){const $=Q*s;H.push(h.jsx(N3,{annotationRows:B[Q],blockHeight:O[Q],bpColors:this.props.bpColors,bpsPerBlock:s,charWidth:this.props.charWidth,compSeq:z[Q],cutSiteRows:G[Q],elementHeight:c,firstBase:$,fullSeq:y,handleMouseEvent:this.props.handleMouseEvent,highlights:L[Q],id:T[Q],inputRef:this.props.inputRef,lineHeight:d,onCutSiteClick:m,primerFwdRows:U[Q],primerRevRows:V[Q],searchRows:F[Q],seq:A[Q],seqFontSize:this.props.seqFontSize,seqType:v,showComplement:S,showIndex:N,size:C,translationRows:q[Q],y:Y,zoom:_,zoomed:E,onUnmount:f},T[Q])),Y+=O[Q]}return H.length&&h.jsx(JM,{blockHeights:O,bpsPerBlock:s,seqBlocks:H,size:C,totalHeight:O.reduce((Q,$)=>Q+$,0)})}}class E3 extends j.PureComponent{static displayName="WithSelectionHandler";static contextType=ga;static context;state={...Ps};previousBase=null;forward=null;fullSelectionLength=0;dragEvent=!1;selectionStarted=!1;shiftSelection=!1;lastClick=Date.now();idToRange=new Map;componentDidMount=()=>{document&&document.addEventListener("mouseup",this.stopDrag)};componentWillUnmount=()=>{document&&document.removeEventListener("mouseup",this.stopDrag)};stopDrag=()=>{this.dragEvent=!1};resetCircleDragVars=r=>{this.previousBase=r,this.forward=null,this.fullSelectionLength=0,this.dragEvent=!0};inputRef=(r,s)=>{this.idToRange.set(r,{ref:r,...s})};removeMountedBlock=r=>{this.idToRange.delete(r)};mouseEvent=r=>{const{setCentralIndex:s}=this.props;if((r.type==="mousemove"||r.type==="mouseup")&&!this.dragEvent)return;const i=Date.now()-this.lastClick;let o=this.dragEvent?this.idToRange.get(r.currentTarget.id):this.idToRange.get(r.target.id)||this.idToRange.get(r.currentTarget.id);if(!o)return;o={...o,end:o.end||0,start:o.start||0};const{direction:c,end:u,start:d,viewer:m}=o;switch(o.type){case"ANNOTATION":case"FIND":case"TRANSLATION":case"TRANSLATION_HANDLE":case"ENZYME":case"PRIMER":case"HIGHLIGHT":{m!=="LINEAR"&&s&&s("LINEAR",d||0);const f=c?c===1:!0,p=f?d:u,x=f?u:d;this.setSelection({...o,clockwise:f,end:x,start:p}),this.dragEvent=!1,this.lastClick=Date.now();break}case"AMINOACID":{const f=c?c===1:!0;let p=f?d:u,x=f?u:d;i<300&&o.parent&&(o={...o.parent,end:o.parent.end||0,start:o.parent.start||0},p=f?o.start:o.end,x=f?o.end:o.start),this.setSelection({...o,clockwise:f,end:x,start:p}),this.dragEvent=!1,this.lastClick=Date.now(),r.stopPropagation();break}case"SEQ":{m==="LINEAR"?this.handleLinearSeqEvent(r,{...o,end:o.end||0,start:o.start||0}):m==="CIRCULAR"&&this.handleCircularSeqEvent(r);break}}};handleLinearSeqEvent=(r,s)=>{const i=this.context,o=this.calculateBaseLinear(r,s),c=i.start!==null&&o>=(i.start||0);r.type==="mousedown"&&o!==null?(this.setSelection({...Ps,clockwise:c,end:o,start:r.shiftKey?i.start:o}),this.dragEvent=!0):this.dragEvent&&o!==null&&this.setSelection({...Ps,clockwise:c,end:o,start:i.start})};handleCircularSeqEvent=r=>{const{seq:s,setCentralIndex:i}=this.props,o=this.context,{start:c}=o;let{clockwise:u,end:d}=o;const m=this.calculateBaseCircular(r),f=s.length;if(r.type==="mousedown"){const p=r.shiftKey?c||0:m,x=r.shiftKey?this.calcSelectionLength(p,m,!1):this.calcSelectionLength(p,m,!0);this.selectionStarted=x>0,this.resetCircleDragVars(p),i?.("LINEAR",p),this.setSelection({...Ps,clockwise:u,end:m,ref:"",start:p,type:"SEQ"})}else if(r.type==="mousemove"&&this.dragEvent&&m&&this.previousBase&&m!==this.previousBase){const p=m>this.previousBase,x=f*.9,y=Math.abs(this.previousBase-m),v=y>x;this.forward=p?!v:v;const S=v?f-y:y;let N=this.forward===o.clockwise||o.clockwise===null;if(N?this.fullSelectionLength+=S:this.fullSelectionLength-=S,this.previousBase=m,this.fullSelectionLength<f*.01&&!this.shiftSelection){u=this.forward;const E=this.calcSelectionLength(o.start||0,m,this.forward);this.fullSelectionLength<0&&(this.fullSelectionLength=E),E>this.fullSelectionLength&&(u=!this.forward),d=m}N=this.forward===o.clockwise;const C=this.calcSelectionLength(o.start||0,m,o.clockwise||!0);this.selectionStarted&&this.shiftSelection&&C>this.fullSelectionLength&&(this.fullSelectionLength=C);const w=this.dragEvent&&N,_=this.fullSelectionLength>=f;w&&_?d=c:d=m,this.shiftSelection=!1,this.setSelection({...Ps,clockwise:u,end:d,start:c,type:"SEQ"})}};calculateBaseLinear=(r,s)=>{const{bpsPerBlock:i}=this.props,o=r.currentTarget.getBoundingClientRect(),u=(r.clientX-o.left)/o.width,d=Math.round(u*i);return Math.min(s.start+d,s.end)};calculateBaseCircular=r=>{const{center:s,centralIndex:i,seq:o,yDiff:c}=this.props;if(!s)return 0;const u=r.currentTarget.getBoundingClientRect(),d=r.clientX-u.left,m=r.clientY-u.top,f=d-s.x,x=(m-(s.y+c))/f;let v=Math.atan(x)*(180/Math.PI)+90;f<0&&(v+=180);const S=v/360;let N=Math.round(o.length*S);return N+=i,N>o.length&&(N-=o.length),N};setSelection=r=>{const s=this.context,{setSelection:i}=this.props;if(r.start===s.start&&r.end===s.end&&r.ref===s.ref&&["SEQ","AMINOACID",""].includes(r.type||""))return;const{clockwise:o,end:c,name:u,ref:d,start:m,type:f}={...s,...r},p=this.calcSelectionLength(m,c,o);i({clockwise:o,end:c,length:p,name:u,ref:d,start:m,type:f})};calcSelectionLength=(r,s,i)=>{const{seq:o}=this.props;return s<r&&!i?r-s:s>r&&!i?r+(o.length-s):s>r&&i?s-r:s<r&&i?o.length-r+s:0};render(){return this.props.children(this.inputRef,this.mouseEvent,this.removeMountedBlock)}}const xt=7.2;class C3 extends j.Component{constructor(r){super(r),this.state={centralIndex:{circular:0,linear:0,setCentralIndex:this.setCentralIndex},selection:this.getSelection(Ps,r.selection)}}selectionIsProgramatic(r){return r?!r.type:!1}componentDidUpdate=r=>{this.selectionIsProgramatic(this.props.selection)&&this.props.selection?.start!==r.selection?.start&&this.props.selection?.start!==this.props.selection?.end&&this.setCentralIndex("LINEAR",this.props.selection?.start||0)};shouldComponentUpdate=(r,s)=>!Dn(r,this.props)||!Dn(s,this.state);setCentralIndex=(r,s)=>{if(r!=="LINEAR"&&r!=="CIRCULAR")throw new Error(`Unknown central index type: ${r}`);this.state.centralIndex[r.toLowerCase()]!==s&&this.setState({centralIndex:{...this.state.centralIndex,[r.toLowerCase()]:s}})};setSelection=r=>{const{parent:s,ref:i,...o}=r;this.props.selection||this.setState({selection:r}),this.props.onSelection&&this.props.onSelection(o)};getSelection=(r,s)=>s?{...s,clockwise:typeof s.clockwise>"u"||!!s.clockwise,type:""}:r;linearProps=()=>{const{seq:r,seqType:s,viewer:i}=this.props,o=this.props.testSize||{height:this.props.height,width:this.props.width},c=this.props.zoom.linear;this.props.refs?.linear?.current&&this.props.children?(o.width=this.props.refs.linear.current.clientWidth,o.height=this.props.refs.linear.current.clientHeight):i.includes("both")&&(o.width/=2);const u=Math.min(Math.round(c*.1+9.5),18);let d=Math.round(o.width/u*1.4)||1;s==="aa"&&(d=Math.round(d/3)),c<=5?d*=3:c<=10?d*=2:c>70&&(d=Math.round(d*(70/c))),d=Math.max(1,d),o.width&&d<r.length&&(o.width-=28);const m=o.width/d,f=1.4*u;return{...this.props,bpsPerBlock:d,charWidth:m,elementHeight:16,lineHeight:f,seqFontSize:u,size:o,zoom:{linear:c}}};circularProps=()=>{const{seq:{length:r},viewer:s}=this.props,i=this.props.testSize||{height:this.props.height,width:this.props.width},o=this.props.zoom.circular;this.props.refs?.circular?.current?(i.width=this.props.refs.circular.current.clientWidth,i.height=this.props.refs.circular.current.clientHeight):s.includes("both")&&(i.width/=2);const c={x:i.width/2,y:i.height/2},u=Math.min(i.height,i.width),d=Math.exp(Math.log(50/r)/-45.708818961487495),m=r*d,f=u*.34;return{...this.props,bpsOnArc:m,center:c,radius:f===0?1:f,size:i,yDiff:0,zoom:{circular:o}}};render(){const{selection:r,seq:s,viewer:i}=this.props,{centralIndex:o,selection:c}=this.state,u=this.linearProps(),d=this.circularProps(),m=this.getSelection(c,r);return h.jsx("div",{ref:this.props.targetRef,className:"la-vz-viewer-container","data-testid":"la-vz-viewer-container",style:{height:"100%",position:"relative",width:"100%"},children:h.jsx(si.Provider,{value:o,children:h.jsx(ga.Provider,{value:m,children:h.jsx(E3,{bpsPerBlock:u.bpsPerBlock,center:d.center,centralIndex:o.circular,seq:s,setCentralIndex:this.setCentralIndex,setSelection:this.setSelection,yDiff:d.yDiff,children:(f,p,x)=>h.jsx(LM,{bpsPerBlock:u.bpsPerBlock,copyEvent:this.props.copyEvent,handleMouseEvent:p,selectAllEvent:this.props.selectAllEvent,selection:m,seq:s,setSelection:this.setSelection,children:this.props.children?this.props.children({circularProps:d,handleMouseEvent:p,inputRef:f,linearProps:u,onUnmount:x}):h.jsxs(h.Fragment,{children:[i==="linear"&&h.jsx(ch,{...u,handleMouseEvent:p,inputRef:f,onUnmount:x}),i==="circular"&&h.jsx(uh,{...d,handleMouseEvent:p,inputRef:f,onUnmount:x}),i==="both"&&h.jsxs(h.Fragment,{children:[h.jsx(uh,{...d,handleMouseEvent:p,inputRef:f,onUnmount:x}),h.jsx(ch,{...u,handleMouseEvent:p,inputRef:f,onUnmount:x})]}),i==="both_flip"&&h.jsxs(h.Fragment,{children:[h.jsx(ch,{...u,handleMouseEvent:p,inputRef:f,onUnmount:x}),h.jsx(uh,{...d,handleMouseEvent:p,inputRef:f,onUnmount:x})]})]})})})})})})}}function _3(e){const{width:r,height:s,ref:i}=zM();return h.jsx(C3,{...e,width:r??0,height:s??0,targetRef:i})}class j3 extends j.PureComponent{hoverAnnotation=(r,s)=>{if(!document)return;const i=document.getElementsByClassName(r);for(let o=0;o<i.length;o+=1)i[o].style.fillOpacity=s};render(){const{annotations:r,lineHeight:s,radius:i,rowsToSkip:o}=this.props,c=s*o,u=s*2+3;let d=i-u-c,m=d-s;return h.jsx(si.Consumer,{children:({circular:f})=>h.jsx("g",{className:"la-vz-circular-annotations",children:r.reduce((p,x,y)=>(y&&(d-=s+3,m-=s+3),p.concat(x.map(v=>h.jsx(A3,{annotation:v,calcBorderColor:Dm,centralIndex:f,currBRadius:d,currTRadius:m,genArc:this.props.genArc,getRotation:this.props.getRotation,hoverAnnotation:this.hoverAnnotation,id:`la-vz-${v.id}-annotation-circular-row`,inlinedAnnotations:this.props.inlinedAnnotations,inputRef:this.props.inputRef,lineHeight:s,seqLength:this.props.seqLength},`la-vz-${v.id}-annotation-circular-row`)))),[])})})}}const A3=e=>{const{annotation:r,calcBorderColor:s,centralIndex:i,currBRadius:o,currTRadius:c,genArc:u,getRotation:d,hoverAnnotation:m,inlinedAnnotations:f,inputRef:p,lineHeight:x,seqLength:y}=e;let v=r.end>=r.start?r.end-r.start:y-r.start+r.end;v=v===0?y-.1:v;const S=d(r.start);if(o<0||c<0)return null;const N=(v/2+r.start+y-i)%y,C=N>y*.25&&N<y*.75,w=u({arrowFWD:r.direction===1,arrowREV:r.direction===-1,innerRadius:o,largeArc:v>y/2,length:v,outerRadius:c,sweepFWD:!0}),_=u({arrowFWD:!1,arrowREV:!1,innerRadius:C?o:c,largeArc:v>y/2,length:v,outerRadius:C?o:c,sweepFWD:!0}),E=`la-vz-${r.id}-circular`;return h.jsxs("g",{id:`la-vz-${r.id}-annotation-circular`,transform:S,children:[h.jsx("path",{d:_,fill:"transparent",id:E,stroke:"transparent"}),h.jsx("path",{ref:p(r.id,{direction:r.direction,end:r.end,name:r.name,ref:r.id,start:r.start,type:"ANNOTATION",viewer:"CIRCULAR"}),className:`${r.id} la-vz-annotation`,cursor:"pointer",d:w,fill:r.color,id:r.id,stroke:r.color?bu[r.color]||s(r.color):"gray",style:Om,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>m(r.id,"0.7"),onMouseOver:()=>m(r.id,"1.0")}),f.includes(r.id)&&h.jsx("text",{dy:-.4*x,id:r.id,style:fn,onBlur:()=>{},onFocus:()=>{},onMouseOut:()=>m(r.id,"0.7"),onMouseOver:()=>m(r.id,"1.0"),children:h.jsx("textPath",{className:"la-vz-annotation-label",cursor:"pointer",dominantBaseline:"middle",fontSize:12,id:r.id,startOffset:C?"25%":"75%",style:Lm,textAnchor:"middle",xlinkHref:`#${E}`,children:r.name})})]})},T3=e=>{const{cutSites:r,onCutSiteClick:s}=e;if(!r.length)return null;const i=(o,c,u)=>{const{findCoor:d}=e,m=d(o,c),f=d(o,u);return`M ${f.x} ${f.y} L ${m.x} ${m.y}`};return h.jsx("g",{className:"la-vz-circular-cutsites",children:r.map(o=>h.jsx(M3,{...e,calculateLinePath:i,cutSite:o,onCutSiteClick:s},`circular-cut-site-${o.id}`))})},M3=e=>{const{calculateLinePath:r,cutSite:s,genArc:i,getRotation:o,inputRef:c,lineHeight:u,onCutSiteClick:d,radius:m,seqLength:f}=e,{id:p,start:x}=s;let{end:y,fcut:v,rcut:S}=s;(x>y||x>v||x>S)&&(x>y&&(y+=f),x>v&&(v+=f),x>S&&(S+=f));const N=Math.abs(y-x),C=m;let w=m+.5*u,_=m+u;return f<ra&&(w+=u+1.5,_+=2*u+1.5),h.jsxs("g",{id:`la-vz-circular-cutsite-${p}`,transform:o(x),children:[h.jsx("path",{ref:c(p,{end:y,ref:p,start:x,type:"ENZYME",viewer:"CIRCULAR"}),className:"la-vz-cut-site",cursor:"pointer",d:i({innerRadius:C,largeArc:N>f/2,length:N,outerRadius:_,sweepFWD:!0}),style:s.enzyme.color?{...Kc,fill:s.enzyme.color}:Kc,onClick:E=>{d&&(E.stopPropagation(),d(s))}}),h.jsx("path",{className:"la-vz-cut-site",d:r(v-x,_,w),style:Wi}),h.jsx("path",{className:"la-vz-cut-site",d:i({innerRadius:w,largeArc:Math.abs(v-S)>f/2,length:Math.abs(v-S),offset:Math.min(v,S)-x,outerRadius:w,sweepFWD:!0}),style:Wi}),h.jsx("path",{className:"la-vz-cut-site",d:r(S-x,w,C),style:Wi})]},`la-vz-circular-cutsite-${p}`)},R3=e=>{const{genArc:r,getRotation:s,highlights:i,inputRef:o,lineHeight:c,radius:u,search:d,seqLength:m}=e,f=m>ra?d.length/m<=.02:!0;return h.jsxs("g",{className:"la-vz-circular-search",children:[f&&d.map(p=>h.jsx(kx,{className:"la-vz-search",direction:p.direction||1,end:p.end,genArc:r,getRotation:s,inputRef:o,lineHeight:c,radius:u,seqLength:m,start:p.start,style:Qh},JSON.stringify(p))),i.map(({color:p,end:x,start:y})=>h.jsx(kx,{className:"la-vz-search",color:p,direction:1,end:x,genArc:r,getRotation:s,inputRef:o,lineHeight:c,radius:u,seqLength:m,start:y,style:Qh},`la-vz-highlight-${y}-${x}`))]})};class k3 extends j.PureComponent{static contextType=si;static context;static getDerivedStateFromProps=r=>{const{seqLength:s}=r;let i=0;this.context&&(i=this.context.circular);const c=Math.floor(s/6);let u=Math.max(+c.toPrecision(2),10);for(;u%10!==0;)u+=1;let d=[];for(let f=0;f<=s-u/2;f+=u)d.push(f===0?1:f);const m=u*6;return d=d.filter(f=>Math.abs(i-f)<m||Math.abs(i+s-f)<m||Math.abs(i-s-f)<m),{indexInc:u,ticks:d}};state={indexInc:10,ticks:[]};renderBasepairs=()=>{const{compSeq:r,findCoor:s,getRotation:i,lineHeight:o,radius:c,seq:u,seqLength:d,showComplement:m}=this.props,{indexInc:f}=this.state,p=this.context.circular,x=u+u,y=r+r;let v=p-f*5,S=p+f*5;p<d/2&&(v+=d,S+=d);const N=[];for(let C=v;C<=S;C+=1)N.push(h.jsx("text",{...s(0,c+2*o),dominantBaseline:"middle",style:fn,transform:i(C),children:x.charAt(C)},`la-vz-base-${C}`)),m&&N.push(h.jsx("text",{...s(0,c+o),dominantBaseline:"middle",style:fn,transform:i(C),children:y.charAt(C)},`la-vz-base-comp-${C}`));return N};render(){const{center:r,findCoor:s,genArc:i,getRotation:o,lineHeight:c,name:u,radius:d,seq:m,seqLength:f,showIndex:p,size:x,totalRows:y,yDiff:v}=this.props,{ticks:S}=this.state;if(!p)return null;const N=d-y*c,C=30,w=[];let _=0;for(;_<u.length;)w.push(u.substring(_,_+C).trim()),_+=C;const R=14+20*w.length,T=(w.length?w[0].length/2*12:0)>N?{x:r.x,y:x.height-R-v}:{x:r.x,y:r.y-(w.length-1)/2*25},A=s(0,d),z=s(0,d-7),O={fill:"gray",fontSize:12,textAnchor:"middle"},G=i({innerRadius:d,largeArc:!0,length:f/2,outerRadius:d});return h.jsxs("g",{children:[h.jsx("text",{fontSize:20,fontWeight:500,style:fn,textAnchor:"middle",children:w.map((P,U)=>h.jsx("tspan",{x:T.x,y:T.y+U*25,children:P},P))}),h.jsx("text",{x:T.x,y:T.y+14+25*(w.length-1),...O,style:fn,children:`${f} bp`}),m.length<=ra&&h.jsx("g",{className:"la-vz-circular-bps",children:this.renderBasepairs()}),S.map(P=>h.jsxs("g",{transform:o(P-.5),children:[h.jsx("path",{className:"la-vz-index-tick",d:`M ${A.x} ${A.y} L ${z.x} ${z.y}`,style:B1}),h.jsx("text",{className:"la-vz-index-tick-label",style:H1,textAnchor:"middle",x:z.x,y:z.y+c,children:P})]},`la-vz-tick-${P}`)),h.jsxs("g",{children:[h.jsx("path",{className:"la-vz-index-line",d:G,style:Wh,transform:o(f*.75)}),h.jsx("path",{className:"la-vz-index-line",d:G,style:Wh,transform:o(f*.25)})]})]})}}const z3=e=>{const{group:r,lineHeight:s,setHoveredGroup:i,size:{height:o,width:c}}=e,u=R=>R.reduce((M,T)=>M+(T.name.length+1)*xt,0),d=R=>R[R.length-1],m=r.labels.reduce((R,M)=>{const T=M.name.length*xt;if(T>c){const A=Math.floor(c*.75/xt),z=new RegExp(`.{1,${A}}`,"g"),O=M.name.match(z)||[];if(O.length)return O.forEach(G=>{R.push([{...M,name:G.trim()}])}),R}return d(R)&&u(d(R))+T<=200?(R[R.length-1].push(M),R):(R.push([M]),R)},[]),f=m.length*s,p=m.reduce((R,M,T)=>Math.max(R,u(M)-(T===m.length-1?xt:0)),0),[x,y]=[f,p].map(R=>R+2*xt),v=r.forkCoor||r.textCoor,S=r.forkCoor?`M${r.textCoor.x} ${r.textCoor.y} L${v.x} ${v.y}`:`M${r.lineCoor.x} ${r.lineCoor.y} L${v.x} ${v.y}`;let{x:N,y:C}=r.textCoor;N=r.textAnchor==="end"?N-(r.labels[0].name.length+3)*xt:N,C-=xt,N=Math.max(N,2*xt),N=Math.min(N,c-2*xt-p),C=Math.max(C,2*xt),C=Math.min(C,o-2*xt-f);const w={x:N,y:C},_={x:N-xt,y:C-xt-2},E=`${r.labels[0].id}_overlay`;return h.jsxs("g",{onMouseLeave:()=>i(""),children:[h.jsx("path",{className:"la-vz-label-line",d:S}),h.jsx("rect",{fill:"white",height:x,stroke:"none",width:y,..._}),h.jsx("text",{...w,style:fn,children:m.map((R,M)=>h.jsx("tspan",{dominantBaseline:"middle",x:w.x,y:w.y+(M+.5)*s,children:R.map((T,A)=>h.jsxs(j.Fragment,{children:[h.jsx("tspan",{className:"la-vz-circular-label",dominantBaseline:"middle",id:T.id,style:Jc,tabIndex:-1,y:w.y+(M+.5)*s,onMouseLeave:()=>eu(T.id||"",!1),onMouseOver:()=>eu(T.id||"",!0),children:T.name}),A<R.length-1||M!==m.length-1?",":""]},T.id))},`${E}_${M}`))}),h.jsx("rect",{fill:"none",height:x,stroke:"black",strokeWidth:1.5,width:y,..._})]},E)},eu=(e,r)=>{if(!document)return;const s=document.getElementById(e);s&&(r?s.style.textDecoration="underline":s.style.textDecoration="none")};class $m extends j.Component{constructor(r){super(r),this.state={hoveredGroup:"",labelGroups:[]}}static getDerivedStateFromProps=(r,s)=>({hoveredGroup:s.hoveredGroup,labelGroups:$m.groupOverlappingLabels(r)});static groupOverlappingLabels=r=>{const{center:s,findCoor:i,labels:o,lineHeight:c,radius:u,seqLength:d,size:m,yDiff:f}=r,p=d>ra?c*2:c*3.5,x=u+p,y=o.reduce((N,C)=>N.concat(C),[]).map(N=>{let C;N.type==="enzyme"?C=N.start:N.end>N.start?C=(N.end+N.start)/2:C=(N.start-d+N.end)/2;const w=d>ra?u:x-c/2,_=i(C,w,!0),E=i(C,x,!0),R=E.x<=s.x?"end":"start";return{label:N,lineCoor:_,textAnchor:R,textCoor:E}}),v=(N,C)=>{const w=(N.name.length+4)*xt;let _=!1;const E=C.y+f;return(E<0||E>m.height||C.x-w<0||C.x+w>m.width)&&(_=!0),_};let S=y.reduce((N,C)=>{const w=N.findIndex(E=>E.textAnchor===C.textAnchor?Math.abs(E.textCoor.y-C.textCoor.y)<15:!1);if(w>-1)return N[w].labels.push(C.label),N[w].grouped=!0,N;const _=v(C.label,C.textCoor);return N.concat({forkCoor:null,grouped:_,labels:[C.label],lineCoor:C.lineCoor,name:C.label.name,overflow:_,textAnchor:C.textAnchor,textCoor:C.textCoor})},[]);return S=S.reduce((N,C,w)=>{if(!C.grouped||C.overflow||C.labels.length>4)return N.concat(C);let _=N[N.length-1],E=S[w+1];_&&_.textAnchor!==C.textAnchor&&(_=void 0),E&&E.textAnchor!==C.textAnchor&&(E=void 0);const R=C.labels.map((T,A)=>{let z=A*(3*xt);C.textAnchor==="end"&&(z=-z);let O=(C.labels.length-A)*-15;C.textCoor.y>s.y&&(O=(C.labels.length-A)*15);const G={x:C.textCoor.x+z,y:C.textCoor.y+O},P=v(T,G);return{...C,forkCoor:C.textCoor,grouped:P,labels:[T],overflow:P,textCoor:G}});return R.some(T=>[_,E].some(A=>A&&Math.abs(A.textCoor.y-T.textCoor.y)<15))?N.concat(C):N.concat(...R)},[]),S=S.map(N=>{const C=N.labels[0].name,w=N.labels.length-1;return N.overflow?{...N,name:`+${w+1}`}:N.grouped?{...N,name:`${C},+${w}`}:{...N,name:C}}),S.map(N=>{let{x:C,y:w}=N.textCoor;return C=Math.max(xt*(N.name.length+1),C),C=Math.min(m.width-(N.name.length+1)*xt,C),w=Math.max(xt,w),w=Math.min(m.height-xt-12,w),{...N,textCoor:{x:C,y:w}}})};setHoveredGroup=r=>{r!==this.state.hoveredGroup&&this.setState({hoveredGroup:r})};render(){const{hoveredGroup:r,labelGroups:s}=this.state,{lineHeight:i,size:o}=this.props,c=s.find(u=>u.labels[0].id===r);return h.jsxs("g",{className:"la-vz-circular-labels",onMouseLeave:()=>this.setHoveredGroup(""),children:[s.map(u=>{const[d]=u.labels,m=u.forkCoor||u.textCoor,f=h.jsxs(h.Fragment,{children:[h.jsx("path",{className:"la-vz-label-line",d:`M${u.lineCoor.x} ${u.lineCoor.y} L${m.x} ${m.y}`,style:_x}),u.forkCoor&&h.jsx("path",{className:"la-vz-label-line",d:`M${m.x} ${m.y} L${u.textCoor.x} ${u.textCoor.y}`,style:_x})]});if(u.grouped){if(d.id===r)return null}else return h.jsxs("g",{children:[f,h.jsx("text",{className:"la-vz-circular-label",id:d.id,...u.textCoor,dominantBaseline:"middle",style:Jc,textAnchor:u.textAnchor,onMouseEnter:()=>eu(d.id||"",!0),onMouseLeave:()=>eu(d.id||"",!1),children:u.name})]},d.id);return h.jsxs("g",{id:`${d.id}-label`,children:[f,h.jsx("text",{className:"la-vz-circular-label",dominantBaseline:"middle",id:d.id,style:Jc,textAnchor:u.textAnchor,onMouseEnter:()=>this.setHoveredGroup(d.id||""),...u.textCoor,children:u.name})]},`${d.id}-listener`)}),c&&h.jsx(z3,{group:c,lineHeight:i,setHoveredGroup:this.setHoveredGroup,size:o})]})}}let O3=class extends j.PureComponent{static contextType=ga;static context;render(){const{findCoor:r,genArc:s,getRotation:i,lineHeight:o,radius:c,seq:u,seqLength:d,totalRows:m}=this.props,{clockwise:f,end:p,ref:x,start:y}=this.context;if(typeof y>"u"||typeof p>"u")return;let v=0;if(y===p&&x==="ALL"?v=d:y>p?v=f!==!1?Math.abs(p-y+d):-Math.abs(y-p):y<p&&(v=f!==!1?Math.abs(p-y):-Math.abs(y-p+d)),Math.abs(v)===d){const T=v>0?-.1:.1;v+=T}let S=c+o;u.length<=ra&&(S+=2*o+3);const N=o*(m-1);let C=c-N;(C<0||S<0)&&(C=0,S=c);const w=r(0,S),_=r(0,C),E=`M ${_.x} ${_.y}
			L ${w.x} ${w.y}`,R=f!==!1||x==="ALL";let M=!1;return(f!==!1&&v>d/2||f===!1&&Math.abs(v)>d/2)&&(M=!0),h.jsxs("g",{children:[v&&h.jsx("path",{className:"la-vz-selection",d:s({innerRadius:C,largeArc:M,length:v,outerRadius:S,sweepFWD:R}),shapeRendering:"auto",stroke:"none",style:$1,transform:i(y)}),h.jsx("path",{className:"la-vz-selection-edge",d:E,strokeWidth:1,style:Wc,transform:i(y)}),v&&h.jsx("path",{className:"la-vz-selection-edge",d:E,style:Wc,transform:i(p)})]})}};const ra=250;class uh extends j.Component{static contextType=si;static context;constructor(r){super(r),this.state={annotationsInRows:[],inlinedLabels:[],lineHeight:0,outerLabels:[],seqLength:0}}static getDerivedStateFromProps=r=>{const i=vo(r.annotations,r.seq.length),o=r.seq.length,c=r.cutSites,{radius:u}=r;let d=u-42;const m=[],f=[];return i.forEach(p=>{const x=d*Math.PI;p.forEach(y=>{const v=(y.name.length+2)*xt;let S=y.end-y.start;y.start>=y.end&&(S+=o);const N=2*x*(S/o);if(v<N)m.push(y.id);else{const{end:C,id:w,name:_,start:E}=y;f.push({end:C,id:w,name:_,start:E,type:"annotation"})}}),d-=14}),c.forEach(p=>f.push({...p.enzyme,...p,start:p.fcut,type:"enzyme"})),f.sort((p,x)=>Math.min(p.start,p.end)-Math.min(x.start,x.end)),{annotationsInRows:i,inlinedLabels:m,lineHeight:14,outerLabels:f,seqLength:r.seq.length}};shouldComponentUpdate=r=>!Dn(r,this.props);getRotation=r=>{const{center:s}=this.props,{seqLength:i}=this.state,o=this.context.circular;return`rotate(${(r-o)/i*360||0}, ${s.x}, ${s.y})`};findCoor=(r,s,i)=>{const{center:o}=this.props,{seqLength:c}=this.state,f=((i?r-this.context.circular:r)/c-.25)*Math.PI*2,p=Math.cos(f)*s,x=Math.sin(f)*s;return{x:o.x+p,y:o.y+x}};rotateCoor=(r,s)=>{const{center:i}=this.props,o=s*(Math.PI/180),c=Math.cos(o),u=Math.sin(o),d=r.x-i.x,m=r.y-i.y,f=c*d,p=c*m,x=u*d,y=u*m,v=f-y,S=x+p;return{x:i.x+v,y:i.y+S}};genArc=r=>{const{arrowFWD:s,arrowREV:i,innerRadius:o,largeArc:c,length:u,outerRadius:d,sweepFWD:m}=r,{radius:f}=this.props,{lineHeight:p,seqLength:x}=this.state,y=r.offset===void 0?0:r.offset;let v=this.findCoor(y,o),S=this.findCoor(y,d),N=this.findCoor(u+y,o),C=this.findCoor(u+y,d),w="",_="";if(i||s){const A=p/4/f,O=Math.min(A/2,u/x)*360;if(i){v=this.rotateCoor(v,O),S=this.rotateCoor(S,O);const G=this.findCoor(0,(o+d)/2);w=`L ${G.x} ${G.y}`}else{N=this.rotateCoor(N,-O),C=this.rotateCoor(C,-O);const G=this.findCoor(u,(o+d)/2);_=`L ${G.x} ${G.y}`}}const E=c?1:0,R=m?1:0,M=m?0:1;return`M ${N.x} ${N.y}
      A ${o} ${o}, 0, ${E}, ${M}, ${v.x} ${v.y}
      L ${v.x} ${v.y}
      ${w}
      L ${S.x} ${S.y}
      A ${d} ${d}, 0, ${E}, ${R}, ${C.x} ${C.y}
      ${_}
      Z`};handleScrollEvent=r=>{const{rotateOnScroll:s,seq:i}=this.props;if(!s)return;let o=i.length*(r.deltaY/5e3);o=Math.floor(o),o===0&&(r.deltaY>0?o=1:o=-1);let c=this.context.circular+o;c=(c+i.length)%i.length,this.context.setCentralIndex("CIRCULAR",c)};render(){const{center:r,compSeq:s,cutSites:i,handleMouseEvent:o,inputRef:c,name:u,onCutSiteClick:d,radius:m,search:f,seq:p,showComplement:x,showIndex:y,size:v,yDiff:S}=this.props,{annotationsInRows:N,inlinedLabels:C,lineHeight:w,outerLabels:_,seqLength:E}=this.state,{findCoor:R,genArc:M,getRotation:T,rotateCoor:A}=this,z={center:r,findCoor:R,genArc:M,getRotation:T,inputRef:c,lineHeight:w,radius:m,rotateCoor:A,seqLength:E},O=4+N.length,G=`la-vz-${u}-viewer-circular`;return v.height?h.jsx("svg",{ref:c(G,{type:"SEQ",viewer:"CIRCULAR"}),className:"la-vz-viewer-circular","data-testid":"la-vz-viewer-circular",height:v.height,id:G,overflow:"visible",style:QM,width:v.width>=0?v.width:0,onMouseDown:o,onMouseMove:o,onMouseUp:o,onWheel:this.handleScrollEvent,children:h.jsxs("g",{className:"la-vz-circular-root",transform:`translate(0, ${S})`,children:[h.jsx(O3,{...z,seq:p,totalRows:O}),h.jsx(T3,{...z,cutSites:i,onCutSiteClick:d,selectionRows:4}),h.jsx(k3,{...z,compSeq:s,name:u,seq:p,showComplement:x,showIndex:y,size:v,totalRows:O,yDiff:S}),h.jsx(R3,{genArc:z.genArc,getRotation:z.getRotation,highlights:this.props.highlights,inputRef:z.inputRef,lineHeight:z.lineHeight,radius:z.radius,search:f,seqLength:z.seqLength}),h.jsx(j3,{...z,annotations:N,inlinedAnnotations:C,rowsToSkip:0}),h.jsx($m,{...z,labels:_,size:v,yDiff:S})]})}):null}}const kx=e=>{const{className:r,color:s,direction:i,genArc:o,getRotation:c,inputRef:u,lineHeight:d,radius:m,seqLength:f,start:p,style:x}=e;let{end:y}=e;y<p&&(y+=f);const v=Math.abs(y-p),S=o({innerRadius:m-d/2,largeArc:v>f/2,length:v,outerRadius:m+d/2,sweepFWD:!0}),N=`circular-${p}-${y}-${i}`;return h.jsx("path",{ref:u(N,{end:y,ref:N,start:p,type:"FIND",viewer:"CIRCULAR"}),className:r,cursor:"pointer",d:S,fill:s,id:N,shapeRendering:"auto",stroke:"rgba(0, 0, 0, 0.5)",strokeWidth:1,style:x,transform:c(p)},N)};function L3(e){return{name:e.name,rseq:e.recognition_sequence,fcut:e.cut_offset_top,rcut:e.cut_offset_bottom}}const D3=(e,r=0,s="",i)=>{if(!e||!e.length||!s||!s.length)return[];if(e.length-r<2)return[];const o=zx(e,s,r,!0,i);if(["dna","rna"].includes(i)){const{compSeq:c}=No(s,i),u=zx(qM(e),c,r,!1,i);o.push(...u)}return o.length>4e3?(console.error("Search too broad: >4000 matches. Please narrow parameters."),[]):o.sort((c,u)=>c.start-u.start)},zx=(e,r,s,i,o)=>{if(s>0)return $3(e,r,s,i,o);const c=r.length,u=Kh(e,o);let d=u.exec(r);const m=[];for(;d;){const f=d.index%c,p=(f+e.length)%c||c;m.push({direction:i?1:-1,end:p,id:`${f}-${i?"fwd":"rev"}`,name:"",start:f}),d=u.exec(r)}return m},$3=(e,r,s,i,o)=>{const c=D1(o),u=[];for(let d=0;d<r.length-e.length;d+=1){let m=0;for(let f=0;f<e.length;f+=1){const p=r[d+f].toLowerCase(),x=e[f].toLowerCase();if(DM[x]?p!==x&&(m+=1):c[x]&&(c[x][p]||(m+=1)),m>s)break}if(m<=s){const f=(d+e.length)%r.length||r.length;u.push({direction:i?1:-1,end:f,id:`${d}-${i?"fwd":"rev"}`,name:"",start:d})}}return u},Kh=(e,r)=>{const s=D1(r),i=e.toLowerCase().split("").map(o=>s[o]?`(${Object.keys(s[o]).join("|")})`:o).join("");return new RegExp(i.trim(),"gi")},q1=(e,r,s=[])=>{const i=e+e,c=s.map(L3).reduce((u,d)=>(B3(d,i,r,e.length).forEach(m=>u[`${m.fcut}-${m.direction}`]=m),u),{});return Object.values(c)},B3=(e,r,s,i)=>{if(s==="aa")return[];const{fcut:o,rcut:c,rseq:u}=e,d=[],m=Kh(u,s);let f=m.exec(r);for(;f;){const y=f.index;d.push({direction:1,end:y+u.length,enzyme:e,fcut:y+o,id:"",name:e.name,rcut:y+c,start:y}),f=m.exec(r)}const p=u===Zh(u,s),x=Kh(Zh(u,s),s);for(f=x.exec(r);f&&!p;){const y=f.index;d.push({direction:-1,end:y+u.length,enzyme:e,fcut:y+u.length-c,id:"",name:e.name,rcut:y+u.length-o,start:y}),f=x.exec(r)}return d.sort((y,v)=>y.fcut-v.fcut).filter(y=>!(y.fcut===0&&y.rcut===0)).map(y=>({...y,end:y.end%i,fcut:y.fcut%i,id:`${e.name}-${e.rseq}-${y.fcut}-${y.direction>0?"fwd":"rev"}`,rcut:y.rcut%i,start:y.start%i})).filter(y=>y.enzyme.range?y.start>=y.enzyme.range.start&&y.end<=y.enzyme.range.end:!0)};var Dc={exports:{}},Sc={exports:{}},Ox;function H3(){return Ox||(Ox=1,(function(e,r){var s=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},i=s();e.exports=r=i.fetch,i.fetch&&(r.default=i.fetch.bind(i)),r.Headers=i.Headers,r.Request=i.Request,r.Response=i.Response})(Sc,Sc.exports)),Sc.exports}var dh={},fh={},Lx;function Bm(){return Lx||(Lx=1,(function(e){const r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s=r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",i="["+r+"]["+s+"]*",o=new RegExp("^"+i+"$"),c=function(d,m){const f=[];let p=m.exec(d);for(;p;){const x=[];x.startIndex=m.lastIndex-p[0].length;const y=p.length;for(let v=0;v<y;v++)x.push(p[v]);f.push(x),p=m.exec(d)}return f},u=function(d){const m=o.exec(d);return!(m===null||typeof m>"u")};e.isExist=function(d){return typeof d<"u"},e.isEmptyObject=function(d){return Object.keys(d).length===0},e.merge=function(d,m,f){if(m){const p=Object.keys(m),x=p.length;for(let y=0;y<x;y++)f==="strict"?d[p[y]]=[m[p[y]]]:d[p[y]]=m[p[y]]}},e.getValue=function(d){return e.isExist(d)?d:""},e.isName=u,e.getAllMatches=c,e.nameRegexp=i})(fh)),fh}var Dx;function U1(){if(Dx)return dh;Dx=1;const e=Bm(),r={allowBooleanAttributes:!1,unpairedTags:[]};dh.validate=function(w,_){_=Object.assign({},r,_);const E=[];let R=!1,M=!1;w[0]==="\uFEFF"&&(w=w.substr(1));for(let T=0;T<w.length;T++)if(w[T]==="<"&&w[T+1]==="?"){if(T+=2,T=i(w,T),T.err)return T}else if(w[T]==="<"){let A=T;if(T++,w[T]==="!"){T=o(w,T);continue}else{let z=!1;w[T]==="/"&&(z=!0,T++);let O="";for(;T<w.length&&w[T]!==">"&&w[T]!==" "&&w[T]!=="	"&&w[T]!==`
`&&w[T]!=="\r";T++)O+=w[T];if(O=O.trim(),O[O.length-1]==="/"&&(O=O.substring(0,O.length-1),T--),!S(O)){let U;return O.trim().length===0?U="Invalid space after '<'.":U="Tag '"+O+"' is an invalid name.",y("InvalidTag",U,N(w,T))}const G=d(w,T);if(G===!1)return y("InvalidAttr","Attributes for '"+O+"' have open quote.",N(w,T));let P=G.value;if(T=G.index,P[P.length-1]==="/"){const U=T-P.length;P=P.substring(0,P.length-1);const V=f(P,_);if(V===!0)R=!0;else return y(V.err.code,V.err.msg,N(w,U+V.err.line))}else if(z)if(G.tagClosed){if(P.trim().length>0)return y("InvalidTag","Closing tag '"+O+"' can't have attributes or invalid starting.",N(w,A));if(E.length===0)return y("InvalidTag","Closing tag '"+O+"' has not been opened.",N(w,A));{const U=E.pop();if(O!==U.tagName){let V=N(w,U.tagStartPos);return y("InvalidTag","Expected closing tag '"+U.tagName+"' (opened in line "+V.line+", col "+V.col+") instead of closing tag '"+O+"'.",N(w,A))}E.length==0&&(M=!0)}}else return y("InvalidTag","Closing tag '"+O+"' doesn't have proper closing.",N(w,T));else{const U=f(P,_);if(U!==!0)return y(U.err.code,U.err.msg,N(w,T-P.length+U.err.line));if(M===!0)return y("InvalidXml","Multiple possible root nodes found.",N(w,T));_.unpairedTags.indexOf(O)!==-1||E.push({tagName:O,tagStartPos:A}),R=!0}for(T++;T<w.length;T++)if(w[T]==="<")if(w[T+1]==="!"){T++,T=o(w,T);continue}else if(w[T+1]==="?"){if(T=i(w,++T),T.err)return T}else break;else if(w[T]==="&"){const U=x(w,T);if(U==-1)return y("InvalidChar","char '&' is not expected.",N(w,T));T=U}else if(M===!0&&!s(w[T]))return y("InvalidXml","Extra text at the end",N(w,T));w[T]==="<"&&T--}}else{if(s(w[T]))continue;return y("InvalidChar","char '"+w[T]+"' is not expected.",N(w,T))}if(R){if(E.length==1)return y("InvalidTag","Unclosed tag '"+E[0].tagName+"'.",N(w,E[0].tagStartPos));if(E.length>0)return y("InvalidXml","Invalid '"+JSON.stringify(E.map(T=>T.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return y("InvalidXml","Start tag expected.",1);return!0};function s(w){return w===" "||w==="	"||w===`
`||w==="\r"}function i(w,_){const E=_;for(;_<w.length;_++)if(w[_]=="?"||w[_]==" "){const R=w.substr(E,_-E);if(_>5&&R==="xml")return y("InvalidXml","XML declaration allowed only at the start of the document.",N(w,_));if(w[_]=="?"&&w[_+1]==">"){_++;break}else continue}return _}function o(w,_){if(w.length>_+5&&w[_+1]==="-"&&w[_+2]==="-"){for(_+=3;_<w.length;_++)if(w[_]==="-"&&w[_+1]==="-"&&w[_+2]===">"){_+=2;break}}else if(w.length>_+8&&w[_+1]==="D"&&w[_+2]==="O"&&w[_+3]==="C"&&w[_+4]==="T"&&w[_+5]==="Y"&&w[_+6]==="P"&&w[_+7]==="E"){let E=1;for(_+=8;_<w.length;_++)if(w[_]==="<")E++;else if(w[_]===">"&&(E--,E===0))break}else if(w.length>_+9&&w[_+1]==="["&&w[_+2]==="C"&&w[_+3]==="D"&&w[_+4]==="A"&&w[_+5]==="T"&&w[_+6]==="A"&&w[_+7]==="["){for(_+=8;_<w.length;_++)if(w[_]==="]"&&w[_+1]==="]"&&w[_+2]===">"){_+=2;break}}return _}const c='"',u="'";function d(w,_){let E="",R="",M=!1;for(;_<w.length;_++){if(w[_]===c||w[_]===u)R===""?R=w[_]:R!==w[_]||(R="");else if(w[_]===">"&&R===""){M=!0;break}E+=w[_]}return R!==""?!1:{value:E,index:_,tagClosed:M}}const m=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function f(w,_){const E=e.getAllMatches(w,m),R={};for(let M=0;M<E.length;M++){if(E[M][1].length===0)return y("InvalidAttr","Attribute '"+E[M][2]+"' has no space in starting.",C(E[M]));if(E[M][3]!==void 0&&E[M][4]===void 0)return y("InvalidAttr","Attribute '"+E[M][2]+"' is without value.",C(E[M]));if(E[M][3]===void 0&&!_.allowBooleanAttributes)return y("InvalidAttr","boolean attribute '"+E[M][2]+"' is not allowed.",C(E[M]));const T=E[M][2];if(!v(T))return y("InvalidAttr","Attribute '"+T+"' is an invalid name.",C(E[M]));if(!R.hasOwnProperty(T))R[T]=1;else return y("InvalidAttr","Attribute '"+T+"' is repeated.",C(E[M]))}return!0}function p(w,_){let E=/\d/;for(w[_]==="x"&&(_++,E=/[\da-fA-F]/);_<w.length;_++){if(w[_]===";")return _;if(!w[_].match(E))break}return-1}function x(w,_){if(_++,w[_]===";")return-1;if(w[_]==="#")return _++,p(w,_);let E=0;for(;_<w.length;_++,E++)if(!(w[_].match(/\w/)&&E<20)){if(w[_]===";")break;return-1}return _}function y(w,_,E){return{err:{code:w,msg:_,line:E.line||E,col:E.col}}}function v(w){return e.isName(w)}function S(w){return e.isName(w)}function N(w,_){const E=w.substring(0,_).split(/\r?\n/);return{line:E.length,col:E[E.length-1].length+1}}function C(w){return w.startIndex+w[1].length}return dh}var Nc={},$x;function q3(){if($x)return Nc;$x=1;const e={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(s,i){return i},attributeValueProcessor:function(s,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(s,i,o){return s}},r=function(s){return Object.assign({},e,s)};return Nc.buildOptions=r,Nc.defaultOptions=e,Nc}var hh,Bx;function U3(){if(Bx)return hh;Bx=1;class e{constructor(s){this.tagname=s,this.child=[],this[":@"]={}}add(s,i){s==="__proto__"&&(s="#__proto__"),this.child.push({[s]:i})}addChild(s){s.tagname==="__proto__"&&(s.tagname="#__proto__"),s[":@"]&&Object.keys(s[":@"]).length>0?this.child.push({[s.tagname]:s.child,":@":s[":@"]}):this.child.push({[s.tagname]:s.child})}}return hh=e,hh}var mh,Hx;function I3(){if(Hx)return mh;Hx=1;const e=Bm();function r(f,p){const x={};if(f[p+3]==="O"&&f[p+4]==="C"&&f[p+5]==="T"&&f[p+6]==="Y"&&f[p+7]==="P"&&f[p+8]==="E"){p=p+9;let y=1,v=!1,S=!1,N="";for(;p<f.length;p++)if(f[p]==="<"&&!S){if(v&&o(f,p)){p+=7;let C,w;[C,w,p]=s(f,p+1),w.indexOf("&")===-1&&(x[m(C)]={regx:RegExp(`&${C};`,"g"),val:w})}else if(v&&c(f,p))p+=8;else if(v&&u(f,p))p+=8;else if(v&&d(f,p))p+=9;else if(i)S=!0;else throw new Error("Invalid DOCTYPE");y++,N=""}else if(f[p]===">"){if(S?f[p-1]==="-"&&f[p-2]==="-"&&(S=!1,y--):y--,y===0)break}else f[p]==="["?v=!0:N+=f[p];if(y!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:x,i:p}}function s(f,p){let x="";for(;p<f.length&&f[p]!=="'"&&f[p]!=='"';p++)x+=f[p];if(x=x.trim(),x.indexOf(" ")!==-1)throw new Error("External entites are not supported");const y=f[p++];let v="";for(;p<f.length&&f[p]!==y;p++)v+=f[p];return[x,v,p]}function i(f,p){return f[p+1]==="!"&&f[p+2]==="-"&&f[p+3]==="-"}function o(f,p){return f[p+1]==="!"&&f[p+2]==="E"&&f[p+3]==="N"&&f[p+4]==="T"&&f[p+5]==="I"&&f[p+6]==="T"&&f[p+7]==="Y"}function c(f,p){return f[p+1]==="!"&&f[p+2]==="E"&&f[p+3]==="L"&&f[p+4]==="E"&&f[p+5]==="M"&&f[p+6]==="E"&&f[p+7]==="N"&&f[p+8]==="T"}function u(f,p){return f[p+1]==="!"&&f[p+2]==="A"&&f[p+3]==="T"&&f[p+4]==="T"&&f[p+5]==="L"&&f[p+6]==="I"&&f[p+7]==="S"&&f[p+8]==="T"}function d(f,p){return f[p+1]==="!"&&f[p+2]==="N"&&f[p+3]==="O"&&f[p+4]==="T"&&f[p+5]==="A"&&f[p+6]==="T"&&f[p+7]==="I"&&f[p+8]==="O"&&f[p+9]==="N"}function m(f){if(e.isName(f))return f;throw new Error(`Invalid entity name ${f}`)}return mh=r,mh}var ph,qx;function G3(){if(qx)return ph;qx=1;const e=/^[-+]?0x[a-fA-F0-9]+$/,r=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,s={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function i(u,d={}){if(d=Object.assign({},s,d),!u||typeof u!="string")return u;let m=u.trim();if(d.skipLike!==void 0&&d.skipLike.test(m))return u;if(u==="0")return 0;if(d.hex&&e.test(m))return c(m,16);if(m.search(/[eE]/)!==-1){const f=m.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(f){if(d.leadingZeros)m=(f[1]||"")+f[3];else if(!(f[2]==="0"&&f[3][0]==="."))return u;return d.eNotation?Number(m):u}else return u}else{const f=r.exec(m);if(f){const p=f[1],x=f[2];let y=o(f[3]);if(!d.leadingZeros&&x.length>0&&p&&m[2]!==".")return u;if(!d.leadingZeros&&x.length>0&&!p&&m[1]!==".")return u;if(d.leadingZeros&&x===u)return 0;{const v=Number(m),S=""+v;return S.search(/[eE]/)!==-1?d.eNotation?v:u:m.indexOf(".")!==-1?S==="0"&&y===""||S===y||p&&S==="-"+y?v:u:x?y===S||p+y===S?v:u:m===S||m===p+S?v:u}}else return u}}function o(u){return u&&u.indexOf(".")!==-1&&(u=u.replace(/0+$/,""),u==="."?u="0":u[0]==="."?u="0"+u:u[u.length-1]==="."&&(u=u.substr(0,u.length-1))),u}function c(u,d){if(parseInt)return parseInt(u,d);if(Number.parseInt)return Number.parseInt(u,d);if(window&&window.parseInt)return window.parseInt(u,d);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return ph=i,ph}var gh,Ux;function I1(){if(Ux)return gh;Ux=1;function e(r){return typeof r=="function"?r:Array.isArray(r)?s=>{for(const i of r)if(typeof i=="string"&&s===i||i instanceof RegExp&&i.test(s))return!0}:()=>!1}return gh=e,gh}var yh,Ix;function V3(){if(Ix)return yh;Ix=1;const e=Bm(),r=U3(),s=I3(),i=G3(),o=I1();class c{constructor(T){this.options=T,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(A,z)=>String.fromCharCode(Number.parseInt(z,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(A,z)=>String.fromCharCode(Number.parseInt(z,16))}},this.addExternalEntities=u,this.parseXml=x,this.parseTextData=d,this.resolveNameSpace=m,this.buildAttributesMap=p,this.isItStopNode=N,this.replaceEntitiesValue=v,this.readStopNodeData=E,this.saveTextToParentTag=S,this.addChild=y,this.ignoreAttributesFn=o(this.options.ignoreAttributes)}}function u(M){const T=Object.keys(M);for(let A=0;A<T.length;A++){const z=T[A];this.lastEntities[z]={regex:new RegExp("&"+z+";","g"),val:M[z]}}}function d(M,T,A,z,O,G,P){if(M!==void 0&&(this.options.trimValues&&!z&&(M=M.trim()),M.length>0)){P||(M=this.replaceEntitiesValue(M));const U=this.options.tagValueProcessor(T,M,A,O,G);return U==null?M:typeof U!=typeof M||U!==M?U:this.options.trimValues?R(M,this.options.parseTagValue,this.options.numberParseOptions):M.trim()===M?R(M,this.options.parseTagValue,this.options.numberParseOptions):M}}function m(M){if(this.options.removeNSPrefix){const T=M.split(":"),A=M.charAt(0)==="/"?"/":"";if(T[0]==="xmlns")return"";T.length===2&&(M=A+T[1])}return M}const f=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function p(M,T,A){if(this.options.ignoreAttributes!==!0&&typeof M=="string"){const z=e.getAllMatches(M,f),O=z.length,G={};for(let P=0;P<O;P++){const U=this.resolveNameSpace(z[P][1]);if(this.ignoreAttributesFn(U,T))continue;let V=z[P][4],B=this.options.attributeNamePrefix+U;if(U.length)if(this.options.transformAttributeName&&(B=this.options.transformAttributeName(B)),B==="__proto__"&&(B="#__proto__"),V!==void 0){this.options.trimValues&&(V=V.trim()),V=this.replaceEntitiesValue(V);const F=this.options.attributeValueProcessor(U,V,T);F==null?G[B]=V:typeof F!=typeof V||F!==V?G[B]=F:G[B]=R(V,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(G[B]=!0)}if(!Object.keys(G).length)return;if(this.options.attributesGroupName){const P={};return P[this.options.attributesGroupName]=G,P}return G}}const x=function(M){M=M.replace(/\r\n?/g,`
`);const T=new r("!xml");let A=T,z="",O="";for(let G=0;G<M.length;G++)if(M[G]==="<")if(M[G+1]==="/"){const U=w(M,">",G,"Closing Tag is not closed.");let V=M.substring(G+2,U).trim();if(this.options.removeNSPrefix){const L=V.indexOf(":");L!==-1&&(V=V.substr(L+1))}this.options.transformTagName&&(V=this.options.transformTagName(V)),A&&(z=this.saveTextToParentTag(z,A,O));const B=O.substring(O.lastIndexOf(".")+1);if(V&&this.options.unpairedTags.indexOf(V)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${V}>`);let F=0;B&&this.options.unpairedTags.indexOf(B)!==-1?(F=O.lastIndexOf(".",O.lastIndexOf(".")-1),this.tagsNodeStack.pop()):F=O.lastIndexOf("."),O=O.substring(0,F),A=this.tagsNodeStack.pop(),z="",G=U}else if(M[G+1]==="?"){let U=_(M,G,!1,"?>");if(!U)throw new Error("Pi Tag is not closed.");if(z=this.saveTextToParentTag(z,A,O),!(this.options.ignoreDeclaration&&U.tagName==="?xml"||this.options.ignorePiTags)){const V=new r(U.tagName);V.add(this.options.textNodeName,""),U.tagName!==U.tagExp&&U.attrExpPresent&&(V[":@"]=this.buildAttributesMap(U.tagExp,O,U.tagName)),this.addChild(A,V,O)}G=U.closeIndex+1}else if(M.substr(G+1,3)==="!--"){const U=w(M,"-->",G+4,"Comment is not closed.");if(this.options.commentPropName){const V=M.substring(G+4,U-2);z=this.saveTextToParentTag(z,A,O),A.add(this.options.commentPropName,[{[this.options.textNodeName]:V}])}G=U}else if(M.substr(G+1,2)==="!D"){const U=s(M,G);this.docTypeEntities=U.entities,G=U.i}else if(M.substr(G+1,2)==="!["){const U=w(M,"]]>",G,"CDATA is not closed.")-2,V=M.substring(G+9,U);z=this.saveTextToParentTag(z,A,O);let B=this.parseTextData(V,A.tagname,O,!0,!1,!0,!0);B==null&&(B=""),this.options.cdataPropName?A.add(this.options.cdataPropName,[{[this.options.textNodeName]:V}]):A.add(this.options.textNodeName,B),G=U+2}else{let U=_(M,G,this.options.removeNSPrefix),V=U.tagName;const B=U.rawTagName;let F=U.tagExp,L=U.attrExpPresent,q=U.closeIndex;this.options.transformTagName&&(V=this.options.transformTagName(V)),A&&z&&A.tagname!=="!xml"&&(z=this.saveTextToParentTag(z,A,O,!1));const H=A;if(H&&this.options.unpairedTags.indexOf(H.tagname)!==-1&&(A=this.tagsNodeStack.pop(),O=O.substring(0,O.lastIndexOf("."))),V!==T.tagname&&(O+=O?"."+V:V),this.isItStopNode(this.options.stopNodes,O,V)){let Y="";if(F.length>0&&F.lastIndexOf("/")===F.length-1)V[V.length-1]==="/"?(V=V.substr(0,V.length-1),O=O.substr(0,O.length-1),F=V):F=F.substr(0,F.length-1),G=U.closeIndex;else if(this.options.unpairedTags.indexOf(V)!==-1)G=U.closeIndex;else{const $=this.readStopNodeData(M,B,q+1);if(!$)throw new Error(`Unexpected end of ${B}`);G=$.i,Y=$.tagContent}const Q=new r(V);V!==F&&L&&(Q[":@"]=this.buildAttributesMap(F,O,V)),Y&&(Y=this.parseTextData(Y,V,O,!0,L,!0,!0)),O=O.substr(0,O.lastIndexOf(".")),Q.add(this.options.textNodeName,Y),this.addChild(A,Q,O)}else{if(F.length>0&&F.lastIndexOf("/")===F.length-1){V[V.length-1]==="/"?(V=V.substr(0,V.length-1),O=O.substr(0,O.length-1),F=V):F=F.substr(0,F.length-1),this.options.transformTagName&&(V=this.options.transformTagName(V));const Y=new r(V);V!==F&&L&&(Y[":@"]=this.buildAttributesMap(F,O,V)),this.addChild(A,Y,O),O=O.substr(0,O.lastIndexOf("."))}else{const Y=new r(V);this.tagsNodeStack.push(A),V!==F&&L&&(Y[":@"]=this.buildAttributesMap(F,O,V)),this.addChild(A,Y,O),A=Y}z="",G=q}}else z+=M[G];return T.child};function y(M,T,A){const z=this.options.updateTag(T.tagname,A,T[":@"]);z===!1||(typeof z=="string"&&(T.tagname=z),M.addChild(T))}const v=function(M){if(this.options.processEntities){for(let T in this.docTypeEntities){const A=this.docTypeEntities[T];M=M.replace(A.regx,A.val)}for(let T in this.lastEntities){const A=this.lastEntities[T];M=M.replace(A.regex,A.val)}if(this.options.htmlEntities)for(let T in this.htmlEntities){const A=this.htmlEntities[T];M=M.replace(A.regex,A.val)}M=M.replace(this.ampEntity.regex,this.ampEntity.val)}return M};function S(M,T,A,z){return M&&(z===void 0&&(z=T.child.length===0),M=this.parseTextData(M,T.tagname,A,!1,T[":@"]?Object.keys(T[":@"]).length!==0:!1,z),M!==void 0&&M!==""&&T.add(this.options.textNodeName,M),M=""),M}function N(M,T,A){const z="*."+A;for(const O in M){const G=M[O];if(z===G||T===G)return!0}return!1}function C(M,T,A=">"){let z,O="";for(let G=T;G<M.length;G++){let P=M[G];if(z)P===z&&(z="");else if(P==='"'||P==="'")z=P;else if(P===A[0])if(A[1]){if(M[G+1]===A[1])return{data:O,index:G}}else return{data:O,index:G};else P==="	"&&(P=" ");O+=P}}function w(M,T,A,z){const O=M.indexOf(T,A);if(O===-1)throw new Error(z);return O+T.length-1}function _(M,T,A,z=">"){const O=C(M,T+1,z);if(!O)return;let G=O.data;const P=O.index,U=G.search(/\s/);let V=G,B=!0;U!==-1&&(V=G.substring(0,U),G=G.substring(U+1).trimStart());const F=V;if(A){const L=V.indexOf(":");L!==-1&&(V=V.substr(L+1),B=V!==O.data.substr(L+1))}return{tagName:V,tagExp:G,closeIndex:P,attrExpPresent:B,rawTagName:F}}function E(M,T,A){const z=A;let O=1;for(;A<M.length;A++)if(M[A]==="<")if(M[A+1]==="/"){const G=w(M,">",A,`${T} is not closed`);if(M.substring(A+2,G).trim()===T&&(O--,O===0))return{tagContent:M.substring(z,A),i:G};A=G}else if(M[A+1]==="?")A=w(M,"?>",A+1,"StopNode is not closed.");else if(M.substr(A+1,3)==="!--")A=w(M,"-->",A+3,"StopNode is not closed.");else if(M.substr(A+1,2)==="![")A=w(M,"]]>",A,"StopNode is not closed.")-2;else{const G=_(M,A,">");G&&((G&&G.tagName)===T&&G.tagExp[G.tagExp.length-1]!=="/"&&O++,A=G.closeIndex)}}function R(M,T,A){if(T&&typeof M=="string"){const z=M.trim();return z==="true"?!0:z==="false"?!1:i(M,A)}else return e.isExist(M)?M:""}return yh=c,yh}var xh={},Gx;function P3(){if(Gx)return xh;Gx=1;function e(c,u){return r(c,u)}function r(c,u,d){let m;const f={};for(let p=0;p<c.length;p++){const x=c[p],y=s(x);let v="";if(d===void 0?v=y:v=d+"."+y,y===u.textNodeName)m===void 0?m=x[y]:m+=""+x[y];else{if(y===void 0)continue;if(x[y]){let S=r(x[y],u,v);const N=o(S,u);x[":@"]?i(S,x[":@"],v,u):Object.keys(S).length===1&&S[u.textNodeName]!==void 0&&!u.alwaysCreateTextNode?S=S[u.textNodeName]:Object.keys(S).length===0&&(u.alwaysCreateTextNode?S[u.textNodeName]="":S=""),f[y]!==void 0&&f.hasOwnProperty(y)?(Array.isArray(f[y])||(f[y]=[f[y]]),f[y].push(S)):u.isArray(y,v,N)?f[y]=[S]:f[y]=S}}}return typeof m=="string"?m.length>0&&(f[u.textNodeName]=m):m!==void 0&&(f[u.textNodeName]=m),f}function s(c){const u=Object.keys(c);for(let d=0;d<u.length;d++){const m=u[d];if(m!==":@")return m}}function i(c,u,d,m){if(u){const f=Object.keys(u),p=f.length;for(let x=0;x<p;x++){const y=f[x];m.isArray(y,d+"."+y,!0,!0)?c[y]=[u[y]]:c[y]=u[y]}}}function o(c,u){const{textNodeName:d}=u,m=Object.keys(c).length;return!!(m===0||m===1&&(c[d]||typeof c[d]=="boolean"||c[d]===0))}return xh.prettify=e,xh}var vh,Vx;function Y3(){if(Vx)return vh;Vx=1;const{buildOptions:e}=q3(),r=V3(),{prettify:s}=P3(),i=U1();class o{constructor(u){this.externalEntities={},this.options=e(u)}parse(u,d){if(typeof u!="string")if(u.toString)u=u.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(d){d===!0&&(d={});const p=i.validate(u,d);if(p!==!0)throw Error(`${p.err.msg}:${p.err.line}:${p.err.col}`)}const m=new r(this.options);m.addExternalEntities(this.externalEntities);const f=m.parseXml(u);return this.options.preserveOrder||f===void 0?f:s(f,this.options)}addEntity(u,d){if(d.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(u.indexOf("&")!==-1||u.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(d==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[u]=d}}return vh=o,vh}var bh,Px;function F3(){if(Px)return bh;Px=1;const e=`
`;function r(d,m){let f="";return m.format&&m.indentBy.length>0&&(f=e),s(d,m,"",f)}function s(d,m,f,p){let x="",y=!1;for(let v=0;v<d.length;v++){const S=d[v],N=i(S);if(N===void 0)continue;let C="";if(f.length===0?C=N:C=`${f}.${N}`,N===m.textNodeName){let M=S[N];c(C,m)||(M=m.tagValueProcessor(N,M),M=u(M,m)),y&&(x+=p),x+=M,y=!1;continue}else if(N===m.cdataPropName){y&&(x+=p),x+=`<![CDATA[${S[N][0][m.textNodeName]}]]>`,y=!1;continue}else if(N===m.commentPropName){x+=p+`<!--${S[N][0][m.textNodeName]}-->`,y=!0;continue}else if(N[0]==="?"){const M=o(S[":@"],m),T=N==="?xml"?"":p;let A=S[N][0][m.textNodeName];A=A.length!==0?" "+A:"",x+=T+`<${N}${A}${M}?>`,y=!0;continue}let w=p;w!==""&&(w+=m.indentBy);const _=o(S[":@"],m),E=p+`<${N}${_}`,R=s(S[N],m,C,w);m.unpairedTags.indexOf(N)!==-1?m.suppressUnpairedNode?x+=E+">":x+=E+"/>":(!R||R.length===0)&&m.suppressEmptyNode?x+=E+"/>":R&&R.endsWith(">")?x+=E+`>${R}${p}</${N}>`:(x+=E+">",R&&p!==""&&(R.includes("/>")||R.includes("</"))?x+=p+m.indentBy+R+p:x+=R,x+=`</${N}>`),y=!0}return x}function i(d){const m=Object.keys(d);for(let f=0;f<m.length;f++){const p=m[f];if(d.hasOwnProperty(p)&&p!==":@")return p}}function o(d,m){let f="";if(d&&!m.ignoreAttributes)for(let p in d){if(!d.hasOwnProperty(p))continue;let x=m.attributeValueProcessor(p,d[p]);x=u(x,m),x===!0&&m.suppressBooleanAttributes?f+=` ${p.substr(m.attributeNamePrefix.length)}`:f+=` ${p.substr(m.attributeNamePrefix.length)}="${x}"`}return f}function c(d,m){d=d.substr(0,d.length-m.textNodeName.length-1);let f=d.substr(d.lastIndexOf(".")+1);for(let p in m.stopNodes)if(m.stopNodes[p]===d||m.stopNodes[p]==="*."+f)return!0;return!1}function u(d,m){if(d&&d.length>0&&m.processEntities)for(let f=0;f<m.entities.length;f++){const p=m.entities[f];d=d.replace(p.regex,p.val)}return d}return bh=r,bh}var wh,Yx;function X3(){if(Yx)return wh;Yx=1;const e=F3(),r=I1(),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(d,m){return m},attributeValueProcessor:function(d,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(d){this.options=Object.assign({},s,d),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=r(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=u),this.processTextOrObjNode=o,this.options.format?(this.indentate=c,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}i.prototype.build=function(d){return this.options.preserveOrder?e(d,this.options):(Array.isArray(d)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(d={[this.options.arrayNodeName]:d}),this.j2x(d,0,[]).val)},i.prototype.j2x=function(d,m,f){let p="",x="";const y=f.join(".");for(let v in d)if(Object.prototype.hasOwnProperty.call(d,v))if(typeof d[v]>"u")this.isAttribute(v)&&(x+="");else if(d[v]===null)this.isAttribute(v)||v===this.options.cdataPropName?x+="":v[0]==="?"?x+=this.indentate(m)+"<"+v+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+v+"/"+this.tagEndChar;else if(d[v]instanceof Date)x+=this.buildTextValNode(d[v],v,"",m);else if(typeof d[v]!="object"){const S=this.isAttribute(v);if(S&&!this.ignoreAttributesFn(S,y))p+=this.buildAttrPairStr(S,""+d[v]);else if(!S)if(v===this.options.textNodeName){let N=this.options.tagValueProcessor(v,""+d[v]);x+=this.replaceEntitiesValue(N)}else x+=this.buildTextValNode(d[v],v,"",m)}else if(Array.isArray(d[v])){const S=d[v].length;let N="",C="";for(let w=0;w<S;w++){const _=d[v][w];if(!(typeof _>"u"))if(_===null)v[0]==="?"?x+=this.indentate(m)+"<"+v+"?"+this.tagEndChar:x+=this.indentate(m)+"<"+v+"/"+this.tagEndChar;else if(typeof _=="object")if(this.options.oneListGroup){const E=this.j2x(_,m+1,f.concat(v));N+=E.val,this.options.attributesGroupName&&_.hasOwnProperty(this.options.attributesGroupName)&&(C+=E.attrStr)}else N+=this.processTextOrObjNode(_,v,m,f);else if(this.options.oneListGroup){let E=this.options.tagValueProcessor(v,_);E=this.replaceEntitiesValue(E),N+=E}else N+=this.buildTextValNode(_,v,"",m)}this.options.oneListGroup&&(N=this.buildObjectNode(N,v,C,m)),x+=N}else if(this.options.attributesGroupName&&v===this.options.attributesGroupName){const S=Object.keys(d[v]),N=S.length;for(let C=0;C<N;C++)p+=this.buildAttrPairStr(S[C],""+d[v][S[C]])}else x+=this.processTextOrObjNode(d[v],v,m,f);return{attrStr:p,val:x}},i.prototype.buildAttrPairStr=function(d,m){return m=this.options.attributeValueProcessor(d,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+d:" "+d+'="'+m+'"'};function o(d,m,f,p){const x=this.j2x(d,f+1,p.concat(m));return d[this.options.textNodeName]!==void 0&&Object.keys(d).length===1?this.buildTextValNode(d[this.options.textNodeName],m,x.attrStr,f):this.buildObjectNode(x.val,m,x.attrStr,f)}i.prototype.buildObjectNode=function(d,m,f,p){if(d==="")return m[0]==="?"?this.indentate(p)+"<"+m+f+"?"+this.tagEndChar:this.indentate(p)+"<"+m+f+this.closeTag(m)+this.tagEndChar;{let x="</"+m+this.tagEndChar,y="";return m[0]==="?"&&(y="?",x=""),(f||f==="")&&d.indexOf("<")===-1?this.indentate(p)+"<"+m+f+y+">"+d+x:this.options.commentPropName!==!1&&m===this.options.commentPropName&&y.length===0?this.indentate(p)+`<!--${d}-->`+this.newLine:this.indentate(p)+"<"+m+f+y+this.tagEndChar+d+this.indentate(p)+x}},i.prototype.closeTag=function(d){let m="";return this.options.unpairedTags.indexOf(d)!==-1?this.options.suppressUnpairedNode||(m="/"):this.options.suppressEmptyNode?m="/":m=`></${d}`,m},i.prototype.buildTextValNode=function(d,m,f,p){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(p)+`<![CDATA[${d}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(p)+`<!--${d}-->`+this.newLine;if(m[0]==="?")return this.indentate(p)+"<"+m+f+"?"+this.tagEndChar;{let x=this.options.tagValueProcessor(m,d);return x=this.replaceEntitiesValue(x),x===""?this.indentate(p)+"<"+m+f+this.closeTag(m)+this.tagEndChar:this.indentate(p)+"<"+m+f+">"+x+"</"+m+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(d){if(d&&d.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){const f=this.options.entities[m];d=d.replace(f.regex,f.val)}return d};function c(d){return this.options.indentBy.repeat(d)}function u(d){return d.startsWith(this.options.attributeNamePrefix)&&d!==this.options.textNodeName?d.substr(this.attrPrefixLen):!1}return wh=i,wh}var Sh,Fx;function Z3(){if(Fx)return Sh;Fx=1;const e=U1(),r=Y3(),s=X3();return Sh={XMLParser:r,XMLValidator:e,XMLBuilder:s},Sh}var Q3=Dc.exports,Xx;function W3(){return Xx||(Xx=1,(function(e,r){(function(i,o){e.exports=o()})(Q3,()=>(()=>{var s=[(function(u,d,m){var f=this&&this.__awaiter||function(v,S,N,C){function w(_){return _ instanceof N?_:new N(function(E){E(_)})}return new(N||(N=Promise))(function(_,E){function R(A){try{T(C.next(A))}catch(z){E(z)}}function M(A){try{T(C.throw(A))}catch(z){E(z)}}function T(A){A.done?_(A.value):w(A.value).then(R,M)}T((C=C.apply(v,S||[])).next())})},p=this&&this.__generator||function(v,S){var N={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},C,w,_,E;return E={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function R(T){return function(A){return M([T,A])}}function M(T){if(C)throw new TypeError("Generator is already executing.");for(;N;)try{if(C=1,w&&(_=T[0]&2?w.return:T[0]?w.throw||((_=w.return)&&_.call(w),0):w.next)&&!(_=_.call(w,T[1])).done)return _;switch(w=0,_&&(T=[T[0]&2,_.value]),T[0]){case 0:case 1:_=T;break;case 4:return N.label++,{value:T[1],done:!1};case 5:N.label++,w=T[1],T=[0];continue;case 7:T=N.ops.pop(),N.trys.pop();continue;default:if(_=N.trys,!(_=_.length>0&&_[_.length-1])&&(T[0]===6||T[0]===2)){N=0;continue}if(T[0]===3&&(!_||T[1]>_[0]&&T[1]<_[3])){N.label=T[1];break}if(T[0]===6&&N.label<_[1]){N.label=_[1],_=T;break}if(_&&N.label<_[2]){N.label=_[2],N.ops.push(T);break}_[2]&&N.ops.pop(),N.trys.pop();continue}T=S.call(v,N)}catch(A){T=[6,A],w=0}finally{C=_=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}};Object.defineProperty(d,"__esModule",{value:!0}),d.parseFile=void 0;var x=m(1),y=m(3);d.parseFile=y.default,d.default=(function(v,S){return f(void 0,void 0,void 0,function(){return p(this,function(N){switch(N.label){case 0:return!S?.fileName&&(0,x.isAccession)(v)?[4,(0,x.default)(v,S)]:[3,2];case 1:return[2,N.sent()];case 2:return[2,(0,y.default)(v,S)[0]]}})})})}),(function(u,d,m){var f=this&&this.__awaiter||function(S,N,C,w){function _(E){return E instanceof C?E:new C(function(R){R(E)})}return new(C||(C=Promise))(function(E,R){function M(z){try{A(w.next(z))}catch(O){R(O)}}function T(z){try{A(w.throw(z))}catch(O){R(O)}}function A(z){z.done?E(z.value):_(z.value).then(M,T)}A((w=w.apply(S,N||[])).next())})},p=this&&this.__generator||function(S,N){var C={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},w,_,E,R;return R={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function M(A){return function(z){return T([A,z])}}function T(A){if(w)throw new TypeError("Generator is already executing.");for(;C;)try{if(w=1,_&&(E=A[0]&2?_.return:A[0]?_.throw||((E=_.return)&&E.call(_),0):_.next)&&!(E=E.call(_,A[1])).done)return E;switch(_=0,E&&(A=[A[0]&2,E.value]),A[0]){case 0:case 1:E=A;break;case 4:return C.label++,{value:A[1],done:!1};case 5:C.label++,_=A[1],A=[0];continue;case 7:A=C.ops.pop(),C.trys.pop();continue;default:if(E=C.trys,!(E=E.length>0&&E[E.length-1])&&(A[0]===6||A[0]===2)){C=0;continue}if(A[0]===3&&(!E||A[1]>E[0]&&A[1]<E[3])){C.label=A[1];break}if(A[0]===6&&C.label<E[1]){C.label=E[1],E=A;break}if(E&&C.label<E[2]){C.label=E[2],C.ops.push(A);break}E[2]&&C.ops.pop(),C.trys.pop();continue}A=N.call(S,C)}catch(z){A=[6,z],_=0}finally{w=E=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}};Object.defineProperty(d,"__esModule",{value:!0}),d.isAccession=void 0;var x=m(2),y=m(3);d.default=(function(S,N){return f(void 0,void 0,void 0,function(){var C,w,_,E;return p(this,function(R){switch(R.label){case 0:C="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&id=".concat(S.trim(),"&rettype=gbwithparts&retmode=text"),S.startsWith("BB")&&(typeof window<"u"&&typeof process>"u"||N?.cors?C="https://cors-anywhere.herokuapp.com/http://parts.igem.org/cgi/xml/part.cgi?part=".concat(S.trim()):C="http://parts.igem.org/cgi/xml/part.cgi?part=".concat(S.trim())),w="",R.label=1;case 1:return R.trys.push([1,4,,5]),[4,(0,x.default)(C)];case 2:return _=R.sent(),[4,_.text()];case 3:return w=R.sent(),[3,5];case 4:throw E=R.sent(),new Error("Failed to get part: accession=".concat(S," url=").concat(C," err=").concat(E));case 5:if(!_.ok||!w.length)throw new Error("Failed to get part, no body returned: accession=".concat(S," url=").concat(C));return[4,(0,y.default)(w)];case 6:return[2,R.sent()[0]]}})})});var v=function(S){return!!(S.startsWith("BB")||S.length<14&&S.match(/^[a-z0-9_\-.]+$/i))};d.isAccession=v}),(u=>{u.exports=H3()}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(4),p=m(5),x=m(7),y=m(9),v=m(10),S=m(11),N=m(12),C=m(15),w=m(16),_=m(6);d.default=(function(E,R){var M=R?.fileName||"",T=M.split(f.sep).pop()||M;if(!E)throw Error("cannot parse null or empty string");var A=E.substring(0,E.search(`
`)),z=A.replace(/[^atcgATCG]/,"").length,O=z/A.length>.8,G=M&&T?T.substring(0,T.search("\\.")):"Untitled",P=!1;try{var U=JSON.parse(E);["bases","annotations","primers"].every(function(L){return typeof U[L]<"u"})&&(P=!0)}catch{}var V=E.substring(0,200),B;switch(!0){case V.includes(':seq="http://jbei.org/sequence"'):case E.startsWith("<seq:seq"):B=(0,S.default)(E);break;case E.startsWith(">"):case E.startsWith(";"):case M.endsWith(".seq"):case M.endsWith(".fa"):case M.endsWith(".fas"):case M.endsWith(".fasta"):B=(0,y.default)(E,M);break;case(E.includes("LOCUS")&&E.includes("ORIGIN")):case M.endsWith(".gb"):case M.endsWith(".gbk"):case M.endsWith(".genbank"):case M.endsWith(".ape"):B=(0,v.default)(E,M);break;case M.endsWith(".dna"):B=(0,w.default)(R);break;case V.includes("Written by SeqBuilder"):case M.endsWith(".sbd"):B=(0,C.default)(E,M);break;case V.includes("Parts from the iGEM"):case V.includes("<part_list>"):B=(0,x.default)(E);break;case P:B=(0,p.default)(E);break;case V.includes("RDF"):B=(0,N.default)(E,M);break;case O:{var F=(0,_.complement)(E).seq;B=[{annotations:[],name:G,seq:F,type:(0,_.guessType)(F)}];break}default:throw Error("".concat(M," File type not recognized: ").concat(E))}return B.map(function(L){return{annotations:L.annotations.sort(function(q,H){return q.start-H.start||q.end-H.end}).map(function(q){return{color:q.color,direction:q.direction,end:q.end,name:q.name,start:q.start,type:q.type}}),name:L.name,seq:L.seq,type:L.type}})})}),(u=>{function d(x){if(typeof x!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(x))}function m(x,y){for(var v="",S=0,N=-1,C=0,w,_=0;_<=x.length;++_){if(_<x.length)w=x.charCodeAt(_);else{if(w===47)break;w=47}if(w===47){if(!(N===_-1||C===1))if(N!==_-1&&C===2){if(v.length<2||S!==2||v.charCodeAt(v.length-1)!==46||v.charCodeAt(v.length-2)!==46){if(v.length>2){var E=v.lastIndexOf("/");if(E!==v.length-1){E===-1?(v="",S=0):(v=v.slice(0,E),S=v.length-1-v.lastIndexOf("/")),N=_,C=0;continue}}else if(v.length===2||v.length===1){v="",S=0,N=_,C=0;continue}}y&&(v.length>0?v+="/..":v="..",S=2)}else v.length>0?v+="/"+x.slice(N+1,_):v=x.slice(N+1,_),S=_-N-1;N=_,C=0}else w===46&&C!==-1?++C:C=-1}return v}function f(x,y){var v=y.dir||y.root,S=y.base||(y.name||"")+(y.ext||"");return v?v===y.root?v+S:v+x+S:S}var p={resolve:function(){for(var y="",v=!1,S,N=arguments.length-1;N>=-1&&!v;N--){var C;N>=0?C=arguments[N]:(S===void 0&&(S=process.cwd()),C=S),d(C),C.length!==0&&(y=C+"/"+y,v=C.charCodeAt(0)===47)}return y=m(y,!v),v?y.length>0?"/"+y:"/":y.length>0?y:"."},normalize:function(y){if(d(y),y.length===0)return".";var v=y.charCodeAt(0)===47,S=y.charCodeAt(y.length-1)===47;return y=m(y,!v),y.length===0&&!v&&(y="."),y.length>0&&S&&(y+="/"),v?"/"+y:y},isAbsolute:function(y){return d(y),y.length>0&&y.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var y,v=0;v<arguments.length;++v){var S=arguments[v];d(S),S.length>0&&(y===void 0?y=S:y+="/"+S)}return y===void 0?".":p.normalize(y)},relative:function(y,v){if(d(y),d(v),y===v||(y=p.resolve(y),v=p.resolve(v),y===v))return"";for(var S=1;S<y.length&&y.charCodeAt(S)===47;++S);for(var N=y.length,C=N-S,w=1;w<v.length&&v.charCodeAt(w)===47;++w);for(var _=v.length,E=_-w,R=C<E?C:E,M=-1,T=0;T<=R;++T){if(T===R){if(E>R){if(v.charCodeAt(w+T)===47)return v.slice(w+T+1);if(T===0)return v.slice(w+T)}else C>R&&(y.charCodeAt(S+T)===47?M=T:T===0&&(M=0));break}var A=y.charCodeAt(S+T),z=v.charCodeAt(w+T);if(A!==z)break;A===47&&(M=T)}var O="";for(T=S+M+1;T<=N;++T)(T===N||y.charCodeAt(T)===47)&&(O.length===0?O+="..":O+="/..");return O.length>0?O+v.slice(w+M):(w+=M,v.charCodeAt(w)===47&&++w,v.slice(w))},_makeLong:function(y){return y},dirname:function(y){if(d(y),y.length===0)return".";for(var v=y.charCodeAt(0),S=v===47,N=-1,C=!0,w=y.length-1;w>=1;--w)if(v=y.charCodeAt(w),v===47){if(!C){N=w;break}}else C=!1;return N===-1?S?"/":".":S&&N===1?"//":y.slice(0,N)},basename:function(y,v){if(v!==void 0&&typeof v!="string")throw new TypeError('"ext" argument must be a string');d(y);var S=0,N=-1,C=!0,w;if(v!==void 0&&v.length>0&&v.length<=y.length){if(v.length===y.length&&v===y)return"";var _=v.length-1,E=-1;for(w=y.length-1;w>=0;--w){var R=y.charCodeAt(w);if(R===47){if(!C){S=w+1;break}}else E===-1&&(C=!1,E=w+1),_>=0&&(R===v.charCodeAt(_)?--_===-1&&(N=w):(_=-1,N=E))}return S===N?N=E:N===-1&&(N=y.length),y.slice(S,N)}else{for(w=y.length-1;w>=0;--w)if(y.charCodeAt(w)===47){if(!C){S=w+1;break}}else N===-1&&(C=!1,N=w+1);return N===-1?"":y.slice(S,N)}},extname:function(y){d(y);for(var v=-1,S=0,N=-1,C=!0,w=0,_=y.length-1;_>=0;--_){var E=y.charCodeAt(_);if(E===47){if(!C){S=_+1;break}continue}N===-1&&(C=!1,N=_+1),E===46?v===-1?v=_:w!==1&&(w=1):v!==-1&&(w=-1)}return v===-1||N===-1||w===0||w===1&&v===N-1&&v===S+1?"":y.slice(v,N)},format:function(y){if(y===null||typeof y!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof y);return f("/",y)},parse:function(y){d(y);var v={root:"",dir:"",base:"",ext:"",name:""};if(y.length===0)return v;var S=y.charCodeAt(0),N=S===47,C;N?(v.root="/",C=1):C=0;for(var w=-1,_=0,E=-1,R=!0,M=y.length-1,T=0;M>=C;--M){if(S=y.charCodeAt(M),S===47){if(!R){_=M+1;break}continue}E===-1&&(R=!1,E=M+1),S===46?w===-1?w=M:T!==1&&(T=1):w!==-1&&(T=-1)}return w===-1||E===-1||T===0||T===1&&w===E-1&&w===_+1?E!==-1&&(_===0&&N?v.base=v.name=y.slice(1,E):v.base=v.name=y.slice(_,E)):(_===0&&N?(v.name=y.slice(1,w),v.base=y.slice(1,E)):(v.name=y.slice(_,w),v.base=y.slice(_,E)),v.ext=y.slice(w,E)),_>0?v.dir=y.slice(0,_-1):N&&(v.dir="/"),v},sep:"/",delimiter:":",win32:null,posix:null};p.posix=p,u.exports=p}),(function(u,d,m){var f=this&&this.__assign||function(){return f=Object.assign||function(x){for(var y,v=1,S=arguments.length;v<S;v++){y=arguments[v];for(var N in y)Object.prototype.hasOwnProperty.call(y,N)&&(x[N]=y[N])}return x},f.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0});var p=m(6);d.default=(function(x){var y=JSON.parse(x),v=(0,p.complement)(y.bases).seq;if(v.length<1)throw new Error("Invalid Benchling part: empty sequence");return[{annotations:y.annotations.map(function(S){return f(f({},S),{direction:(0,p.parseDirection)(S.strand)})}),name:y.name||y._id,seq:v,type:(0,p.guessType)(v)}]})}),((u,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.guessType=d.parseDirection=d.firstElement=d.reverseComplement=d.complement=void 0;var m={A:"T",B:"V",C:"G",D:"H",G:"C",H:"D",K:"M",M:"K",N:"N",R:"Y",S:"S",T:"A",U:"A",V:"B",W:"W",X:"X",Y:"R",a:"t",b:"v",c:"g",d:"h",g:"c",h:"d",k:"m",m:"k",n:"n",r:"y",s:"s",t:"a",u:"a",v:"b",w:"w",x:"x",y:"r"},f=function(E){if(!E)return{compSeq:"",seq:""};for(var R="",M="",T=0,A=E.length;T<A;T+=1)m[E[T]]&&(R+=E[T],M+=m[E[T]]);return{compSeq:M,seq:R}};d.complement=f;var p=function(E){var R=(0,d.complement)(E).compSeq;return R.split("").reverse().join("")};d.reverseComplement=p;var x=function(E){if(Array.isArray(E))return E[0]};d.firstElement=x;var y=new Set(["FWD","fwd","FORWARD","forward","FOR","for","TOP","top","1",1]),v=new Set(["REV","rev","REVERSE","reverse","BOTTOM","bottom","-1",-1]),S=function(E){return E?y.has(E)?1:v.has(E)?-1:0:0};d.parseDirection=S;var N={AAA:"K",AAC:"N",AAG:"K",AAT:"N",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AGA:"R",AGC:"S",AGG:"R",AGT:"S",ATA:"I",ATC:"I",ATG:"M",ATT:"I",CAA:"Q",CAC:"H",CAG:"Q",CAT:"H",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CGA:"R",CGC:"R",CGG:"R",CGT:"R",CTA:"L",CTC:"L",CTG:"L",CTT:"L",GAA:"E",GAC:"D",GAG:"E",GAT:"D",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GGA:"G",GGC:"G",GGG:"G",GGT:"G",GTA:"V",GTC:"V",GTG:"V",GTT:"V",TAA:"*",TAC:"Y",TAG:"*",TAT:"Y",TCA:"S",TCC:"S",TCG:"S",TCT:"S",TGA:"*",TGC:"C",TGG:"W",TGT:"C",TTA:"L",TTC:"F",TTG:"L",TTT:"F"},C=Array.from(new Set(Object.values(N)).values()).join(""),w=new RegExp("^[".concat(C,"]+$"),"i"),_=function(E){return/^[atgcn.]+$/i.test(E)?"dna":/^[augcn.]+$/i.test(E)?"rna":w.test(E)?"aa":"unknown"};d.guessType=_}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(8),p=m(6);d.default=(function(x){var y=function(M){throw new Error("Failed on BioBrick: ".concat(M))},v=new f.XMLParser({isArray:function(M){return["features","part_name","sequences"].includes(M)},removeNSPrefix:!0}).parse(x),S=v.rsbpml.part_list.part;S||y("No part seen in part_list");var N=S.features,C=S.part_name,w=S.sequences,_=(0,p.firstElement)(C),E=N.map(function(M){var T=M.feature;if(!T)return null;var A=T.direction,z=T.endpos,O=T.startpos,G=T.type;return{direction:(0,p.parseDirection)(A),end:+z,name:"".concat(A,"-").concat(O),start:+O||0,type:G||void 0}}).filter(function(M){return M}),R=(0,p.complement)(w[0].seq_data).seq;return[{annotations:E,name:_,seq:R,type:(0,p.guessType)(R)}]})}),(u=>{u.exports=Z3()}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(6);d.default=(function(p,x){if(p.trim().startsWith(">"))return p.split(">").map(function(_){var E=_.substr(_.indexOf(`
`),_.length).replace(/\s/g,""),R=_.substring(0,_.search(/\n|\|/)).replace(/\//g,"");return{annotations:[],name:R,seq:E,type:(0,f.guessType)(E)}}).filter(function(_){return _.name&&_.seq});if(p.trim().startsWith(";")){var y=p.substring(0,p.search(/\n|\|/)).replace(/\//g,""),v=p.indexOf(`
`,p.lastIndexOf(";")),S=p.substring(v,p.length);return[{annotations:[],name:y,seq:S,type:(0,f.guessType)(S)}]}var N=x.lastIndexOf(".")||x.length,C=x.substring(0,N)||"Untitled",w=p;return[{annotations:[],name:C,seq:w,type:(0,f.guessType)(w)}]})}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(6),p=new Set(["gene","product","note","db_xref","protein_id","label","lab_host","locus_tag"]),x=new Set(["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"]);d.default=(function(y,v){return y.split(/\/\/\s/g).filter(function(S){return S.length>5}).map(function(S){var N=S.substring(S.indexOf("LOCUS"),S.search(/\\n|\n/)),C=N.split(/\s{2,}/g).filter(function(V){return V}),w=C[1],_=w;if(_==="Exported"&&S.includes("SnapGene")||Number.parseInt(_,10)){var E=!1;if(S.includes("ACCESSION")){var R=S.substring(S.indexOf("ACCESSION"),S.indexOf(`
`,S.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter(function(V){return V!=="ACCESSION"}).pop();R&&(_=R,E=!0)}!E&&v?_=v.substring(0,Math.max(v.search(/\n|\||\./),v.lastIndexOf("."))).replace(/\/\s/g,""):E||(_="Unnamed")}var M=S.substring(S.lastIndexOf("ORIGIN")+6,S.length),T=M.replace(/[^gatc]/gi,"");T=(0,f.complement)(T).seq;var A=[],z=[];if(S.indexOf("FEATURES")){var O=S.indexOf("FEATURES"),G=S.indexOf(`
`,O),P=S.lastIndexOf("ORIGIN");S.includes("CONTIG")&&(P=Math.min(P,S.indexOf("CONTIG")));var U=S.substring(G,P).split(/\n/).filter(function(V){return V});U.forEach(function(V){var B=V.split(/\s{2,}/g).filter(function(ve){return ve});if(B.length>1){var F=B[0],L=B[1],q=/\d+/g,H=V.includes("complement")?-1:1,Y=[0,0],Q=Y[0],$=Y[1],Z=q.exec(L);if(Z){Q=+Z[0]-1%T.length,$=(Q+1)%T.length;var ee=q.exec(L);ee&&($=+ee[0]%T.length)}F!=="source"&&A.push({direction:H,end:$,name:"",start:Q,type:F})}else if(B.length===1&&B[0].startsWith("/")){var ie=B[0];ie=ie.replace(/[/"]/g,"");var me=ie.split(/=/),ye=me[0],ge=me[1],he=A.length-1;p.has(ye.toLowerCase())?he>=0&&!A[he].name&&(A[he].name=ge.trim()):x.has(ye)&&he>-1&&(A[he].color=ge)}})}return{annotations:A,name:_.trim()||v,primers:z,seq:T,type:(0,f.guessType)(T)}})})}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(8),p=m(6);d.default=(function(x){var y=x.replace(/|/g,'"'),v=new f.XMLParser({removeNSPrefix:!0}).parse(y),S=v.seq,N=S.features,C=S.name,w=S.sequence,_="Unnamed";C&&(_=C);var E=(0,p.complement)(w).seq;if(!E)return[];var R=[];return N&&N.feature&&N.feature.forEach(function(M){if(M){var T=M.complement,A=M.label,z=M.location,O=M.type;z&&z.genbankStart&&z.end&&R.push({direction:T?-1:1,end:+z.end||0,name:A||"Untitled",start:+z.genbankStart-1||0,type:O||"N/A"})}}),[{annotations:R,name:_,seq:E,type:(0,p.guessType)(E)}]})}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(13),p=m(14);d.default=(function(x,y){return x.includes("sbols.org/v1#")?(0,f.default)(x):(0,p.default)(x,y)})}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(8),p=m(6);d.default=(function(N){var C=N.replace(/|/g,'"'),w=new f.XMLParser({ignoreAttributes:!1,isArray:function(G){return["Sequence","Collection","DnaComponent","dnaSequence","ComponentDefinition","SequenceAnnotation","sequenceAnnotation","elements","component","annotation"].includes(G)},removeNSPrefix:!0}).parse(C),_=null;w.RDF&&(_=w.RDF);var E=_.Collection,R=_.DnaComponent;if(E&&E.length){var M=[];if(E.forEach(function(G){var P=G.component;P&&P.length&&P.forEach(function(U){var V=U.DnaComponent;M.push(y(V[0],{strict:!1}))})}),M.length)return M}else if(R&&R.length){var T=y(R[0],{strict:!1});if(T)return[T]}var A=[];S(A,_);var z=A.map(function(G){return y(G,{strict:!0})}).filter(function(G){return!!G});if(z.length)return z;var O=[];return x(O,_),O.map(function(G){return v(G,N)}).filter(function(G){return G})});var x=function(N,C){Object.keys(C).forEach(function(w){w==="Sequence"&&C[w].length&&N.push.apply(N,C[w]),Array.isArray(C[w])&&C[w].forEach(function(_){x(N,_)})})},y=function(N,C){var w=C.strict,_=w===void 0?!1:w,E=N.annotation,R=N.displayId,M=N.dnaSequence,T=N.name,A="Unnamed";if(T)A=T;else if(R)A=R;else if(_)return null;var z="";M&&M[0].DnaSequence&&(z=M[0].DnaSequence.nucleotides);var O=(0,p.complement)(z).seq;if(!O)return null;var G=[];return E&&E.forEach(function(P){var U=P.SequenceAnnotation;if(!(!U||!U[0])){var V=U[0],B=V.bioEnd,F=V.bioStart,L=V.strand,q=V.subComponent;if(q&&q.DnaComponent&&q.DnaComponent[0]){var H=q.DnaComponent[0],Y=H.displayId,Q=H.name,$=H.type;G.push({direction:L==="+"?1:-1,end:B-1||0,name:Q||Y||"Untitled",start:F-1||0,type:$["@_resource"]||"N/A"})}}}),{annotations:G,name:A,seq:O,type:(0,p.guessType)(z)}},v=function(N,C){var w=N.displayId||N.title||"Unnamed",_=N.elements[0]||"",E=(0,p.complement)(_),R=E.compSeq,M=E.seq,T=C.search(/plasmid/i)>0;return{annotations:[],circular:T,compSeq:R,name:w,seq:M,type:(0,p.guessType)(M)}},S=function(N,C){Object.keys(C).forEach(function(w){w==="DnaComponent"&&C[w].length&&N.push.apply(N,C[w]),Array.isArray(C[w])&&C[w].forEach(function(_){S(N,_)})})}}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(8),p=m(6);d.default=(function(y,v){var S=y.replace(/|/g,'"'),N=new f.XMLParser({ignoreAttributes:!1,isArray:function(w){return["Sequence","ComponentDefinition","SequenceAnnotation","sequenceAnnotation","elements"].includes(w)},removeNSPrefix:!0}).parse(S);try{var C=x(N,v);if(C.length)return C;throw new Error("No Sequence info found")}catch(w){throw new Error("Failed to parse SBOL v2 file: ".concat(w))}});var x=function(y,v){var S=null;if(y.RDF&&(S=y.RDF),!S)throw new Error("No root RDF document");var N=S.ComponentDefinition,C=S.Sequence;if(!N&&!C)throw new Error("Failed to parse SBOL v2: No ComponentDefinition or Sequence");var w=function(R){var M=R?C.find(function(A){return A.persistentIdentity&&A.persistentIdentity.length&&A.persistentIdentity["@_resource"]===R||A["@_about"]===R}):C[0];if(M&&M.elements){var T=(0,p.complement)(M.elements[0]||"").seq;return{annotations:[],name:M.displayId,seq:T,type:(0,p.guessType)(T)}}return null},_=[];N?.forEach(function(R,M){if(R.sequence){var T=R.displayId,A=R.sequence,z=R.sequenceAnnotation,O=T||"".concat(v,"_").concat(M+1),G=[];(z||[]).forEach(function(U){var V=U.SequenceAnnotation,B=V[0],F=B.displayId,L=B.location.Range,q=L;q&&G.push({end:q.end-1,name:F,start:q.start-1})});var P=w(A["@_resource"]);P&&_.push({annotations:G,name:O,seq:P.seq,type:P.type})}});var E=w();return!_.length&&E&&_.push(E),_}}),((u,d,m)=>{Object.defineProperty(d,"__esModule",{value:!0});var f=m(6),p=["gene","product","note","db_xref","protein_id","label","lab_host"],x=["ApEinfo_fwdcolor","ApEinfo_revcolor","loom_color"];d.default=(function(y,v){return y.split(/\/\/\s/g).map(function(S){var N=S.substring(S.search(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)+S.match(/.*?written by seqbuilder .*?[0-9.]+[^actg]+/i)[0].length,S.length).match(/[actgyrwskmdvhbxn]+/gim)[0],C=N;C=(0,f.complement)(C).seq;var w=v.length>0?v:"Unnamed";if(~S.indexOf("LOCUS")){var _=S.substring(S.indexOf("LOCUS"),S.search(/\\n|\n/));if(_&&_.split(/\s{2,}/g)){var E=_.split(/\s{2,}/g).filter(function(U){return U}),R=E[1];w=R}}if(w==="Exported"&&S.includes("SnapGene")||Number.parseInt(w,10)){var M=!1;if(S.includes("ACCESSION")){var T=S.substring(S.indexOf("ACCESSION"),S.indexOf(`
`,S.indexOf("ACCESSION"))).replace(".","").split(/\s{2,}/).filter(function(U){return U!=="ACCESSION"}).pop();T&&(w=T,M=!0)}!M&&v?w=v.substring(0,Math.max(v.search(/\n|\||\./),v.lastIndexOf("."))).replace(/\/\s/g,""):M||(w="Unnamed")}var A=[];if(S.indexOf("FEATURES")){var z=S.indexOf("FEATURES"),O=S.indexOf(`
`,z),G=S.lastIndexOf("ORIGIN");S.includes("CONTIG")&&(G=Math.min(G,S.indexOf("CONTIG")));var P=S.substring(O,G).split(/\n/).filter(function(U){return U});P.forEach(function(U){var V=U.split(/\s{2,}/g).filter(function(he){return he});if(V.length>1){var B=V[0],F=V[1],L=/\d+/g,q=U.includes("complement")?-1:1,H=[0,0],Y=H[0],Q=H[1],$=L.exec(F);if($){Y=+$[0]-1%C.length;var Z=L.exec(F);Z&&(Q=+Z[0]%C.length)}B!=="source"&&A.push({direction:q,end:Q,name:"",start:Y,type:B})}else if(V.length===1){var ee=V[0];ee=ee.replace(/[/"]/g,"");var ie=ee.split(/=/),me=ie[0],ye=ie[1],ge=A.length-1;p.includes(me)?ge>-1&&!A[A.length-1].name&&(A[A.length-1].name=ye.trim()):x.includes(me)&&ge>-1&&(A[A.length-1].color=ye)}})}return{annotations:A,name:w.trim()||v,seq:C,type:(0,f.guessType)(C)}})})}),(function(u,d,m){var f=this&&this.__assign||function(){return f=Object.assign||function(v){for(var S,N=1,C=arguments.length;N<C;N++){S=arguments[N];for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(v[w]=S[w])}return v},f.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0});var p=m(8),x=m(4),y=m(6);d.default=(function(v){var S;if(!v||!v.source)throw new Error("Failed to parse SnapGene file. No valid file input");var N=v?.fileName||"",C={annotations:[],circular:!1,name:"",seq:"",type:"unknown"},w=Buffer.from(v.source),_=0,E=function(V){var B=_;return _+=V,w.subarray(B,_)},R=function(V,B){return E(V).toString(B)};E(1);var M=E(4).readUInt32BE(),T=R(8,"ascii");if(M!==14||T!=="SnapGene")throw new Error("Wrong format for a SnapGene file: length=".concat(M," title=").concat(T));for(E(2),E(2),E(2);_<w.length;){var A=E(1),z=E(4).readUInt32BE(),O=A.toString().charCodeAt(0);if(O===0){E(1);var G=z-1;if(G<0)throw new Error("Failed parsing SnapGene: < 0 length sequence");C.seq=R(G,"ascii")}else if(O===10){var P=R(z,"utf8"),U=new p.XMLParser({attributeNamePrefix:"",ignoreAttributes:!1,isArray:function(V){return V==="Q"||V==="Segment"},removeNSPrefix:!0}).parse(P);U.Features.Feature.forEach(function(V){var B=0,F=0,L=V.Segment[0].range,q=L.split("-"),H=q[0],Y=q[1];B=B===0?+H:Math.min(B,+H),F=Math.max(F,+Y),C.annotations.push({direction:(0,y.parseDirection)({0:"NONE",1:1,2:-1,3:"BIDIRECTIONAL",undefined:"NONE"}[V.directionality]),end:F-1,name:V.name,start:B-1,type:V.type})})}else E(z)}return[f(f({},C),{name:((S=N.split(x.sep).pop())===null||S===void 0?void 0:S.replace(".dna",""))||N,type:(0,y.guessType)(C.seq)})]})})],i={};function o(u){var d=i[u];if(d!==void 0)return d.exports;var m=i[u]={exports:{}};return s[u].call(m.exports,m,m.exports,o),m.exports}var c=o(0);return c})())})(Dc)),Dc.exports}var G1=W3();const K3=hm(G1);var Nh={exports:{}},Zx;function J3(){return Zx||(Zx=1,(function(e){(function(){function r(I,K,ue){return I.call.apply(I.bind,arguments)}function s(I,K,ue){if(!I)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,le),I.apply(K,pe)}}return function(){return I.apply(K,arguments)}}function i(I,K,ue){return i=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?r:s,i.apply(null,arguments)}var o=Date.now||function(){return+new Date};function c(I,K){this.a=I,this.o=K||I,this.c=this.o.document}var u=!!window.FontFace;function d(I,K,ue,le){if(K=I.c.createElement(K),ue)for(var pe in ue)ue.hasOwnProperty(pe)&&(pe=="style"?K.style.cssText=ue[pe]:K.setAttribute(pe,ue[pe]));return le&&K.appendChild(I.c.createTextNode(le)),K}function m(I,K,ue){I=I.c.getElementsByTagName(K)[0],I||(I=document.documentElement),I.insertBefore(ue,I.lastChild)}function f(I){I.parentNode&&I.parentNode.removeChild(I)}function p(I,K,ue){K=K||[],ue=ue||[];for(var le=I.className.split(/\s+/),pe=0;pe<K.length;pe+=1){for(var we=!1,Te=0;Te<le.length;Te+=1)if(K[pe]===le[Te]){we=!0;break}we||le.push(K[pe])}for(K=[],pe=0;pe<le.length;pe+=1){for(we=!1,Te=0;Te<ue.length;Te+=1)if(le[pe]===ue[Te]){we=!0;break}we||K.push(le[pe])}I.className=K.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function x(I,K){for(var ue=I.className.split(/\s+/),le=0,pe=ue.length;le<pe;le++)if(ue[le]==K)return!0;return!1}function y(I){return I.o.location.hostname||I.a.location.hostname}function v(I,K,ue){function le(){Ue&&pe&&we&&(Ue(Te),Ue=null)}K=d(I,"link",{rel:"stylesheet",href:K,media:"all"});var pe=!1,we=!0,Te=null,Ue=ue||null;u?(K.onload=function(){pe=!0,le()},K.onerror=function(){pe=!0,Te=Error("Stylesheet failed to load"),le()}):setTimeout(function(){pe=!0,le()},0),m(I,"head",K)}function S(I,K,ue,le){var pe=I.c.getElementsByTagName("head")[0];if(pe){var we=d(I,"script",{src:K}),Te=!1;return we.onload=we.onreadystatechange=function(){Te||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Te=!0,ue&&ue(null),we.onload=we.onreadystatechange=null,we.parentNode.tagName=="HEAD"&&pe.removeChild(we))},pe.appendChild(we),setTimeout(function(){Te||(Te=!0,ue&&ue(Error("Script load timeout")))},le||5e3),we}return null}function N(){this.a=0,this.c=null}function C(I){return I.a++,function(){I.a--,_(I)}}function w(I,K){I.c=K,_(I)}function _(I){I.a==0&&I.c&&(I.c(),I.c=null)}function E(I){this.a=I||"-"}E.prototype.c=function(I){for(var K=[],ue=0;ue<arguments.length;ue++)K.push(arguments[ue].replace(/[\W_]+/g,"").toLowerCase());return K.join(this.a)};function R(I,K){this.c=I,this.f=4,this.a="n";var ue=(K||"n4").match(/^([nio])([1-9])$/i);ue&&(this.a=ue[1],this.f=parseInt(ue[2],10))}function M(I){return z(I)+" "+(I.f+"00")+" 300px "+T(I.c)}function T(I){var K=[];I=I.split(/,\s*/);for(var ue=0;ue<I.length;ue++){var le=I[ue].replace(/['"]/g,"");le.indexOf(" ")!=-1||/^\d/.test(le)?K.push("'"+le+"'"):K.push(le)}return K.join(",")}function A(I){return I.a+I.f}function z(I){var K="normal";return I.a==="o"?K="oblique":I.a==="i"&&(K="italic"),K}function O(I){var K=4,ue="n",le=null;return I&&((le=I.match(/(normal|oblique|italic)/i))&&le[1]&&(ue=le[1].substr(0,1).toLowerCase()),(le=I.match(/([1-9]00|normal|bold)/i))&&le[1]&&(/bold/i.test(le[1])?K=7:/[1-9]00/.test(le[1])&&(K=parseInt(le[1].substr(0,1),10)))),ue+K}function G(I,K){this.c=I,this.f=I.o.document.documentElement,this.h=K,this.a=new E("-"),this.j=K.events!==!1,this.g=K.classes!==!1}function P(I){I.g&&p(I.f,[I.a.c("wf","loading")]),V(I,"loading")}function U(I){if(I.g){var K=x(I.f,I.a.c("wf","active")),ue=[],le=[I.a.c("wf","loading")];K||ue.push(I.a.c("wf","inactive")),p(I.f,ue,le)}V(I,"inactive")}function V(I,K,ue){I.j&&I.h[K]&&(ue?I.h[K](ue.c,A(ue)):I.h[K]())}function B(){this.c={}}function F(I,K,ue){var le=[],pe;for(pe in K)if(K.hasOwnProperty(pe)){var we=I.c[pe];we&&le.push(we(K[pe],ue))}return le}function L(I,K){this.c=I,this.f=K,this.a=d(this.c,"span",{"aria-hidden":"true"},this.f)}function q(I){m(I.c,"body",I.a)}function H(I){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(I.c)+";"+("font-style:"+z(I)+";font-weight:"+(I.f+"00")+";")}function Y(I,K,ue,le,pe,we){this.g=I,this.j=K,this.a=le,this.c=ue,this.f=pe||3e3,this.h=we||void 0}Y.prototype.start=function(){var I=this.c.o.document,K=this,ue=o(),le=new Promise(function(Te,Ue){function Ie(){o()-ue>=K.f?Ue():I.fonts.load(M(K.a),K.h).then(function(tt){1<=tt.length?Te():setTimeout(Ie,25)},function(){Ue()})}Ie()}),pe=null,we=new Promise(function(Te,Ue){pe=setTimeout(Ue,K.f)});Promise.race([we,le]).then(function(){pe&&(clearTimeout(pe),pe=null),K.g(K.a)},function(){K.j(K.a)})};function Q(I,K,ue,le,pe,we,Te){this.v=I,this.B=K,this.c=ue,this.a=le,this.s=Te||"BESbswy",this.f={},this.w=pe||3e3,this.u=we||null,this.m=this.j=this.h=this.g=null,this.g=new L(this.c,this.s),this.h=new L(this.c,this.s),this.j=new L(this.c,this.s),this.m=new L(this.c,this.s),I=new R(this.a.c+",serif",A(this.a)),I=H(I),this.g.a.style.cssText=I,I=new R(this.a.c+",sans-serif",A(this.a)),I=H(I),this.h.a.style.cssText=I,I=new R("serif",A(this.a)),I=H(I),this.j.a.style.cssText=I,I=new R("sans-serif",A(this.a)),I=H(I),this.m.a.style.cssText=I,q(this.g),q(this.h),q(this.j),q(this.m)}var $={D:"serif",C:"sans-serif"},Z=null;function ee(){if(Z===null){var I=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);Z=!!I&&(536>parseInt(I[1],10)||parseInt(I[1],10)===536&&11>=parseInt(I[2],10))}return Z}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),me(this)};function ie(I,K,ue){for(var le in $)if($.hasOwnProperty(le)&&K===I.f[$[le]]&&ue===I.f[$[le]])return!0;return!1}function me(I){var K=I.g.a.offsetWidth,ue=I.h.a.offsetWidth,le;(le=K===I.f.serif&&ue===I.f["sans-serif"])||(le=ee()&&ie(I,K,ue)),le?o()-I.A>=I.w?ee()&&ie(I,K,ue)&&(I.u===null||I.u.hasOwnProperty(I.a.c))?ge(I,I.v):ge(I,I.B):ye(I):ge(I,I.v)}function ye(I){setTimeout(i(function(){me(this)},I),50)}function ge(I,K){setTimeout(i(function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),K(this.a)},I),0)}function he(I,K,ue){this.c=I,this.a=K,this.f=0,this.m=this.j=!1,this.s=ue}var ve=null;he.prototype.g=function(I){var K=this.a;K.g&&p(K.f,[K.a.c("wf",I.c,A(I).toString(),"active")],[K.a.c("wf",I.c,A(I).toString(),"loading"),K.a.c("wf",I.c,A(I).toString(),"inactive")]),V(K,"fontactive",I),this.m=!0,ze(this)},he.prototype.h=function(I){var K=this.a;if(K.g){var ue=x(K.f,K.a.c("wf",I.c,A(I).toString(),"active")),le=[],pe=[K.a.c("wf",I.c,A(I).toString(),"loading")];ue||le.push(K.a.c("wf",I.c,A(I).toString(),"inactive")),p(K.f,le,pe)}V(K,"fontinactive",I),ze(this)};function ze(I){--I.f==0&&I.j&&(I.m?(I=I.a,I.g&&p(I.f,[I.a.c("wf","active")],[I.a.c("wf","loading"),I.a.c("wf","inactive")]),V(I,"active")):U(I.a))}function Re(I){this.j=I,this.a=new B,this.h=0,this.f=this.g=!0}Re.prototype.load=function(I){this.c=new c(this.j,I.context||this.j),this.g=I.events!==!1,this.f=I.classes!==!1,je(this,new G(this.c,I),I)};function Ce(I,K,ue,le,pe){var we=--I.h==0;(I.f||I.g)&&setTimeout(function(){var Te=pe||null,Ue=le||null||{};if(ue.length===0&&we)U(K.a);else{K.f+=ue.length,we&&(K.j=we);var Ie,tt=[];for(Ie=0;Ie<ue.length;Ie++){var nt=ue[Ie],ot=Ue[nt.c],ft=K.a,Vt=nt;if(ft.g&&p(ft.f,[ft.a.c("wf",Vt.c,A(Vt).toString(),"loading")]),V(ft,"fontloading",Vt),ft=null,ve===null)if(window.FontFace){var Vt=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),ur=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ve=Vt?42<parseInt(Vt[1],10):!ur}else ve=!1;ve?ft=new Y(i(K.g,K),i(K.h,K),K.c,nt,K.s,ot):ft=new Q(i(K.g,K),i(K.h,K),K.c,nt,K.s,Te,ot),tt.push(ft)}for(Ie=0;Ie<tt.length;Ie++)tt[Ie].start()}},0)}function je(I,K,ue){var pe=[],le=ue.timeout;P(K);var pe=F(I.a,ue,I.c),we=new he(I.c,K,le);for(I.h=pe.length,K=0,ue=pe.length;K<ue;K++)pe[K].load(function(Te,Ue,Ie){Ce(I,we,Te,Ue,Ie)})}function De(I,K){this.c=I,this.a=K}De.prototype.load=function(I){function K(){if(we["__mti_fntLst"+le]){var Te=we["__mti_fntLst"+le](),Ue=[],Ie;if(Te)for(var tt=0;tt<Te.length;tt++){var nt=Te[tt].fontfamily;Te[tt].fontStyle!=null&&Te[tt].fontWeight!=null?(Ie=Te[tt].fontStyle+Te[tt].fontWeight,Ue.push(new R(nt,Ie))):Ue.push(new R(nt))}I(Ue)}else setTimeout(function(){K()},50)}var ue=this,le=ue.a.projectId,pe=ue.a.version;if(le){var we=ue.c.o;S(this.c,(ue.a.api||"https://fast.fonts.net/jsapi")+"/"+le+".js"+(pe?"?v="+pe:""),function(Te){Te?I([]):(we["__MonotypeConfiguration__"+le]=function(){return ue.a},K())}).id="__MonotypeAPIScript__"+le}else I([])};function Ze(I,K){this.c=I,this.a=K}Ze.prototype.load=function(I){var K,ue,le=this.a.urls||[],pe=this.a.families||[],we=this.a.testStrings||{},Te=new N;for(K=0,ue=le.length;K<ue;K++)v(this.c,le[K],C(Te));var Ue=[];for(K=0,ue=pe.length;K<ue;K++)if(le=pe[K].split(":"),le[1])for(var Ie=le[1].split(","),tt=0;tt<Ie.length;tt+=1)Ue.push(new R(le[0],Ie[tt]));else Ue.push(new R(le[0]));w(Te,function(){I(Ue,we)})};function Qe(I,K){I?this.c=I:this.c=St,this.a=[],this.f=[],this.g=K||""}var St="https://fonts.googleapis.com/css";function Zt(I,K){for(var ue=K.length,le=0;le<ue;le++){var pe=K[le].split(":");pe.length==3&&I.f.push(pe.pop());var we="";pe.length==2&&pe[1]!=""&&(we=":"),I.a.push(pe.join(we))}}function It(I){if(I.a.length==0)throw Error("No fonts to load!");if(I.c.indexOf("kit=")!=-1)return I.c;for(var K=I.a.length,ue=[],le=0;le<K;le++)ue.push(I.a[le].replace(/ /g,"+"));return K=I.c+"?family="+ue.join("%7C"),0<I.f.length&&(K+="&subset="+I.f.join(",")),0<I.g.length&&(K+="&text="+encodeURIComponent(I.g)),K}function Gt(I){this.f=I,this.a=[],this.c={}}var gt={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},Kt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},En={i:"i",italic:"i",n:"n",normal:"n"},Nt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function qn(I){for(var K=I.f.length,ue=0;ue<K;ue++){var le=I.f[ue].split(":"),pe=le[0].replace(/\+/g," "),we=["n4"];if(2<=le.length){var Te,Ue=le[1];if(Te=[],Ue)for(var Ue=Ue.split(","),Ie=Ue.length,tt=0;tt<Ie;tt++){var nt;if(nt=Ue[tt],nt.match(/^[\w-]+$/)){var ot=Nt.exec(nt.toLowerCase());if(ot==null)nt="";else{if(nt=ot[2],nt=nt==null||nt==""?"n":En[nt],ot=ot[1],ot==null||ot=="")ot="4";else var ft=Kt[ot],ot=ft||(isNaN(ot)?"4":ot.substr(0,1));nt=[nt,ot].join("")}}else nt="";nt&&Te.push(nt)}0<Te.length&&(we=Te),le.length==3&&(le=le[2],Te=[],le=le?le.split(","):Te,0<le.length&&(le=gt[le[0]])&&(I.c[pe]=le))}for(I.c[pe]||(le=gt[pe])&&(I.c[pe]=le),le=0;le<we.length;le+=1)I.a.push(new R(pe,we[le]))}}function Rt(I,K){this.c=I,this.a=K}var nn={Arimo:!0,Cousine:!0,Tinos:!0};Rt.prototype.load=function(I){var K=new N,ue=this.c,le=new Qe(this.a.api,this.a.text),pe=this.a.families;Zt(le,pe);var we=new Gt(pe);qn(we),v(ue,It(le),C(K)),w(K,function(){I(we.a,we.c,nn)})};function Jt(I,K){this.c=I,this.a=K}Jt.prototype.load=function(I){var K=this.a.id,ue=this.c.o;K?S(this.c,(this.a.api||"https://use.typekit.net")+"/"+K+".js",function(le){if(le)I([]);else if(ue.Typekit&&ue.Typekit.config&&ue.Typekit.config.fn){le=ue.Typekit.config.fn;for(var pe=[],we=0;we<le.length;we+=2)for(var Te=le[we],Ue=le[we+1],Ie=0;Ie<Ue.length;Ie++)pe.push(new R(Te,Ue[Ie]));try{ue.Typekit.load({events:!1,classes:!1,async:!0})}catch{}I(pe)}},2e3):I([])};function Ir(I,K){this.c=I,this.f=K,this.a=[]}Ir.prototype.load=function(I){var K=this.f.id,ue=this.c.o,le=this;K?(ue.__webfontfontdeckmodule__||(ue.__webfontfontdeckmodule__={}),ue.__webfontfontdeckmodule__[K]=function(pe,we){for(var Te=0,Ue=we.fonts.length;Te<Ue;++Te){var Ie=we.fonts[Te];le.a.push(new R(Ie.name,O("font-weight:"+Ie.weight+";font-style:"+Ie.style)))}I(le.a)},S(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+y(this.c)+"/"+K+".js",function(pe){pe&&I([])})):I([])};var Ht=new Re(window);Ht.a.c.custom=function(I,K){return new Ze(K,I)},Ht.a.c.fontdeck=function(I,K){return new Ir(K,I)},Ht.a.c.monotype=function(I,K){return new De(K,I)},Ht.a.c.typekit=function(I,K){return new Jt(K,I)},Ht.a.c.google=function(I,K){return new Rt(K,I)};var Jn={load:i(Ht.load,Ht)};e.exports?e.exports=Jn:(window.WebFont=Jn,window.WebFontConfig&&Ht.load(window.WebFontConfig))})()})(Nh)),Nh.exports}var eR=J3();class tR extends j.Component{static defaultProps={accession:"",annotations:[],backbone:"",bpColors:{},compSeq:"",copyEvent:r=>r.key==="c"&&(r.metaKey||r.ctrlKey),disableExternalFonts:!1,enzymes:[],name:"",onSearch:r=>null,onSelection:r=>null,primers:[],rotateOnScroll:!0,search:{mismatch:0,query:""},selectAllEvent:r=>r.key==="a"&&(r.metaKey||r.ctrlKey),seq:"",showComplement:!0,showIndex:!0,style:{},translations:[],viewer:"both",zoom:{circular:0,linear:50}};constructor(r){super(r);const s=this.parseInput(r);this.state={...s,...this.search(r,s.seq),...this.cut(s.seq,s.seqType)}}componentDidMount(){typeof window<"u"&&(this.props.disableExternalFonts||eR.load({google:{families:["Roboto Mono:300,400,500"]}}));const{accession:r}=this.props;!r||!r.length||K3(r,{cors:!0}).then(s=>{const i=yc(s.seq);this.setState({annotations:this.parseSeqparseAnnotations(s.annotations,s.seq),compSeq:No(s.seq,i).compSeq,name:s.name,seq:s.seq,seqType:i,...this.search(this.props,s.seq),...this.cut(s.seq,i)})})}componentDidCatch(r,s){console.error("Error caught in SeqViz: %v %v",r,s)}componentDidUpdate=({accession:r="",annotations:s,enzymes:i,file:o,search:c},{seq:u,seqType:d,name:m})=>{if(r!==this.props.accession||o!==this.props.file||this.props.seq&&this.props.seq!==u||this.props.name&&this.props.name!==m||this.props.seqType&&this.props.seqType!==d){const f=this.parseInput();this.setState({annotations:f.annotations,compSeq:f.compSeq,name:f.name,seq:f.seq,seqType:f.seqType,...this.search(this.props,f.seq),...this.cut(f.seq,f.seqType)});return}c&&(!this.props.search||c.query!==this.props.search.query||c.mismatch!==this.props.search.mismatch)&&this.setState(this.search(this.props,u)),Dn(i,this.props.enzymes)||this.setState(this.cut(u,d)),Dn(s,this.props.annotations)||this.setState({annotations:this.parseFeatures(this.props.annotations,this.props.seq)})};parseInput=r=>{const{annotations:s,compSeq:i,file:o,name:c="",seq:u,seqType:d}=r||this.props;if(o){const m={};o&&o instanceof File&&(m.fileName=o.name);const f=G1.parseFile(o.toString(),m);if(f.length){const p=d??yc(f[0].seq);return{annotations:this.parseSeqparseAnnotations(f[0].annotations,f[0].seq),compSeq:No(f[0].seq,p).compSeq,name:f[0].name,seq:f[0].seq,seqType:p}}}else if(u){const m=d??yc(u);return{annotations:this.parseFeatures(s,u),compSeq:i||No(u,m).compSeq,name:c,seq:u,seqType:m}}return{annotations:[],compSeq:"",name:"",seq:"",seqType:"dna"}};search=(r,s)=>{const{onSearch:i,search:o,seqType:c}=r;if(!o||!s||!s.length)return{search:[]};const u=D3(o.query,o.mismatch,s,c||yc(s));return this.state&&Dn(u,this.state.search)?{search:this.state.search}:(i?.(u),{search:u})};cut=(r,s)=>({cutSites:q1(r||"",s,this.props.enzymes||[])});parseFeatures=(r=null,s="")=>(r||[]).map(i=>({id:i.id||ta(),name:i.name||"",color:t3(i.feature_type),direction:i.strand,end:i.end%(s.length+1),start:i.start%(s.length+1)}));parseSeqparseAnnotations=(r=null,s="")=>(r||[]).map((i,o)=>({id:ta(),name:i.name,color:i.color||Lc(o,na),direction:VM(i.direction),end:i.end%(s.length+1),start:i.start%(s.length+1)}));render(){const{highlightedRegions:r,highlights:s,primers:i,showComplement:o,showIndex:c,style:u,zoom:d}=this.props;let{translations:m}=this.props;const{compSeq:f,seq:p,seqType:x}=this.state;if(!p)return h.jsx("div",{className:"la-vz-seqviz"});x==="aa"&&(m=[{direction:1,end:p.length,start:0,name:""}]);const y={bpColors:this.props.bpColors||{},copyEvent:this.props.copyEvent||(()=>!1),selectAllEvent:this.props.selectAllEvent||(()=>!1),cutSites:this.state.cutSites,highlights:(s||[]).concat(r||[]).map((v,S)=>({...v,direction:1,end:v.end%(p.length+1),id:`highlight-${S}-${v.start}-${v.end}`,name:"",start:v.start%(p.length+1)})),onSelection:this.props.onSelection||(()=>{}),primers:i.map((v,S)=>({color:Lc(S),id:`primer${v.name}${S}${v.start}${v.end}`,...v})),rotateOnScroll:!!this.props.rotateOnScroll,showComplement:!!f&&(typeof o<"u"?o:!0)||!1,showIndex:!!c,translations:(m||[]).map((v,S)=>({direction:v.direction&&v.direction<0?-1:1,end:x==="aa"?v.end:v.start+Math.floor((v.end-v.start)/3)*3,start:v.start%p.length,color:v.color||Lc(S,na),id:`translation${v.name}${S}${v.start}${v.end}`,name:v.name})),viewer:this.props.viewer||"both",zoom:{circular:typeof d?.circular=="number"?Math.min(Math.max(d.circular,0),100):0,linear:typeof d?.linear=="number"?Math.min(Math.max(d.linear,0),100):50}};return h.jsx("div",{className:"la-vz-seqviz","data-testid":"la-vz-seqviz",style:{height:"100%",width:"100%",...u},children:h.jsx(_3,{...this.props,...y,...this.state})})}}function nR(e,r,s=300){const[i,o]=j.useState(!1),[c,u]=j.useState([]),d=j.useRef(null),m=j.useRef(null);j.useEffect(()=>{if(!e||r.length===0){u([]);return}const v=`${e.length}-${e.slice(0,20)}-${e.slice(-20)}`,S=r.map(C=>C.id).sort().join(",");if(v===d.current&&S===m.current)return;o(!0);const N=setTimeout(()=>{const C=r.map(w=>{const _=q1(e,"dna",[w]);return{enzyme:w,cutCount:_.length,cutSites:_}});u(C),d.current=v,m.current=S,o(!1)},s);return()=>clearTimeout(N)},[e,r,s]);const f=j.useMemo(()=>c.filter(v=>v.cutCount===1).map(v=>v.enzyme),[c]),p=j.useMemo(()=>c.filter(v=>v.cutCount>=2).map(v=>v.enzyme),[c]),x=j.useMemo(()=>v=>{switch(v){case"single":return f;case"multi":return p}},[f,p]),y=j.useMemo(()=>v=>c.find(N=>N.enzyme.id===v)?.cutSites??[],[c]);return{isComputing:i,enzymesWithCounts:c,singleCutters:f,multiCutters:p,filterByCutCount:x,getCutSitesForEnzyme:y}}function V1({constructId:e,sequence:r,annotations:s=[],topology:i="circular",onCreateDigest:o,onCutSiteClick:c,className:u,showEnzymePanel:d=!0,height:m="500px"}){const{enzymes:f,loadEnzymes:p}=Xs(),[x,y]=j.useState([]),[v,S]=j.useState("single");j.useEffect(()=>{p()},[p]);const{isComputing:N,enzymesWithCounts:C}=nR(r,f),[w,_]=j.useState(!1);j.useEffect(()=>{if(N||C.length===0||w)return;const A=C.filter(z=>v==="single"?z.cutCount===1:z.cutCount>=2).map(z=>z.enzyme.id);y(A),_(!0)},[N,C,v,w]);const E=j.useMemo(()=>f.filter(A=>x.includes(A.id)),[f,x]),R=j.useCallback(A=>{y(z=>z.includes(A)?z.filter(O=>O!==A):[...z,A])},[]),M=j.useCallback(A=>{o?.(A,e)},[o,e]),T=j.useCallback(A=>{const z=f.find(O=>O.name===A.name||A.id.includes(O.name));z&&c&&c(A,z.id)},[f,c]);return h.jsxs("div",{className:st("flex border rounded-lg overflow-hidden",u),style:{height:m},children:[d&&h.jsx("div",{className:"w-64 border-r flex-shrink-0",children:h.jsx(EM,{enzymesWithCounts:C,isComputing:N,selectedEnzymeIds:x,onEnzymeToggle:R,onSetSelectedEnzymeIds:y,onAddDigest:o?M:void 0,cutCountFilter:v,onCutCountFilterChange:S,sequenceLength:r.length,className:"h-full"})}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx(tR,{seq:r,annotations:s,enzymes:E,viewer:i==="circular"?"both":"linear",showComplement:!0,showIndex:!0,onCutSiteClick:T,style:{height:"100%",width:"100%"}})})]})}function rR({data:e,onCreateDigest:r}){const s=e.topology==="linear"?"linear":"circular";return h.jsx("div",{className:"h-[calc(100vh-20rem)] min-h-[600px] w-full relative",children:h.jsx("div",{className:"h-full w-full [&_.la-vz-seqblock-bp]:dark:!text-gray-300 [&_text]:dark:!fill-gray-300 [&_.la-vz-linear-text]:dark:!fill-gray-300",children:h.jsx(V1,{constructId:e.construct_id||"",sequence:e.seq,annotations:e.features,topology:s,showEnzymePanel:!0,height:"100%",onCreateDigest:r})})})}const Qx="plasmid-circular-view-collapsed",sR=({plasmidId:e,plasmidName:r})=>{const s=lr(),[i,o]=j.useState(null),[c,u]=j.useState(!1),[d,m]=j.useState(null),[f,p]=j.useState("map"),[x,y]=j.useState(()=>localStorage.getItem(Qx)==="true"),[v,S]=j.useState(!1),[N,C]=j.useState(null),[w,_]=j.useState(""),[E,R]=j.useState(!1),[M,T]=j.useState(null),A=j.useMemo(()=>new Ab,[]),z=j.useMemo(()=>new kb,[]),O=j.useMemo(()=>new zb,[]),G=Xs(H=>H.getEnzyme),P=Xs(H=>H.loadEnzymes);j.useEffect(()=>{P()},[P]),j.useEffect(()=>{localStorage.setItem(Qx,String(x))},[x]);const U=j.useCallback(H=>H.name,[]);k1(i,U),j.useEffect(()=>{(async()=>{u(!0),m(null);try{const Y=await A.execute({id:e});o(Y)}catch(Y){m(Y instanceof Error?Y.message:"Failed to load plasmid details")}finally{u(!1)}})()},[e,A]);const V=j.useCallback((H,Y)=>{const Q=H.map($=>G($)?.name||$).join(" + ");_(`${i?.name||"Plasmid"} ${Q||"Digest"}`),C({enzymeIds:H,constructId:Y}),T(null)},[G,i?.name]),B=j.useCallback(async H=>{if(H.preventDefault(),!(!N||!w.trim()||!i)){R(!0),T(null);try{const Y=await z.execute({name:w.trim()});await O.execute({procedure_id:Y.id,operations:[{order:0,type:"digest",input_refs:[N.constructId],resource_ids:N.enzymeIds,description:null}],input_construct_ids:[i.construct_id],created_by:"manual_save"}),s(`/procedures/${Y.id}`)}catch(Y){T(Y instanceof Error?Y.message:"Failed to create procedure")}finally{R(!1)}}},[N,w,i,z,O,s]),F=j.useCallback(()=>{C(null),_(""),T(null)},[]);if(c)return h.jsx("div",{className:"flex items-center justify-center h-[500px]",children:h.jsxs("div",{className:"flex flex-col items-center gap-3",children:[h.jsx(At,{className:"w-8 h-8 text-primary animate-spin"}),h.jsxs(se.Subtext,{className:"text-muted-foreground",children:["Loading ",r,"..."]})]})});if(d)return h.jsx("div",{className:"flex items-center justify-center h-[500px]",children:h.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-lg p-6 max-w-md",children:h.jsx(se.Text,{className:"text-red-600 dark:text-red-400",children:d})})});if(!i)return null;const L=i.topology==="circular",q=f==="map"&&L&&x;return h.jsxs("div",{className:"p-6 space-y-4 overflow-y-scroll h-full w-full",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx(se.SubHeader,{className:"text-xl font-semibold",children:i.name}),h.jsxs(se.Subtext,{className:"text-muted-foreground",children:[i.length.toLocaleString()," bp"]})]}),h.jsxs(iM,{value:f,onValueChange:p,className:"w-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs(M1,{children:[h.jsx(Fh,{value:"info",children:"Info"}),h.jsx(Fh,{value:"map",children:"Map"})]}),h.jsx("div",{className:`transition-all duration-500 ease-in-out ${q?"opacity-100 translate-x-0":"opacity-0 translate-x-4 pointer-events-none"}`,children:h.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>y(!1),children:[h.jsx(Bb,{className:"h-4 w-4 mr-1"}),"Show Circular Map"]})})]}),h.jsx(Xh,{value:"info",className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:h.jsxs("div",{className:"rounded-lg border border-border bg-white dark:bg-card shadow-sm p-6 space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.topology&&h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:"Topology"}),h.jsx(se.UIText,{className:"text-sm mt-1 capitalize",children:i.topology})]}),h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:"Length"}),h.jsxs(se.UIText,{className:"text-sm mt-1",children:[i.length.toLocaleString()," bp"]})]}),h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:"Features"}),h.jsxs(se.UIText,{className:"text-sm mt-1",children:[i.features.length," features"]})]}),h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:"Methylation"}),h.jsx(se.UIText,{className:"text-sm mt-1",children:i.methylation?.length>0?i.methylation.flatMap(H=>H.methylases).filter((H,Y,Q)=>Q.indexOf(H)===Y).map(H=>H==="dam"?"Dam":H==="dcm"?"Dcm":H).join(", "):"None"})]})]}),i.qualifiers&&Object.keys(i.qualifiers.source).length>0&&h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs mb-2",children:"Source Qualifiers"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-2 border-l-2 border-border",children:Object.entries(i.qualifiers.source).map(([H,Y])=>h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:H}),h.jsx(se.UIText,{className:"text-sm mt-0.5",children:Y.join(", ")})]},H))})]}),h.jsxs("div",{className:"pt-4 border-t border-border",children:[h.jsxs("button",{type:"button",onClick:()=>S(!v),className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[h.jsx(Uj,{className:"h-4 w-4"}),h.jsx("span",{children:"Construct Details"}),v?h.jsx(Vo,{className:"h-4 w-4"}):h.jsx(Po,{className:"h-4 w-4"})]}),h.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${v?"max-h-[2000px] opacity-100 mt-4":"max-h-0 opacity-0"}`,children:h.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:"Construct ID"}),h.jsx(se.UIText,{className:"text-sm mt-1 font-mono",children:i.construct_id})]}),h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-xs mb-2",children:"Methylation Contexts"}),i.methylation?.length>0?h.jsx("div",{className:"space-y-2",children:i.methylation.map(H=>h.jsxs("div",{className:"text-sm font-mono bg-background rounded px-3 py-2 border border-border",children:[h.jsxs("span",{className:"text-muted-foreground",children:[H.start.toLocaleString(),"-",H.end.toLocaleString()," bp"]}),h.jsx("span",{className:"mx-2 text-border",children:"|"}),h.jsx("span",{children:H.methylases.map(Y=>Y==="dam"?"Dam":Y==="dcm"?"Dcm":Y).join(", ")||"None"})]},`${H.start}-${H.end}-${H.methylases.join(",")}`))}):h.jsx(se.UIText,{className:"text-sm text-muted-foreground",children:"No methylation contexts"})]}),h.jsxs("div",{children:[h.jsxs(se.Subtext,{className:"text-muted-foreground text-xs mb-2",children:["Feature Placements (",i.features.length,")"]}),i.features.length>0?h.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:i.features.map(H=>h.jsxs("div",{className:"text-sm font-mono bg-background rounded px-3 py-2 border border-border flex items-center gap-2",children:[h.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${H.feature_type==="CDS"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":H.feature_type==="promoter"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":H.feature_type==="terminator"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"}`,children:H.feature_type}),h.jsx("span",{className:"flex-1 truncate",children:H.name||h.jsx("span",{className:"text-muted-foreground italic",children:"unnamed"})}),h.jsxs("span",{className:"text-muted-foreground text-xs",children:[H.start.toLocaleString(),"-",H.end.toLocaleString()]}),h.jsx("span",{className:"text-muted-foreground text-xs",children:H.strand===1?"+":"-"})]},H.id))}):h.jsx(se.UIText,{className:"text-sm text-muted-foreground",children:"No features"})]})]})})]})]})}),h.jsx(Xh,{value:"map",className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:h.jsx(rR,{data:i,circularCollapsed:x,onCircularCollapseChange:y,onCreateDigest:V})})]}),N&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:F,disabled:E}),h.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-md border border-gray-200 dark:border-zinc-800",children:[h.jsxs("div",{className:"flex items-center gap-3 px-6 py-5 border-b border-gray-200 dark:border-zinc-800",children:[h.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:h.jsx(Am,{className:"w-5 h-5 text-primary"})}),h.jsxs("div",{children:[h.jsx(se.SubHeader,{children:"Create Procedure"}),h.jsx(se.Subtext,{className:"text-muted-foreground",children:"Start a new procedure with this digest"})]}),h.jsx("button",{type:"button",onClick:F,disabled:E,className:"ml-auto p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg",children:h.jsx(tn,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:B,children:[h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-zinc-800/50 rounded-lg p-4 space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Plasmid:"}),h.jsx("span",{className:"font-medium",children:i.name})]}),h.jsxs("div",{className:"flex items-start justify-between text-sm",children:[h.jsxs("span",{className:"text-muted-foreground",children:["Enzyme",N.enzymeIds.length>1?"s":"",":"]}),h.jsx("div",{className:"flex flex-wrap gap-1 justify-end",children:N.enzymeIds.map(H=>h.jsx("span",{className:"px-2 py-0.5 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded text-xs font-medium font-mono",children:G(H)?.name||H},H))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx($r,{children:"Procedure Name"}),h.jsx(Xn,{value:w,onChange:H=>_(H.target.value),placeholder:"Enter procedure name...",disabled:E,autoFocus:!0})]}),M&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:h.jsx(se.Subtext,{className:"text-red-600 dark:text-red-400",children:M})})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-zinc-800/50 border-t border-gray-200 dark:border-zinc-800 rounded-b-2xl flex justify-end gap-3",children:[h.jsx(Ge,{type:"button",variant:"ghost",onClick:F,disabled:E,children:"Cancel"}),h.jsx(Ge,{type:"submit",disabled:!w.trim()||E,children:E?h.jsxs(h.Fragment,{children:[h.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Procedure"})]})]})]})]})]})};function iR(){const{id:e}=xm();return e?h.jsx(sR,{plasmidId:e,plasmidName:e}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Plasmid not found"})})}function aR(){const e=lr();return h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-8",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"p-6 rounded-full bg-muted/50",children:h.jsx(Ib,{className:"w-16 h-16 text-muted-foreground"})}),h.jsx("div",{className:"absolute -top-2 -right-2 w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center",children:h.jsx(se.Header,{className:"text-destructive text-xl",children:"!"})})]}),h.jsxs("div",{className:"space-y-3 text-center max-w-md",children:[h.jsx(se.Header,{className:"text-4xl font-bold",children:"404"}),h.jsx(se.Header,{className:"text-2xl",children:"Page Not Found"}),h.jsx(se.Text,{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or has been moved. Please check the URL or return to the dashboard."})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs(Ge,{variant:"default",size:"default",onClick:()=>e("/dashboard"),children:[h.jsx(qb,{className:"w-4 h-4 mr-2"}),"Go to Dashboard"]}),h.jsx(Ge,{variant:"outline",size:"default",onClick:()=>e(-1),children:"Go Back"})]})]})}function oR({isOpen:e,onClose:r,onProcedureCreated:s}){const[i,o]=j.useState(""),[c,u]=j.useState(""),[d,m]=j.useState(!1),[f,p]=j.useState(null),x=j.useId(),y=j.useId(),v=j.useMemo(()=>new kb,[]);j.useEffect(()=>{e&&(o(""),u(""),p(null),m(!1))},[e]);const S=async N=>{if(N.preventDefault(),!i.trim()){p("Please enter a name");return}m(!0),p(null);try{const C=await v.execute({name:i.trim(),description:c.trim()||void 0});s(C.id)}catch(C){p(C instanceof Error?C.message:"Failed to create procedure")}finally{m(!1)}};return e?h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"fixed inset-0 bg-black/60 backdrop-blur-sm cursor-default",onClick:d?void 0:r,disabled:d,"aria-label":"Close modal"}),h.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-md border border-gray-200 dark:border-zinc-800",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-200 dark:border-zinc-800",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"New Procedure"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Create a procedure to plan your cloning strategy"})]}),h.jsx("button",{type:"button",onClick:r,disabled:d,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors disabled:opacity-50",children:h.jsx(tn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),h.jsxs("form",{onSubmit:S,children:[h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx($r,{htmlFor:x,className:"text-sm font-medium",children:"Procedure Name"}),h.jsx(Xn,{id:x,type:"text",value:i,onChange:N=>o(N.target.value),placeholder:"e.g., pET28a-GFP construction",disabled:d,className:"w-full",autoFocus:!0})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx($r,{htmlFor:y,className:"text-sm font-medium",children:"Description (Optional)"}),h.jsx(Xn,{id:y,type:"text",value:c,onChange:N=>u(N.target.value),placeholder:"Add a description...",disabled:d,className:"w-full"})]}),f&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:h.jsx(se.Subtext,{className:"text-red-700 dark:text-red-400",children:f})})]}),h.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-zinc-800/50 border-t border-gray-200 dark:border-zinc-800 rounded-b-2xl",children:h.jsxs("div",{className:"flex items-center justify-end gap-3",children:[h.jsx(Ge,{type:"button",variant:"ghost",onClick:r,disabled:d,children:"Cancel"}),h.jsx(Ge,{type:"submit",disabled:!i.trim()||d,children:d?"Creating...":"Create Procedure"})]})})]})]})]}):null}const lR=({procedures:e,onSelectProcedure:r})=>{const s=j.useMemo(()=>[{key:"name",header:"Name",render:i=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Vb,{className:"w-5 h-5 flex-shrink-0 text-muted-foreground"}),h.jsx(se.UIText,{className:"truncate",children:i.name})]})},{key:"status",header:"Status",render:i=>i.has_version?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx($j,{className:"w-4 h-4 text-green-500"}),h.jsx(se.Subtext,{className:"text-green-600 dark:text-green-400",children:"Saved"})]}):i.input_count>0?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Fj,{className:"w-4 h-4 text-blue-500"}),h.jsx(se.Subtext,{className:"text-blue-600 dark:text-blue-400",children:"Ready"})]}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Hj,{className:"w-4 h-4 text-gray-400"}),h.jsx(se.Subtext,{className:"text-gray-500",children:"Empty"})]})},{key:"inputs",header:"Inputs",render:i=>h.jsxs(se.Subtext,{children:[i.input_count," plasmid",i.input_count!==1?"s":""]})},{key:"operations",header:"Operations",render:i=>h.jsx(se.Subtext,{children:i.operations_count>0?`${i.operations_count} step${i.operations_count!==1?"s":""}`:"-"})},{key:"updatedAt",header:"Created",render:i=>h.jsx(se.Subtext,{children:R1(i.updatedAt)})}],[]);return h.jsx(a1,{items:e,columns:s,onRowClick:r,itemLabel:"Your Procedures",getItemKey:i=>i.id,emptyStateMessage:"No procedures created yet."})};function cR(){const e=lr(),[r,s]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),f=j.useMemo(()=>new oj,[]),p=j.useCallback(async()=>{o(!0),u(null);try{const S=(await f.execute()).procedures.map(N=>({id:N.id,name:N.name,description:N.description||"",updatedAt:N.created_at,has_version:N.has_version,input_count:N.input_count,operations_count:N.operations_count}));s(S)}catch(v){u(v instanceof Error?v.message:"Failed to load procedures")}finally{o(!1)}},[f]);j.useEffect(()=>{p()},[p]);const x=v=>{e(`/procedures/${v.id}`)},y=v=>{m(!1),e(`/procedures/${v}`)};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(se.Header,{children:"Procedures"}),h.jsx(se.Text,{className:"text-muted-foreground",children:"Plan and execute your cloning strategies"})]}),h.jsxs(Ge,{onClick:()=>m(!0),variant:"default",children:[h.jsx(Yi,{className:"w-4 h-4 mr-2"}),"New Procedure"]})]}),c&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:h.jsx(se.Text,{className:"text-red-700 dark:text-red-400",children:c})}),i&&h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(At,{className:"w-8 h-8 animate-spin text-muted-foreground"})}),!i&&r.length>0&&h.jsx(lR,{procedures:r,onSelectProcedure:x}),!i&&r.length===0&&!c&&h.jsx("div",{className:"text-center py-12",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"No procedures yet. Create your first procedure to get started."})}),h.jsx(oR,{isOpen:d,onClose:()=>m(!1),onProcedureCreated:y})]})}function Dt(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let s=0,i;s<e.length;s++)(i=Dt(e[s]))!==""&&(r+=(r&&" ")+i);else for(let s in e)e[s]&&(r+=(r&&" ")+s);return r}var uR={value:()=>{}};function wu(){for(var e=0,r=arguments.length,s={},i;e<r;++e){if(!(i=arguments[e]+"")||i in s||/[\s.]/.test(i))throw new Error("illegal type: "+i);s[i]=[]}return new $c(s)}function $c(e){this._=e}function dR(e,r){return e.trim().split(/^|\s+/).map(function(s){var i="",o=s.indexOf(".");if(o>=0&&(i=s.slice(o+1),s=s.slice(0,o)),s&&!r.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:i}})}$c.prototype=wu.prototype={constructor:$c,on:function(e,r){var s=this._,i=dR(e+"",s),o,c=-1,u=i.length;if(arguments.length<2){for(;++c<u;)if((o=(e=i[c]).type)&&(o=fR(s[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++c<u;)if(o=(e=i[c]).type)s[o]=Wx(s[o],e.name,r);else if(r==null)for(o in s)s[o]=Wx(s[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var s in r)e[s]=r[s].slice();return new $c(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var s=new Array(o),i=0,o,c;i<o;++i)s[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],i=0,o=c.length;i<o;++i)c[i].value.apply(r,s)},apply:function(e,r,s){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,c=i.length;o<c;++o)i[o].value.apply(r,s)}};function fR(e,r){for(var s=0,i=e.length,o;s<i;++s)if((o=e[s]).name===r)return o.value}function Wx(e,r,s){for(var i=0,o=e.length;i<o;++i)if(e[i].name===r){e[i]=uR,e=e.slice(0,i).concat(e.slice(i+1));break}return s!=null&&e.push({name:r,value:s}),e}var Jh="http://www.w3.org/1999/xhtml";const Kx={svg:"http://www.w3.org/2000/svg",xhtml:Jh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Su(e){var r=e+="",s=r.indexOf(":");return s>=0&&(r=e.slice(0,s))!=="xmlns"&&(e=e.slice(s+1)),Kx.hasOwnProperty(r)?{space:Kx[r],local:e}:e}function hR(e){return function(){var r=this.ownerDocument,s=this.namespaceURI;return s===Jh&&r.documentElement.namespaceURI===Jh?r.createElement(e):r.createElementNS(s,e)}}function mR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function P1(e){var r=Su(e);return(r.local?mR:hR)(r)}function pR(){}function Hm(e){return e==null?pR:function(){return this.querySelector(e)}}function gR(e){typeof e!="function"&&(e=Hm(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var c=r[o],u=c.length,d=i[o]=new Array(u),m,f,p=0;p<u;++p)(m=c[p])&&(f=e.call(m,m.__data__,p,c))&&("__data__"in m&&(f.__data__=m.__data__),d[p]=f);return new Nn(i,this._parents)}function yR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function xR(){return[]}function Y1(e){return e==null?xR:function(){return this.querySelectorAll(e)}}function vR(e){return function(){return yR(e.apply(this,arguments))}}function bR(e){typeof e=="function"?e=vR(e):e=Y1(e);for(var r=this._groups,s=r.length,i=[],o=[],c=0;c<s;++c)for(var u=r[c],d=u.length,m,f=0;f<d;++f)(m=u[f])&&(i.push(e.call(m,m.__data__,f,u)),o.push(m));return new Nn(i,o)}function F1(e){return function(){return this.matches(e)}}function X1(e){return function(r){return r.matches(e)}}var wR=Array.prototype.find;function SR(e){return function(){return wR.call(this.children,e)}}function NR(){return this.firstElementChild}function ER(e){return this.select(e==null?NR:SR(typeof e=="function"?e:X1(e)))}var CR=Array.prototype.filter;function _R(){return Array.from(this.children)}function jR(e){return function(){return CR.call(this.children,e)}}function AR(e){return this.selectAll(e==null?_R:jR(typeof e=="function"?e:X1(e)))}function TR(e){typeof e!="function"&&(e=F1(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var c=r[o],u=c.length,d=i[o]=[],m,f=0;f<u;++f)(m=c[f])&&e.call(m,m.__data__,f,c)&&d.push(m);return new Nn(i,this._parents)}function Z1(e){return new Array(e.length)}function MR(){return new Nn(this._enter||this._groups.map(Z1),this._parents)}function tu(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}tu.prototype={constructor:tu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function RR(e){return function(){return e}}function kR(e,r,s,i,o,c){for(var u=0,d,m=r.length,f=c.length;u<f;++u)(d=r[u])?(d.__data__=c[u],i[u]=d):s[u]=new tu(e,c[u]);for(;u<m;++u)(d=r[u])&&(o[u]=d)}function zR(e,r,s,i,o,c,u){var d,m,f=new Map,p=r.length,x=c.length,y=new Array(p),v;for(d=0;d<p;++d)(m=r[d])&&(y[d]=v=u.call(m,m.__data__,d,r)+"",f.has(v)?o[d]=m:f.set(v,m));for(d=0;d<x;++d)v=u.call(e,c[d],d,c)+"",(m=f.get(v))?(i[d]=m,m.__data__=c[d],f.delete(v)):s[d]=new tu(e,c[d]);for(d=0;d<p;++d)(m=r[d])&&f.get(y[d])===m&&(o[d]=m)}function OR(e){return e.__data__}function LR(e,r){if(!arguments.length)return Array.from(this,OR);var s=r?zR:kR,i=this._parents,o=this._groups;typeof e!="function"&&(e=RR(e));for(var c=o.length,u=new Array(c),d=new Array(c),m=new Array(c),f=0;f<c;++f){var p=i[f],x=o[f],y=x.length,v=DR(e.call(p,p&&p.__data__,f,i)),S=v.length,N=d[f]=new Array(S),C=u[f]=new Array(S),w=m[f]=new Array(y);s(p,x,N,C,w,v,r);for(var _=0,E=0,R,M;_<S;++_)if(R=N[_]){for(_>=E&&(E=_+1);!(M=C[E])&&++E<S;);R._next=M||null}}return u=new Nn(u,i),u._enter=d,u._exit=m,u}function DR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $R(){return new Nn(this._exit||this._groups.map(Z1),this._parents)}function BR(e,r,s){var i=this.enter(),o=this,c=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),r!=null&&(o=r(o),o&&(o=o.selection())),s==null?c.remove():s(c),i&&o?i.merge(o).order():o}function HR(e){for(var r=e.selection?e.selection():e,s=this._groups,i=r._groups,o=s.length,c=i.length,u=Math.min(o,c),d=new Array(o),m=0;m<u;++m)for(var f=s[m],p=i[m],x=f.length,y=d[m]=new Array(x),v,S=0;S<x;++S)(v=f[S]||p[S])&&(y[S]=v);for(;m<o;++m)d[m]=s[m];return new Nn(d,this._parents)}function qR(){for(var e=this._groups,r=-1,s=e.length;++r<s;)for(var i=e[r],o=i.length-1,c=i[o],u;--o>=0;)(u=i[o])&&(c&&u.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(u,c),c=u);return this}function UR(e){e||(e=IR);function r(x,y){return x&&y?e(x.__data__,y.__data__):!x-!y}for(var s=this._groups,i=s.length,o=new Array(i),c=0;c<i;++c){for(var u=s[c],d=u.length,m=o[c]=new Array(d),f,p=0;p<d;++p)(f=u[p])&&(m[p]=f);m.sort(r)}return new Nn(o,this._parents).order()}function IR(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function GR(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function VR(){return Array.from(this)}function PR(){for(var e=this._groups,r=0,s=e.length;r<s;++r)for(var i=e[r],o=0,c=i.length;o<c;++o){var u=i[o];if(u)return u}return null}function YR(){let e=0;for(const r of this)++e;return e}function FR(){return!this.node()}function XR(e){for(var r=this._groups,s=0,i=r.length;s<i;++s)for(var o=r[s],c=0,u=o.length,d;c<u;++c)(d=o[c])&&e.call(d,d.__data__,c,o);return this}function ZR(e){return function(){this.removeAttribute(e)}}function QR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WR(e,r){return function(){this.setAttribute(e,r)}}function KR(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function JR(e,r){return function(){var s=r.apply(this,arguments);s==null?this.removeAttribute(e):this.setAttribute(e,s)}}function e4(e,r){return function(){var s=r.apply(this,arguments);s==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,s)}}function t4(e,r){var s=Su(e);if(arguments.length<2){var i=this.node();return s.local?i.getAttributeNS(s.space,s.local):i.getAttribute(s)}return this.each((r==null?s.local?QR:ZR:typeof r=="function"?s.local?e4:JR:s.local?KR:WR)(s,r))}function Q1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function n4(e){return function(){this.style.removeProperty(e)}}function r4(e,r,s){return function(){this.style.setProperty(e,r,s)}}function s4(e,r,s){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,s)}}function i4(e,r,s){return arguments.length>1?this.each((r==null?n4:typeof r=="function"?s4:r4)(e,r,s??"")):sa(this.node(),e)}function sa(e,r){return e.style.getPropertyValue(r)||Q1(e).getComputedStyle(e,null).getPropertyValue(r)}function a4(e){return function(){delete this[e]}}function o4(e,r){return function(){this[e]=r}}function l4(e,r){return function(){var s=r.apply(this,arguments);s==null?delete this[e]:this[e]=s}}function c4(e,r){return arguments.length>1?this.each((r==null?a4:typeof r=="function"?l4:o4)(e,r)):this.node()[e]}function W1(e){return e.trim().split(/^|\s+/)}function qm(e){return e.classList||new K1(e)}function K1(e){this._node=e,this._names=W1(e.getAttribute("class")||"")}K1.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function J1(e,r){for(var s=qm(e),i=-1,o=r.length;++i<o;)s.add(r[i])}function ew(e,r){for(var s=qm(e),i=-1,o=r.length;++i<o;)s.remove(r[i])}function u4(e){return function(){J1(this,e)}}function d4(e){return function(){ew(this,e)}}function f4(e,r){return function(){(r.apply(this,arguments)?J1:ew)(this,e)}}function h4(e,r){var s=W1(e+"");if(arguments.length<2){for(var i=qm(this.node()),o=-1,c=s.length;++o<c;)if(!i.contains(s[o]))return!1;return!0}return this.each((typeof r=="function"?f4:r?u4:d4)(s,r))}function m4(){this.textContent=""}function p4(e){return function(){this.textContent=e}}function g4(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function y4(e){return arguments.length?this.each(e==null?m4:(typeof e=="function"?g4:p4)(e)):this.node().textContent}function x4(){this.innerHTML=""}function v4(e){return function(){this.innerHTML=e}}function b4(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function w4(e){return arguments.length?this.each(e==null?x4:(typeof e=="function"?b4:v4)(e)):this.node().innerHTML}function S4(){this.nextSibling&&this.parentNode.appendChild(this)}function N4(){return this.each(S4)}function E4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C4(){return this.each(E4)}function _4(e){var r=typeof e=="function"?e:P1(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function j4(){return null}function A4(e,r){var s=typeof e=="function"?e:P1(e),i=r==null?j4:typeof r=="function"?r:Hm(r);return this.select(function(){return this.insertBefore(s.apply(this,arguments),i.apply(this,arguments)||null)})}function T4(){var e=this.parentNode;e&&e.removeChild(this)}function M4(){return this.each(T4)}function R4(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function k4(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function z4(e){return this.select(e?k4:R4)}function O4(e){return arguments.length?this.property("__data__",e):this.node().__data__}function L4(e){return function(r){e.call(this,r,this.__data__)}}function D4(e){return e.trim().split(/^|\s+/).map(function(r){var s="",i=r.indexOf(".");return i>=0&&(s=r.slice(i+1),r=r.slice(0,i)),{type:r,name:s}})}function $4(e){return function(){var r=this.__on;if(r){for(var s=0,i=-1,o=r.length,c;s<o;++s)c=r[s],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):r[++i]=c;++i?r.length=i:delete this.__on}}}function B4(e,r,s){return function(){var i=this.__on,o,c=L4(r);if(i){for(var u=0,d=i.length;u<d;++u)if((o=i[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=c,o.options=s),o.value=r;return}}this.addEventListener(e.type,c,s),o={type:e.type,name:e.name,value:r,listener:c,options:s},i?i.push(o):this.__on=[o]}}function H4(e,r,s){var i=D4(e+""),o,c=i.length,u;if(arguments.length<2){var d=this.node().__on;if(d){for(var m=0,f=d.length,p;m<f;++m)for(o=0,p=d[m];o<c;++o)if((u=i[o]).type===p.type&&u.name===p.name)return p.value}return}for(d=r?B4:$4,o=0;o<c;++o)this.each(d(i[o],r,s));return this}function tw(e,r,s){var i=Q1(e),o=i.CustomEvent;typeof o=="function"?o=new o(r,s):(o=i.document.createEvent("Event"),s?(o.initEvent(r,s.bubbles,s.cancelable),o.detail=s.detail):o.initEvent(r,!1,!1)),e.dispatchEvent(o)}function q4(e,r){return function(){return tw(this,e,r)}}function U4(e,r){return function(){return tw(this,e,r.apply(this,arguments))}}function I4(e,r){return this.each((typeof r=="function"?U4:q4)(e,r))}function*G4(){for(var e=this._groups,r=0,s=e.length;r<s;++r)for(var i=e[r],o=0,c=i.length,u;o<c;++o)(u=i[o])&&(yield u)}var nw=[null];function Nn(e,r){this._groups=e,this._parents=r}function Fo(){return new Nn([[document.documentElement]],nw)}function V4(){return this}Nn.prototype=Fo.prototype={constructor:Nn,select:gR,selectAll:bR,selectChild:ER,selectChildren:AR,filter:TR,data:LR,enter:MR,exit:$R,join:BR,merge:HR,selection:V4,order:qR,sort:UR,call:GR,nodes:VR,node:PR,size:YR,empty:FR,each:XR,attr:t4,style:i4,property:c4,classed:h4,text:y4,html:w4,raise:N4,lower:C4,append:_4,insert:A4,remove:M4,clone:z4,datum:O4,on:H4,dispatch:I4,[Symbol.iterator]:G4};function wn(e){return typeof e=="string"?new Nn([[document.querySelector(e)]],[document.documentElement]):new Nn([[e]],nw)}function P4(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Pn(e,r){if(e=P4(e),r===void 0&&(r=e.currentTarget),r){var s=r.ownerSVGElement||r;if(s.createSVGPoint){var i=s.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[e.clientX-o.left-r.clientLeft,e.clientY-o.top-r.clientTop]}}return[e.pageX,e.pageY]}const Y4={passive:!1},Ro={capture:!0,passive:!1};function Eh(e){e.stopImmediatePropagation()}function Ki(e){e.preventDefault(),e.stopImmediatePropagation()}function rw(e){var r=e.document.documentElement,s=wn(e).on("dragstart.drag",Ki,Ro);"onselectstart"in r?s.on("selectstart.drag",Ki,Ro):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function sw(e,r){var s=e.document.documentElement,i=wn(e).on("dragstart.drag",null);r&&(i.on("click.drag",Ki,Ro),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in s?i.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const Ec=e=>()=>e;function em(e,{sourceEvent:r,subject:s,target:i,identifier:o,active:c,x:u,y:d,dx:m,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}em.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function F4(e){return!e.ctrlKey&&!e.button}function X4(){return this.parentNode}function Z4(e,r){return r??{x:e.x,y:e.y}}function Q4(){return navigator.maxTouchPoints||"ontouchstart"in this}function iw(){var e=F4,r=X4,s=Z4,i=Q4,o={},c=wu("start","drag","end"),u=0,d,m,f,p,x=0;function y(R){R.on("mousedown.drag",v).filter(i).on("touchstart.drag",C).on("touchmove.drag",w,Y4).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(R,M){if(!(p||!e.call(this,R,M))){var T=E(this,r.call(this,R,M),R,M,"mouse");T&&(wn(R.view).on("mousemove.drag",S,Ro).on("mouseup.drag",N,Ro),rw(R.view),Eh(R),f=!1,d=R.clientX,m=R.clientY,T("start",R))}}function S(R){if(Ki(R),!f){var M=R.clientX-d,T=R.clientY-m;f=M*M+T*T>x}o.mouse("drag",R)}function N(R){wn(R.view).on("mousemove.drag mouseup.drag",null),sw(R.view,f),Ki(R),o.mouse("end",R)}function C(R,M){if(e.call(this,R,M)){var T=R.changedTouches,A=r.call(this,R,M),z=T.length,O,G;for(O=0;O<z;++O)(G=E(this,A,R,M,T[O].identifier,T[O]))&&(Eh(R),G("start",R,T[O]))}}function w(R){var M=R.changedTouches,T=M.length,A,z;for(A=0;A<T;++A)(z=o[M[A].identifier])&&(Ki(R),z("drag",R,M[A]))}function _(R){var M=R.changedTouches,T=M.length,A,z;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),A=0;A<T;++A)(z=o[M[A].identifier])&&(Eh(R),z("end",R,M[A]))}function E(R,M,T,A,z,O){var G=c.copy(),P=Pn(O||T,M),U,V,B;if((B=s.call(R,new em("beforestart",{sourceEvent:T,target:y,identifier:z,active:u,x:P[0],y:P[1],dx:0,dy:0,dispatch:G}),A))!=null)return U=B.x-P[0]||0,V=B.y-P[1]||0,function F(L,q,H){var Y=P,Q;switch(L){case"start":o[z]=F,Q=u++;break;case"end":delete o[z],--u;case"drag":P=Pn(H||q,M),Q=u;break}G.call(L,R,new em(L,{sourceEvent:q,subject:B,target:y,identifier:z,active:Q,x:P[0]+U,y:P[1]+V,dx:P[0]-Y[0],dy:P[1]-Y[1],dispatch:G}),A)}}return y.filter=function(R){return arguments.length?(e=typeof R=="function"?R:Ec(!!R),y):e},y.container=function(R){return arguments.length?(r=typeof R=="function"?R:Ec(R),y):r},y.subject=function(R){return arguments.length?(s=typeof R=="function"?R:Ec(R),y):s},y.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:Ec(!!R),y):i},y.on=function(){var R=c.on.apply(c,arguments);return R===c?y:R},y.clickDistance=function(R){return arguments.length?(x=(R=+R)*R,y):Math.sqrt(x)},y}function Um(e,r,s){e.prototype=r.prototype=s,s.constructor=e}function aw(e,r){var s=Object.create(e.prototype);for(var i in r)s[i]=r[i];return s}function Xo(){}var ko=.7,nu=1/ko,Ji="\\s*([+-]?\\d+)\\s*",zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W4=/^#([0-9a-f]{3,8})$/,K4=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),J4=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),ek=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${zo}\\)$`),tk=new RegExp(`^rgba\\(${ar},${ar},${ar},${zo}\\)$`),nk=new RegExp(`^hsl\\(${zo},${ar},${ar}\\)$`),rk=new RegExp(`^hsla\\(${zo},${ar},${ar},${zo}\\)$`),Jx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Um(Xo,Js,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ev,formatHex:ev,formatHex8:sk,formatHsl:ik,formatRgb:tv,toString:tv});function ev(){return this.rgb().formatHex()}function sk(){return this.rgb().formatHex8()}function ik(){return ow(this).formatHsl()}function tv(){return this.rgb().formatRgb()}function Js(e){var r,s;return e=(e+"").trim().toLowerCase(),(r=W4.exec(e))?(s=r[1].length,r=parseInt(r[1],16),s===6?nv(r):s===3?new hn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Cc(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Cc(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=K4.exec(e))?new hn(r[1],r[2],r[3],1):(r=J4.exec(e))?new hn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=ek.exec(e))?Cc(r[1],r[2],r[3],r[4]):(r=tk.exec(e))?Cc(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=nk.exec(e))?iv(r[1],r[2]/100,r[3]/100,1):(r=rk.exec(e))?iv(r[1],r[2]/100,r[3]/100,r[4]):Jx.hasOwnProperty(e)?nv(Jx[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function nv(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function Cc(e,r,s,i){return i<=0&&(e=r=s=NaN),new hn(e,r,s,i)}function ak(e){return e instanceof Xo||(e=Js(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function tm(e,r,s,i){return arguments.length===1?ak(e):new hn(e,r,s,i??1)}function hn(e,r,s,i){this.r=+e,this.g=+r,this.b=+s,this.opacity=+i}Um(hn,tm,aw(Xo,{brighter(e){return e=e==null?nu:Math.pow(nu,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(Zs(this.r),Zs(this.g),Zs(this.b),ru(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rv,formatHex:rv,formatHex8:ok,formatRgb:sv,toString:sv}));function rv(){return`#${Fs(this.r)}${Fs(this.g)}${Fs(this.b)}`}function ok(){return`#${Fs(this.r)}${Fs(this.g)}${Fs(this.b)}${Fs((isNaN(this.opacity)?1:this.opacity)*255)}`}function sv(){const e=ru(this.opacity);return`${e===1?"rgb(":"rgba("}${Zs(this.r)}, ${Zs(this.g)}, ${Zs(this.b)}${e===1?")":`, ${e})`}`}function ru(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fs(e){return e=Zs(e),(e<16?"0":"")+e.toString(16)}function iv(e,r,s,i){return i<=0?e=r=s=NaN:s<=0||s>=1?e=r=NaN:r<=0&&(e=NaN),new Fn(e,r,s,i)}function ow(e){if(e instanceof Fn)return new Fn(e.h,e.s,e.l,e.opacity);if(e instanceof Xo||(e=Js(e)),!e)return new Fn;if(e instanceof Fn)return e;e=e.rgb();var r=e.r/255,s=e.g/255,i=e.b/255,o=Math.min(r,s,i),c=Math.max(r,s,i),u=NaN,d=c-o,m=(c+o)/2;return d?(r===c?u=(s-i)/d+(s<i)*6:s===c?u=(i-r)/d+2:u=(r-s)/d+4,d/=m<.5?c+o:2-c-o,u*=60):d=m>0&&m<1?0:u,new Fn(u,d,m,e.opacity)}function lk(e,r,s,i){return arguments.length===1?ow(e):new Fn(e,r,s,i??1)}function Fn(e,r,s,i){this.h=+e,this.s=+r,this.l=+s,this.opacity=+i}Um(Fn,lk,aw(Xo,{brighter(e){return e=e==null?nu:Math.pow(nu,e),new Fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ko:Math.pow(ko,e),new Fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,i=s+(s<.5?s:1-s)*r,o=2*s-i;return new hn(Ch(e>=240?e-240:e+120,o,i),Ch(e,o,i),Ch(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Fn(av(this.h),_c(this.s),_c(this.l),ru(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ru(this.opacity);return`${e===1?"hsl(":"hsla("}${av(this.h)}, ${_c(this.s)*100}%, ${_c(this.l)*100}%${e===1?")":`, ${e})`}`}}));function av(e){return e=(e||0)%360,e<0?e+360:e}function _c(e){return Math.max(0,Math.min(1,e||0))}function Ch(e,r,s){return(e<60?r+(s-r)*e/60:e<180?s:e<240?r+(s-r)*(240-e)/60:r)*255}const Im=e=>()=>e;function ck(e,r){return function(s){return e+s*r}}function uk(e,r,s){return e=Math.pow(e,s),r=Math.pow(r,s)-e,s=1/s,function(i){return Math.pow(e+i*r,s)}}function dk(e){return(e=+e)==1?lw:function(r,s){return s-r?uk(r,s,e):Im(isNaN(r)?s:r)}}function lw(e,r){var s=r-e;return s?ck(e,s):Im(isNaN(e)?r:e)}const su=(function e(r){var s=dk(r);function i(o,c){var u=s((o=tm(o)).r,(c=tm(c)).r),d=s(o.g,c.g),m=s(o.b,c.b),f=lw(o.opacity,c.opacity);return function(p){return o.r=u(p),o.g=d(p),o.b=m(p),o.opacity=f(p),o+""}}return i.gamma=e,i})(1);function fk(e,r){r||(r=[]);var s=e?Math.min(r.length,e.length):0,i=r.slice(),o;return function(c){for(o=0;o<s;++o)i[o]=e[o]*(1-c)+r[o]*c;return i}}function hk(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mk(e,r){var s=r?r.length:0,i=e?Math.min(s,e.length):0,o=new Array(i),c=new Array(s),u;for(u=0;u<i;++u)o[u]=Eo(e[u],r[u]);for(;u<s;++u)c[u]=r[u];return function(d){for(u=0;u<i;++u)c[u]=o[u](d);return c}}function pk(e,r){var s=new Date;return e=+e,r=+r,function(i){return s.setTime(e*(1-i)+r*i),s}}function ir(e,r){return e=+e,r=+r,function(s){return e*(1-s)+r*s}}function gk(e,r){var s={},i={},o;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(o in r)o in e?s[o]=Eo(e[o],r[o]):i[o]=r[o];return function(c){for(o in s)i[o]=s[o](c);return i}}var nm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_h=new RegExp(nm.source,"g");function yk(e){return function(){return e}}function xk(e){return function(r){return e(r)+""}}function cw(e,r){var s=nm.lastIndex=_h.lastIndex=0,i,o,c,u=-1,d=[],m=[];for(e=e+"",r=r+"";(i=nm.exec(e))&&(o=_h.exec(r));)(c=o.index)>s&&(c=r.slice(s,c),d[u]?d[u]+=c:d[++u]=c),(i=i[0])===(o=o[0])?d[u]?d[u]+=o:d[++u]=o:(d[++u]=null,m.push({i:u,x:ir(i,o)})),s=_h.lastIndex;return s<r.length&&(c=r.slice(s),d[u]?d[u]+=c:d[++u]=c),d.length<2?m[0]?xk(m[0].x):yk(r):(r=m.length,function(f){for(var p=0,x;p<r;++p)d[(x=m[p]).i]=x.x(f);return d.join("")})}function Eo(e,r){var s=typeof r,i;return r==null||s==="boolean"?Im(r):(s==="number"?ir:s==="string"?(i=Js(r))?(r=i,su):cw:r instanceof Js?su:r instanceof Date?pk:hk(r)?fk:Array.isArray(r)?mk:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?gk:ir)(e,r)}var ov=180/Math.PI,rm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uw(e,r,s,i,o,c){var u,d,m;return(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u),(m=e*s+r*i)&&(s-=e*m,i-=r*m),(d=Math.sqrt(s*s+i*i))&&(s/=d,i/=d,m/=d),e*i<r*s&&(e=-e,r=-r,m=-m,u=-u),{translateX:o,translateY:c,rotate:Math.atan2(r,e)*ov,skewX:Math.atan(m)*ov,scaleX:u,scaleY:d}}var jc;function vk(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?rm:uw(r.a,r.b,r.c,r.d,r.e,r.f)}function bk(e){return e==null||(jc||(jc=document.createElementNS("http://www.w3.org/2000/svg","g")),jc.setAttribute("transform",e),!(e=jc.transform.baseVal.consolidate()))?rm:(e=e.matrix,uw(e.a,e.b,e.c,e.d,e.e,e.f))}function dw(e,r,s,i){function o(f){return f.length?f.pop()+" ":""}function c(f,p,x,y,v,S){if(f!==x||p!==y){var N=v.push("translate(",null,r,null,s);S.push({i:N-4,x:ir(f,x)},{i:N-2,x:ir(p,y)})}else(x||y)&&v.push("translate("+x+r+y+s)}function u(f,p,x,y){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),y.push({i:x.push(o(x)+"rotate(",null,i)-2,x:ir(f,p)})):p&&x.push(o(x)+"rotate("+p+i)}function d(f,p,x,y){f!==p?y.push({i:x.push(o(x)+"skewX(",null,i)-2,x:ir(f,p)}):p&&x.push(o(x)+"skewX("+p+i)}function m(f,p,x,y,v,S){if(f!==x||p!==y){var N=v.push(o(v)+"scale(",null,",",null,")");S.push({i:N-4,x:ir(f,x)},{i:N-2,x:ir(p,y)})}else(x!==1||y!==1)&&v.push(o(v)+"scale("+x+","+y+")")}return function(f,p){var x=[],y=[];return f=e(f),p=e(p),c(f.translateX,f.translateY,p.translateX,p.translateY,x,y),u(f.rotate,p.rotate,x,y),d(f.skewX,p.skewX,x,y),m(f.scaleX,f.scaleY,p.scaleX,p.scaleY,x,y),f=p=null,function(v){for(var S=-1,N=y.length,C;++S<N;)x[(C=y[S]).i]=C.x(v);return x.join("")}}}var wk=dw(vk,"px, ","px)","deg)"),Sk=dw(bk,", ",")",")"),Nk=1e-12;function lv(e){return((e=Math.exp(e))+1/e)/2}function Ek(e){return((e=Math.exp(e))-1/e)/2}function Ck(e){return((e=Math.exp(2*e))-1)/(e+1)}const Bc=(function e(r,s,i){function o(c,u){var d=c[0],m=c[1],f=c[2],p=u[0],x=u[1],y=u[2],v=p-d,S=x-m,N=v*v+S*S,C,w;if(N<Nk)w=Math.log(y/f)/r,C=function(A){return[d+A*v,m+A*S,f*Math.exp(r*A*w)]};else{var _=Math.sqrt(N),E=(y*y-f*f+i*N)/(2*f*s*_),R=(y*y-f*f-i*N)/(2*y*s*_),M=Math.log(Math.sqrt(E*E+1)-E),T=Math.log(Math.sqrt(R*R+1)-R);w=(T-M)/r,C=function(A){var z=A*w,O=lv(M),G=f/(s*_)*(O*Ck(r*z+M)-Ek(M));return[d+G*v,m+G*S,f*O/lv(r*z+M)]}}return C.duration=w*1e3*r/Math.SQRT2,C}return o.rho=function(c){var u=Math.max(.001,+c),d=u*u,m=d*d;return e(u,d,m)},o})(Math.SQRT2,2,4);var ia=0,bo=0,yo=0,fw=1e3,iu,wo,au=0,ei=0,Nu=0,Oo=typeof performance=="object"&&performance.now?performance:Date,hw=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gm(){return ei||(hw(_k),ei=Oo.now()+Nu)}function _k(){ei=0}function ou(){this._call=this._time=this._next=null}ou.prototype=mw.prototype={constructor:ou,restart:function(e,r,s){if(typeof e!="function")throw new TypeError("callback is not a function");s=(s==null?Gm():+s)+(r==null?0:+r),!this._next&&wo!==this&&(wo?wo._next=this:iu=this,wo=this),this._call=e,this._time=s,sm()},stop:function(){this._call&&(this._call=null,this._time=1/0,sm())}};function mw(e,r,s){var i=new ou;return i.restart(e,r,s),i}function jk(){Gm(),++ia;for(var e=iu,r;e;)(r=ei-e._time)>=0&&e._call.call(void 0,r),e=e._next;--ia}function cv(){ei=(au=Oo.now())+Nu,ia=bo=0;try{jk()}finally{ia=0,Tk(),ei=0}}function Ak(){var e=Oo.now(),r=e-au;r>fw&&(Nu-=r,au=e)}function Tk(){for(var e,r=iu,s,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(s=r._next,r._next=null,r=e?e._next=s:iu=s);wo=e,sm(i)}function sm(e){if(!ia){bo&&(bo=clearTimeout(bo));var r=e-ei;r>24?(e<1/0&&(bo=setTimeout(cv,e-Oo.now()-Nu)),yo&&(yo=clearInterval(yo))):(yo||(au=Oo.now(),yo=setInterval(Ak,fw)),ia=1,hw(cv))}}function uv(e,r,s){var i=new ou;return r=r==null?0:+r,i.restart(o=>{i.stop(),e(o+r)},r,s),i}var Mk=wu("start","end","cancel","interrupt"),Rk=[],pw=0,dv=1,im=2,Hc=3,fv=4,am=5,qc=6;function Eu(e,r,s,i,o,c){var u=e.__transition;if(!u)e.__transition={};else if(s in u)return;kk(e,s,{name:r,index:i,group:o,on:Mk,tween:Rk,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:pw})}function Vm(e,r){var s=Kn(e,r);if(s.state>pw)throw new Error("too late; already scheduled");return s}function cr(e,r){var s=Kn(e,r);if(s.state>Hc)throw new Error("too late; already running");return s}function Kn(e,r){var s=e.__transition;if(!s||!(s=s[r]))throw new Error("transition not found");return s}function kk(e,r,s){var i=e.__transition,o;i[r]=s,s.timer=mw(c,0,s.time);function c(f){s.state=dv,s.timer.restart(u,s.delay,s.time),s.delay<=f&&u(f-s.delay)}function u(f){var p,x,y,v;if(s.state!==dv)return m();for(p in i)if(v=i[p],v.name===s.name){if(v.state===Hc)return uv(u);v.state===fv?(v.state=qc,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete i[p]):+p<r&&(v.state=qc,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete i[p])}if(uv(function(){s.state===Hc&&(s.state=fv,s.timer.restart(d,s.delay,s.time),d(f))}),s.state=im,s.on.call("start",e,e.__data__,s.index,s.group),s.state===im){for(s.state=Hc,o=new Array(y=s.tween.length),p=0,x=-1;p<y;++p)(v=s.tween[p].value.call(e,e.__data__,s.index,s.group))&&(o[++x]=v);o.length=x+1}}function d(f){for(var p=f<s.duration?s.ease.call(null,f/s.duration):(s.timer.restart(m),s.state=am,1),x=-1,y=o.length;++x<y;)o[x].call(e,p);s.state===am&&(s.on.call("end",e,e.__data__,s.index,s.group),m())}function m(){s.state=qc,s.timer.stop(),delete i[r];for(var f in i)return;delete e.__transition}}function Uc(e,r){var s=e.__transition,i,o,c=!0,u;if(s){r=r==null?null:r+"";for(u in s){if((i=s[u]).name!==r){c=!1;continue}o=i.state>im&&i.state<am,i.state=qc,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete s[u]}c&&delete e.__transition}}function zk(e){return this.each(function(){Uc(this,e)})}function Ok(e,r){var s,i;return function(){var o=cr(this,e),c=o.tween;if(c!==s){i=s=c;for(var u=0,d=i.length;u<d;++u)if(i[u].name===r){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function Lk(e,r,s){var i,o;if(typeof s!="function")throw new Error;return function(){var c=cr(this,e),u=c.tween;if(u!==i){o=(i=u).slice();for(var d={name:r,value:s},m=0,f=o.length;m<f;++m)if(o[m].name===r){o[m]=d;break}m===f&&o.push(d)}c.tween=o}}function Dk(e,r){var s=this._id;if(e+="",arguments.length<2){for(var i=Kn(this.node(),s).tween,o=0,c=i.length,u;o<c;++o)if((u=i[o]).name===e)return u.value;return null}return this.each((r==null?Ok:Lk)(s,e,r))}function Pm(e,r,s){var i=e._id;return e.each(function(){var o=cr(this,i);(o.value||(o.value={}))[r]=s.apply(this,arguments)}),function(o){return Kn(o,i).value[r]}}function gw(e,r){var s;return(typeof r=="number"?ir:r instanceof Js?su:(s=Js(r))?(r=s,su):cw)(e,r)}function $k(e){return function(){this.removeAttribute(e)}}function Bk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hk(e,r,s){var i,o=s+"",c;return function(){var u=this.getAttribute(e);return u===o?null:u===i?c:c=r(i=u,s)}}function qk(e,r,s){var i,o=s+"",c;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===i?c:c=r(i=u,s)}}function Uk(e,r,s){var i,o,c;return function(){var u,d=s(this),m;return d==null?void this.removeAttribute(e):(u=this.getAttribute(e),m=d+"",u===m?null:u===i&&m===o?c:(o=m,c=r(i=u,d)))}}function Ik(e,r,s){var i,o,c;return function(){var u,d=s(this),m;return d==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),m=d+"",u===m?null:u===i&&m===o?c:(o=m,c=r(i=u,d)))}}function Gk(e,r){var s=Su(e),i=s==="transform"?Sk:gw;return this.attrTween(e,typeof r=="function"?(s.local?Ik:Uk)(s,i,Pm(this,"attr."+e,r)):r==null?(s.local?Bk:$k)(s):(s.local?qk:Hk)(s,i,r))}function Vk(e,r){return function(s){this.setAttribute(e,r.call(this,s))}}function Pk(e,r){return function(s){this.setAttributeNS(e.space,e.local,r.call(this,s))}}function Yk(e,r){var s,i;function o(){var c=r.apply(this,arguments);return c!==i&&(s=(i=c)&&Pk(e,c)),s}return o._value=r,o}function Fk(e,r){var s,i;function o(){var c=r.apply(this,arguments);return c!==i&&(s=(i=c)&&Vk(e,c)),s}return o._value=r,o}function Xk(e,r){var s="attr."+e;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;var i=Su(e);return this.tween(s,(i.local?Yk:Fk)(i,r))}function Zk(e,r){return function(){Vm(this,e).delay=+r.apply(this,arguments)}}function Qk(e,r){return r=+r,function(){Vm(this,e).delay=r}}function Wk(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Zk:Qk)(r,e)):Kn(this.node(),r).delay}function Kk(e,r){return function(){cr(this,e).duration=+r.apply(this,arguments)}}function Jk(e,r){return r=+r,function(){cr(this,e).duration=r}}function ez(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Kk:Jk)(r,e)):Kn(this.node(),r).duration}function tz(e,r){if(typeof r!="function")throw new Error;return function(){cr(this,e).ease=r}}function nz(e){var r=this._id;return arguments.length?this.each(tz(r,e)):Kn(this.node(),r).ease}function rz(e,r){return function(){var s=r.apply(this,arguments);if(typeof s!="function")throw new Error;cr(this,e).ease=s}}function sz(e){if(typeof e!="function")throw new Error;return this.each(rz(this._id,e))}function iz(e){typeof e!="function"&&(e=F1(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var c=r[o],u=c.length,d=i[o]=[],m,f=0;f<u;++f)(m=c[f])&&e.call(m,m.__data__,f,c)&&d.push(m);return new qr(i,this._parents,this._name,this._id)}function az(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,s=e._groups,i=r.length,o=s.length,c=Math.min(i,o),u=new Array(i),d=0;d<c;++d)for(var m=r[d],f=s[d],p=m.length,x=u[d]=new Array(p),y,v=0;v<p;++v)(y=m[v]||f[v])&&(x[v]=y);for(;d<i;++d)u[d]=r[d];return new qr(u,this._parents,this._name,this._id)}function oz(e){return(e+"").trim().split(/^|\s+/).every(function(r){var s=r.indexOf(".");return s>=0&&(r=r.slice(0,s)),!r||r==="start"})}function lz(e,r,s){var i,o,c=oz(r)?Vm:cr;return function(){var u=c(this,e),d=u.on;d!==i&&(o=(i=d).copy()).on(r,s),u.on=o}}function cz(e,r){var s=this._id;return arguments.length<2?Kn(this.node(),s).on.on(e):this.each(lz(s,e,r))}function uz(e){return function(){var r=this.parentNode;for(var s in this.__transition)if(+s!==e)return;r&&r.removeChild(this)}}function dz(){return this.on("end.remove",uz(this._id))}function fz(e){var r=this._name,s=this._id;typeof e!="function"&&(e=Hm(e));for(var i=this._groups,o=i.length,c=new Array(o),u=0;u<o;++u)for(var d=i[u],m=d.length,f=c[u]=new Array(m),p,x,y=0;y<m;++y)(p=d[y])&&(x=e.call(p,p.__data__,y,d))&&("__data__"in p&&(x.__data__=p.__data__),f[y]=x,Eu(f[y],r,s,y,f,Kn(p,s)));return new qr(c,this._parents,r,s)}function hz(e){var r=this._name,s=this._id;typeof e!="function"&&(e=Y1(e));for(var i=this._groups,o=i.length,c=[],u=[],d=0;d<o;++d)for(var m=i[d],f=m.length,p,x=0;x<f;++x)if(p=m[x]){for(var y=e.call(p,p.__data__,x,m),v,S=Kn(p,s),N=0,C=y.length;N<C;++N)(v=y[N])&&Eu(v,r,s,N,y,S);c.push(y),u.push(p)}return new qr(c,u,r,s)}var mz=Fo.prototype.constructor;function pz(){return new mz(this._groups,this._parents)}function gz(e,r){var s,i,o;return function(){var c=sa(this,e),u=(this.style.removeProperty(e),sa(this,e));return c===u?null:c===s&&u===i?o:o=r(s=c,i=u)}}function yw(e){return function(){this.style.removeProperty(e)}}function yz(e,r,s){var i,o=s+"",c;return function(){var u=sa(this,e);return u===o?null:u===i?c:c=r(i=u,s)}}function xz(e,r,s){var i,o,c;return function(){var u=sa(this,e),d=s(this),m=d+"";return d==null&&(m=d=(this.style.removeProperty(e),sa(this,e))),u===m?null:u===i&&m===o?c:(o=m,c=r(i=u,d))}}function vz(e,r){var s,i,o,c="style."+r,u="end."+c,d;return function(){var m=cr(this,e),f=m.on,p=m.value[c]==null?d||(d=yw(r)):void 0;(f!==s||o!==p)&&(i=(s=f).copy()).on(u,o=p),m.on=i}}function bz(e,r,s){var i=(e+="")=="transform"?wk:gw;return r==null?this.styleTween(e,gz(e,i)).on("end.style."+e,yw(e)):typeof r=="function"?this.styleTween(e,xz(e,i,Pm(this,"style."+e,r))).each(vz(this._id,e)):this.styleTween(e,yz(e,i,r),s).on("end.style."+e,null)}function wz(e,r,s){return function(i){this.style.setProperty(e,r.call(this,i),s)}}function Sz(e,r,s){var i,o;function c(){var u=r.apply(this,arguments);return u!==o&&(i=(o=u)&&wz(e,u,s)),i}return c._value=r,c}function Nz(e,r,s){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,Sz(e,r,s??""))}function Ez(e){return function(){this.textContent=e}}function Cz(e){return function(){var r=e(this);this.textContent=r??""}}function _z(e){return this.tween("text",typeof e=="function"?Cz(Pm(this,"text",e)):Ez(e==null?"":e+""))}function jz(e){return function(r){this.textContent=e.call(this,r)}}function Az(e){var r,s;function i(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&jz(o)),r}return i._value=e,i}function Tz(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Az(e))}function Mz(){for(var e=this._name,r=this._id,s=xw(),i=this._groups,o=i.length,c=0;c<o;++c)for(var u=i[c],d=u.length,m,f=0;f<d;++f)if(m=u[f]){var p=Kn(m,r);Eu(m,e,s,f,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new qr(i,this._parents,e,s)}function Rz(){var e,r,s=this,i=s._id,o=s.size();return new Promise(function(c,u){var d={value:u},m={value:function(){--o===0&&c()}};s.each(function(){var f=cr(this,i),p=f.on;p!==e&&(r=(e=p).copy(),r._.cancel.push(d),r._.interrupt.push(d),r._.end.push(m)),f.on=r}),o===0&&c()})}var kz=0;function qr(e,r,s,i){this._groups=e,this._parents=r,this._name=s,this._id=i}function xw(){return++kz}var zr=Fo.prototype;qr.prototype={constructor:qr,select:fz,selectAll:hz,selectChild:zr.selectChild,selectChildren:zr.selectChildren,filter:iz,merge:az,selection:pz,transition:Mz,call:zr.call,nodes:zr.nodes,node:zr.node,size:zr.size,empty:zr.empty,each:zr.each,on:cz,attr:Gk,attrTween:Xk,style:bz,styleTween:Nz,text:_z,textTween:Tz,remove:dz,tween:Dk,delay:Wk,duration:ez,ease:nz,easeVarying:sz,end:Rz,[Symbol.iterator]:zr[Symbol.iterator]};function zz(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Oz={time:null,delay:0,duration:250,ease:zz};function Lz(e,r){for(var s;!(s=e.__transition)||!(s=s[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return s}function Dz(e){var r,s;e instanceof qr?(r=e._id,e=e._name):(r=xw(),(s=Oz).time=Gm(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,c=0;c<o;++c)for(var u=i[c],d=u.length,m,f=0;f<d;++f)(m=u[f])&&Eu(m,e,r,f,u,s||Lz(m,r));return new qr(i,this._parents,e,r)}Fo.prototype.interrupt=zk;Fo.prototype.transition=Dz;const Ac=e=>()=>e;function $z(e,{sourceEvent:r,target:s,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Or(e,r,s){this.k=e,this.x=r,this.y=s}Or.prototype={constructor:Or,scale:function(e){return e===1?this:new Or(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Or(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cu=new Or(1,0,0);vw.prototype=Or.prototype;function vw(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Cu;return e.__zoom}function jh(e){e.stopImmediatePropagation()}function xo(e){e.preventDefault(),e.stopImmediatePropagation()}function Bz(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Hz(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function hv(){return this.__zoom||Cu}function qz(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Uz(){return navigator.maxTouchPoints||"ontouchstart"in this}function Iz(e,r,s){var i=e.invertX(r[0][0])-s[0][0],o=e.invertX(r[1][0])-s[1][0],c=e.invertY(r[0][1])-s[0][1],u=e.invertY(r[1][1])-s[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>c?(c+u)/2:Math.min(0,c)||Math.max(0,u))}function bw(){var e=Bz,r=Hz,s=Iz,i=qz,o=Uz,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],d=250,m=Bc,f=wu("start","zoom","end"),p,x,y,v=500,S=150,N=0,C=10;function w(B){B.property("__zoom",hv).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",G).filter(o).on("touchstart.zoom",P).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(B,F,L,q){var H=B.selection?B.selection():B;H.property("__zoom",hv),B!==H?M(B,F,L,q):H.interrupt().each(function(){T(this,arguments).event(q).start().zoom(null,typeof F=="function"?F.apply(this,arguments):F).end()})},w.scaleBy=function(B,F,L,q){w.scaleTo(B,function(){var H=this.__zoom.k,Y=typeof F=="function"?F.apply(this,arguments):F;return H*Y},L,q)},w.scaleTo=function(B,F,L,q){w.transform(B,function(){var H=r.apply(this,arguments),Y=this.__zoom,Q=L==null?R(H):typeof L=="function"?L.apply(this,arguments):L,$=Y.invert(Q),Z=typeof F=="function"?F.apply(this,arguments):F;return s(E(_(Y,Z),Q,$),H,u)},L,q)},w.translateBy=function(B,F,L,q){w.transform(B,function(){return s(this.__zoom.translate(typeof F=="function"?F.apply(this,arguments):F,typeof L=="function"?L.apply(this,arguments):L),r.apply(this,arguments),u)},null,q)},w.translateTo=function(B,F,L,q,H){w.transform(B,function(){var Y=r.apply(this,arguments),Q=this.__zoom,$=q==null?R(Y):typeof q=="function"?q.apply(this,arguments):q;return s(Cu.translate($[0],$[1]).scale(Q.k).translate(typeof F=="function"?-F.apply(this,arguments):-F,typeof L=="function"?-L.apply(this,arguments):-L),Y,u)},q,H)};function _(B,F){return F=Math.max(c[0],Math.min(c[1],F)),F===B.k?B:new Or(F,B.x,B.y)}function E(B,F,L){var q=F[0]-L[0]*B.k,H=F[1]-L[1]*B.k;return q===B.x&&H===B.y?B:new Or(B.k,q,H)}function R(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function M(B,F,L,q){B.on("start.zoom",function(){T(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(q).end()}).tween("zoom",function(){var H=this,Y=arguments,Q=T(H,Y).event(q),$=r.apply(H,Y),Z=L==null?R($):typeof L=="function"?L.apply(H,Y):L,ee=Math.max($[1][0]-$[0][0],$[1][1]-$[0][1]),ie=H.__zoom,me=typeof F=="function"?F.apply(H,Y):F,ye=m(ie.invert(Z).concat(ee/ie.k),me.invert(Z).concat(ee/me.k));return function(ge){if(ge===1)ge=me;else{var he=ye(ge),ve=ee/he[2];ge=new Or(ve,Z[0]-he[0]*ve,Z[1]-he[1]*ve)}Q.zoom(null,ge)}})}function T(B,F,L){return!L&&B.__zooming||new A(B,F)}function A(B,F){this.that=B,this.args=F,this.active=0,this.sourceEvent=null,this.extent=r.apply(B,F),this.taps=0}A.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,F){return this.mouse&&B!=="mouse"&&(this.mouse[1]=F.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=F.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=F.invert(this.touch1[0])),this.that.__zoom=F,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var F=wn(this.that).datum();f.call(B,this.that,new $z(B,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:f}),F)}};function z(B,...F){if(!e.apply(this,arguments))return;var L=T(this,F).event(B),q=this.__zoom,H=Math.max(c[0],Math.min(c[1],q.k*Math.pow(2,i.apply(this,arguments)))),Y=Pn(B);if(L.wheel)(L.mouse[0][0]!==Y[0]||L.mouse[0][1]!==Y[1])&&(L.mouse[1]=q.invert(L.mouse[0]=Y)),clearTimeout(L.wheel);else{if(q.k===H)return;L.mouse=[Y,q.invert(Y)],Uc(this),L.start()}xo(B),L.wheel=setTimeout(Q,S),L.zoom("mouse",s(E(_(q,H),L.mouse[0],L.mouse[1]),L.extent,u));function Q(){L.wheel=null,L.end()}}function O(B,...F){if(y||!e.apply(this,arguments))return;var L=B.currentTarget,q=T(this,F,!0).event(B),H=wn(B.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",ee,!0),Y=Pn(B,L),Q=B.clientX,$=B.clientY;rw(B.view),jh(B),q.mouse=[Y,this.__zoom.invert(Y)],Uc(this),q.start();function Z(ie){if(xo(ie),!q.moved){var me=ie.clientX-Q,ye=ie.clientY-$;q.moved=me*me+ye*ye>N}q.event(ie).zoom("mouse",s(E(q.that.__zoom,q.mouse[0]=Pn(ie,L),q.mouse[1]),q.extent,u))}function ee(ie){H.on("mousemove.zoom mouseup.zoom",null),sw(ie.view,q.moved),xo(ie),q.event(ie).end()}}function G(B,...F){if(e.apply(this,arguments)){var L=this.__zoom,q=Pn(B.changedTouches?B.changedTouches[0]:B,this),H=L.invert(q),Y=L.k*(B.shiftKey?.5:2),Q=s(E(_(L,Y),q,H),r.apply(this,F),u);xo(B),d>0?wn(this).transition().duration(d).call(M,Q,q,B):wn(this).call(w.transform,Q,q,B)}}function P(B,...F){if(e.apply(this,arguments)){var L=B.touches,q=L.length,H=T(this,F,B.changedTouches.length===q).event(B),Y,Q,$,Z;for(jh(B),Q=0;Q<q;++Q)$=L[Q],Z=Pn($,this),Z=[Z,this.__zoom.invert(Z),$.identifier],H.touch0?!H.touch1&&H.touch0[2]!==Z[2]&&(H.touch1=Z,H.taps=0):(H.touch0=Z,Y=!0,H.taps=1+!!p);p&&(p=clearTimeout(p)),Y&&(H.taps<2&&(x=Z[0],p=setTimeout(function(){p=null},v)),Uc(this),H.start())}}function U(B,...F){if(this.__zooming){var L=T(this,F).event(B),q=B.changedTouches,H=q.length,Y,Q,$,Z;for(xo(B),Y=0;Y<H;++Y)Q=q[Y],$=Pn(Q,this),L.touch0&&L.touch0[2]===Q.identifier?L.touch0[0]=$:L.touch1&&L.touch1[2]===Q.identifier&&(L.touch1[0]=$);if(Q=L.that.__zoom,L.touch1){var ee=L.touch0[0],ie=L.touch0[1],me=L.touch1[0],ye=L.touch1[1],ge=(ge=me[0]-ee[0])*ge+(ge=me[1]-ee[1])*ge,he=(he=ye[0]-ie[0])*he+(he=ye[1]-ie[1])*he;Q=_(Q,Math.sqrt(ge/he)),$=[(ee[0]+me[0])/2,(ee[1]+me[1])/2],Z=[(ie[0]+ye[0])/2,(ie[1]+ye[1])/2]}else if(L.touch0)$=L.touch0[0],Z=L.touch0[1];else return;L.zoom("touch",s(E(Q,$,Z),L.extent,u))}}function V(B,...F){if(this.__zooming){var L=T(this,F).event(B),q=B.changedTouches,H=q.length,Y,Q;for(jh(B),y&&clearTimeout(y),y=setTimeout(function(){y=null},v),Y=0;Y<H;++Y)Q=q[Y],L.touch0&&L.touch0[2]===Q.identifier?delete L.touch0:L.touch1&&L.touch1[2]===Q.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(Q=Pn(Q,this),Math.hypot(x[0]-Q[0],x[1]-Q[1])<C)){var $=wn(this).on("dblclick.zoom");$&&$.apply(this,arguments)}}}return w.wheelDelta=function(B){return arguments.length?(i=typeof B=="function"?B:Ac(+B),w):i},w.filter=function(B){return arguments.length?(e=typeof B=="function"?B:Ac(!!B),w):e},w.touchable=function(B){return arguments.length?(o=typeof B=="function"?B:Ac(!!B),w):o},w.extent=function(B){return arguments.length?(r=typeof B=="function"?B:Ac([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),w):r},w.scaleExtent=function(B){return arguments.length?(c[0]=+B[0],c[1]=+B[1],w):[c[0],c[1]]},w.translateExtent=function(B){return arguments.length?(u[0][0]=+B[0][0],u[1][0]=+B[1][0],u[0][1]=+B[0][1],u[1][1]=+B[1][1],w):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},w.constrain=function(B){return arguments.length?(s=B,w):s},w.duration=function(B){return arguments.length?(d=+B,w):d},w.interpolate=function(B){return arguments.length?(m=B,w):m},w.on=function(){var B=f.on.apply(f,arguments);return B===f?w:B},w.clickDistance=function(B){return arguments.length?(N=(B=+B)*B,w):Math.sqrt(N)},w.tapDistance=function(B){return arguments.length?(C=+B,w):C},w}const or={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:s,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${e==="source"?s:i}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Lo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ww=["Enter"," ","Escape"],Sw={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:s})=>`Moved selected node ${e}. New position, x: ${r}, y: ${s}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var aa;(function(e){e.Strict="strict",e.Loose="loose"})(aa||(aa={}));var Qs;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Qs||(Qs={}));var Do;(function(e){e.Partial="partial",e.Full="full"})(Do||(Do={}));const Nw={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var vs;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(vs||(vs={}));var lu;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(lu||(lu={}));var Ae;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ae||(Ae={}));const mv={[Ae.Left]:Ae.Right,[Ae.Right]:Ae.Left,[Ae.Top]:Ae.Bottom,[Ae.Bottom]:Ae.Top};function Ew(e){return e===null?null:e?"valid":"invalid"}const Cw=e=>"id"in e&&"source"in e&&"target"in e,Gz=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Ym=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Zo=(e,r=[0,0])=>{const{width:s,height:i}=Ur(e),o=e.origin??r,c=s*o[0],u=i*o[1];return{x:e.position.x-c,y:e.position.y-u}},Vz=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const s=e.reduce((i,o)=>{const c=typeof o=="string";let u=!r.nodeLookup&&!c?o:void 0;r.nodeLookup&&(u=c?r.nodeLookup.get(o):Ym(o)?o:r.nodeLookup.get(o.id));const d=u?cu(u,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return _u(i,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ju(s)},Qo=(e,r={})=>{let s={x:1/0,y:1/0,x2:-1/0,y2:-1/0},i=!1;return e.forEach(o=>{(r.filter===void 0||r.filter(o))&&(s=_u(s,cu(o)),i=!0)}),i?ju(s):{x:0,y:0,width:0,height:0}},Fm=(e,r,[s,i,o]=[0,0,1],c=!1,u=!1)=>{const d={...Ko(r,[s,i,o]),width:r.width/o,height:r.height/o},m=[];for(const f of e.values()){const{measured:p,selectable:x=!0,hidden:y=!1}=f;if(u&&!x||y)continue;const v=p.width??f.width??f.initialWidth??null,S=p.height??f.height??f.initialHeight??null,N=$o(d,la(f)),C=(v??0)*(S??0),w=c&&N>0;(!f.internals.handleBounds||w||N>=C||f.dragging)&&m.push(f)}return m},Pz=(e,r)=>{const s=new Set;return e.forEach(i=>{s.add(i.id)}),r.filter(i=>s.has(i.source)||s.has(i.target))};function Yz(e,r){const s=new Map,i=r?.nodes?new Set(r.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&(r?.includeHiddenNodes||!o.hidden)&&(!i||i.has(o.id))&&s.set(o.id,o)}),s}async function Fz({nodes:e,width:r,height:s,panZoom:i,minZoom:o,maxZoom:c},u){if(e.size===0)return Promise.resolve(!0);const d=Yz(e,u),m=Qo(d),f=Xm(m,r,s,u?.minZoom??o,u?.maxZoom??c,u?.padding??.1);return await i.setViewport(f,{duration:u?.duration,ease:u?.ease,interpolate:u?.interpolate}),Promise.resolve(!0)}function _w({nodeId:e,nextPosition:r,nodeLookup:s,nodeOrigin:i=[0,0],nodeExtent:o,onError:c}){const u=s.get(e),d=u.parentId?s.get(u.parentId):void 0,{x:m,y:f}=d?d.internals.positionAbsolute:{x:0,y:0},p=u.origin??i;let x=u.extent||o;if(u.extent==="parent"&&!u.expandParent)if(!d)c?.("005",or.error005());else{const v=d.measured.width,S=d.measured.height;v&&S&&(x=[[m,f],[m+v,f+S]])}else d&&ca(u.extent)&&(x=[[u.extent[0][0]+m,u.extent[0][1]+f],[u.extent[1][0]+m,u.extent[1][1]+f]]);const y=ca(x)?ti(r,x,u.measured):r;return(u.measured.width===void 0||u.measured.height===void 0)&&c?.("015",or.error015()),{position:{x:y.x-m+(u.measured.width??0)*p[0],y:y.y-f+(u.measured.height??0)*p[1]},positionAbsolute:y}}async function Xz({nodesToRemove:e=[],edgesToRemove:r=[],nodes:s,edges:i,onBeforeDelete:o}){const c=new Set(e.map(y=>y.id)),u=[];for(const y of s){if(y.deletable===!1)continue;const v=c.has(y.id),S=!v&&y.parentId&&u.find(N=>N.id===y.parentId);(v||S)&&u.push(y)}const d=new Set(r.map(y=>y.id)),m=i.filter(y=>y.deletable!==!1),p=Pz(u,m);for(const y of m)d.has(y.id)&&!p.find(S=>S.id===y.id)&&p.push(y);if(!o)return{edges:p,nodes:u};const x=await o({nodes:u,edges:p});return typeof x=="boolean"?x?{edges:p,nodes:u}:{edges:[],nodes:[]}:x}const oa=(e,r=0,s=1)=>Math.min(Math.max(e,r),s),ti=(e={x:0,y:0},r,s)=>({x:oa(e.x,r[0][0],r[1][0]-(s?.width??0)),y:oa(e.y,r[0][1],r[1][1]-(s?.height??0))});function jw(e,r,s){const{width:i,height:o}=Ur(s),{x:c,y:u}=s.internals.positionAbsolute;return ti(e,[[c,u],[c+i,u+o]],r)}const pv=(e,r,s)=>e<r?oa(Math.abs(e-r),1,r)/r:e>s?-oa(Math.abs(e-s),1,r)/r:0,Aw=(e,r,s=15,i=40)=>{const o=pv(e.x,i,r.width-i)*s,c=pv(e.y,i,r.height-i)*s;return[o,c]},_u=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),om=({x:e,y:r,width:s,height:i})=>({x:e,y:r,x2:e+s,y2:r+i}),ju=({x:e,y:r,x2:s,y2:i})=>({x:e,y:r,width:s-e,height:i-r}),la=(e,r=[0,0])=>{const{x:s,y:i}=Ym(e)?e.internals.positionAbsolute:Zo(e,r);return{x:s,y:i,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},cu=(e,r=[0,0])=>{const{x:s,y:i}=Ym(e)?e.internals.positionAbsolute:Zo(e,r);return{x:s,y:i,x2:s+(e.measured?.width??e.width??e.initialWidth??0),y2:i+(e.measured?.height??e.height??e.initialHeight??0)}},Tw=(e,r)=>ju(_u(om(e),om(r))),$o=(e,r)=>{const s=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),i=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(s*i)},gv=e=>Zn(e.width)&&Zn(e.height)&&Zn(e.x)&&Zn(e.y),Zn=e=>!isNaN(e)&&isFinite(e),Zz=(e,r)=>{},Wo=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),Ko=({x:e,y:r},[s,i,o],c=!1,u=[1,1])=>{const d={x:(e-s)/o,y:(r-i)/o};return c?Wo(d,u):d},uu=({x:e,y:r},[s,i,o])=>({x:e*o+s,y:r*o+i});function Pi(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const s=parseFloat(e);if(!Number.isNaN(s))return Math.floor(s)}if(typeof e=="string"&&e.endsWith("%")){const s=parseFloat(e);if(!Number.isNaN(s))return Math.floor(r*s*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Qz(e,r,s){if(typeof e=="string"||typeof e=="number"){const i=Pi(e,s),o=Pi(e,r);return{top:i,right:o,bottom:i,left:o,x:o*2,y:i*2}}if(typeof e=="object"){const i=Pi(e.top??e.y??0,s),o=Pi(e.bottom??e.y??0,s),c=Pi(e.left??e.x??0,r),u=Pi(e.right??e.x??0,r);return{top:i,right:u,bottom:o,left:c,x:c+u,y:i+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Wz(e,r,s,i,o,c){const{x:u,y:d}=uu(e,[r,s,i]),{x:m,y:f}=uu({x:e.x+e.width,y:e.y+e.height},[r,s,i]),p=o-m,x=c-f;return{left:Math.floor(u),top:Math.floor(d),right:Math.floor(p),bottom:Math.floor(x)}}const Xm=(e,r,s,i,o,c)=>{const u=Qz(c,r,s),d=(r-u.x)/e.width,m=(s-u.y)/e.height,f=Math.min(d,m),p=oa(f,i,o),x=e.x+e.width/2,y=e.y+e.height/2,v=r/2-x*p,S=s/2-y*p,N=Wz(e,v,S,p,r,s),C={left:Math.min(N.left-u.left,0),top:Math.min(N.top-u.top,0),right:Math.min(N.right-u.right,0),bottom:Math.min(N.bottom-u.bottom,0)};return{x:v-C.left+C.right,y:S-C.top+C.bottom,zoom:p}},Bo=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ca(e){return e!=null&&e!=="parent"}function Ur(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Mw(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function Rw(e,r={width:0,height:0},s,i,o){const c={...e},u=i.get(s);if(u){const d=u.origin||o;c.x+=u.internals.positionAbsolute.x-(r.width??0)*d[0],c.y+=u.internals.positionAbsolute.y-(r.height??0)*d[1]}return c}function yv(e,r){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}function Kz(){let e,r;return{promise:new Promise((i,o)=>{e=i,r=o}),resolve:e,reject:r}}function Jz(e){return{...Sw,...e||{}}}function Co(e,{snapGrid:r=[0,0],snapToGrid:s=!1,transform:i,containerBounds:o}){const{x:c,y:u}=Qn(e),d=Ko({x:c-(o?.left??0),y:u-(o?.top??0)},i),{x:m,y:f}=s?Wo(d,r):d;return{xSnapped:m,ySnapped:f,...d}}const Zm=e=>({width:e.offsetWidth,height:e.offsetHeight}),kw=e=>e?.getRootNode?.()||window?.document,e5=["INPUT","SELECT","TEXTAREA"];function zw(e){const r=e.composedPath?.()?.[0]||e.target;return r?.nodeType!==1?!1:e5.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const Ow=e=>"clientX"in e,Qn=(e,r)=>{const s=Ow(e),i=s?e.clientX:e.touches?.[0].clientX,o=s?e.clientY:e.touches?.[0].clientY;return{x:i-(r?.left??0),y:o-(r?.top??0)}},xv=(e,r,s,i,o)=>{const c=r.querySelectorAll(`.${e}`);return!c||!c.length?null:Array.from(c).map(u=>{const d=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:e,nodeId:o,position:u.getAttribute("data-handlepos"),x:(d.left-s.left)/i,y:(d.top-s.top)/i,...Zm(u)}})};function Lw({sourceX:e,sourceY:r,targetX:s,targetY:i,sourceControlX:o,sourceControlY:c,targetControlX:u,targetControlY:d}){const m=e*.125+o*.375+u*.375+s*.125,f=r*.125+c*.375+d*.375+i*.125,p=Math.abs(m-e),x=Math.abs(f-r);return[m,f,p,x]}function Tc(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function vv({pos:e,x1:r,y1:s,x2:i,y2:o,c}){switch(e){case Ae.Left:return[r-Tc(r-i,c),s];case Ae.Right:return[r+Tc(i-r,c),s];case Ae.Top:return[r,s-Tc(s-o,c)];case Ae.Bottom:return[r,s+Tc(o-s,c)]}}function Dw({sourceX:e,sourceY:r,sourcePosition:s=Ae.Bottom,targetX:i,targetY:o,targetPosition:c=Ae.Top,curvature:u=.25}){const[d,m]=vv({pos:s,x1:e,y1:r,x2:i,y2:o,c:u}),[f,p]=vv({pos:c,x1:i,y1:o,x2:e,y2:r,c:u}),[x,y,v,S]=Lw({sourceX:e,sourceY:r,targetX:i,targetY:o,sourceControlX:d,sourceControlY:m,targetControlX:f,targetControlY:p});return[`M${e},${r} C${d},${m} ${f},${p} ${i},${o}`,x,y,v,S]}function $w({sourceX:e,sourceY:r,targetX:s,targetY:i}){const o=Math.abs(s-e)/2,c=s<e?s+o:s-o,u=Math.abs(i-r)/2,d=i<r?i+u:i-u;return[c,d,o,u]}function t5({sourceNode:e,targetNode:r,selected:s=!1,zIndex:i=0,elevateOnSelect:o=!1,zIndexMode:c="basic"}){if(c==="manual")return i;const u=o&&s?i+1e3:i,d=Math.max(e.parentId||o&&e.selected?e.internals.z:0,r.parentId||o&&r.selected?r.internals.z:0);return u+d}function n5({sourceNode:e,targetNode:r,width:s,height:i,transform:o}){const c=_u(cu(e),cu(r));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u={x:-o[0]/o[2],y:-o[1]/o[2],width:s/o[2],height:i/o[2]};return $o(u,ju(c))>0}const r5=({source:e,sourceHandle:r,target:s,targetHandle:i})=>`xy-edge__${e}${r||""}-${s}${i||""}`,s5=(e,r)=>r.some(s=>s.source===e.source&&s.target===e.target&&(s.sourceHandle===e.sourceHandle||!s.sourceHandle&&!e.sourceHandle)&&(s.targetHandle===e.targetHandle||!s.targetHandle&&!e.targetHandle)),Bw=(e,r,s={})=>{if(!e.source||!e.target)return r;const i=s.getEdgeId||r5;let o;return Cw(e)?o={...e}:o={...e,id:i(e)},s5(o,r)?r:(o.sourceHandle===null&&delete o.sourceHandle,o.targetHandle===null&&delete o.targetHandle,r.concat(o))};function Hw({sourceX:e,sourceY:r,targetX:s,targetY:i}){const[o,c,u,d]=$w({sourceX:e,sourceY:r,targetX:s,targetY:i});return[`M ${e},${r}L ${s},${i}`,o,c,u,d]}const bv={[Ae.Left]:{x:-1,y:0},[Ae.Right]:{x:1,y:0},[Ae.Top]:{x:0,y:-1},[Ae.Bottom]:{x:0,y:1}},i5=({source:e,sourcePosition:r=Ae.Bottom,target:s})=>r===Ae.Left||r===Ae.Right?e.x<s.x?{x:1,y:0}:{x:-1,y:0}:e.y<s.y?{x:0,y:1}:{x:0,y:-1},wv=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function a5({source:e,sourcePosition:r=Ae.Bottom,target:s,targetPosition:i=Ae.Top,center:o,offset:c,stepPosition:u}){const d=bv[r],m=bv[i],f={x:e.x+d.x*c,y:e.y+d.y*c},p={x:s.x+m.x*c,y:s.y+m.y*c},x=i5({source:f,sourcePosition:r,target:p}),y=x.x!==0?"x":"y",v=x[y];let S=[],N,C;const w={x:0,y:0},_={x:0,y:0},[,,E,R]=$w({sourceX:e.x,sourceY:e.y,targetX:s.x,targetY:s.y});if(d[y]*m[y]===-1){y==="x"?(N=o.x??f.x+(p.x-f.x)*u,C=o.y??(f.y+p.y)/2):(N=o.x??(f.x+p.x)/2,C=o.y??f.y+(p.y-f.y)*u);const T=[{x:N,y:f.y},{x:N,y:p.y}],A=[{x:f.x,y:C},{x:p.x,y:C}];d[y]===v?S=y==="x"?T:A:S=y==="x"?A:T}else{const T=[{x:f.x,y:p.y}],A=[{x:p.x,y:f.y}];if(y==="x"?S=d.x===v?A:T:S=d.y===v?T:A,r===i){const U=Math.abs(e[y]-s[y]);if(U<=c){const V=Math.min(c-1,c-U);d[y]===v?w[y]=(f[y]>e[y]?-1:1)*V:_[y]=(p[y]>s[y]?-1:1)*V}}if(r!==i){const U=y==="x"?"y":"x",V=d[y]===m[U],B=f[U]>p[U],F=f[U]<p[U];(d[y]===1&&(!V&&B||V&&F)||d[y]!==1&&(!V&&F||V&&B))&&(S=y==="x"?T:A)}const z={x:f.x+w.x,y:f.y+w.y},O={x:p.x+_.x,y:p.y+_.y},G=Math.max(Math.abs(z.x-S[0].x),Math.abs(O.x-S[0].x)),P=Math.max(Math.abs(z.y-S[0].y),Math.abs(O.y-S[0].y));G>=P?(N=(z.x+O.x)/2,C=S[0].y):(N=S[0].x,C=(z.y+O.y)/2)}return[[e,{x:f.x+w.x,y:f.y+w.y},...S,{x:p.x+_.x,y:p.y+_.y},s],N,C,E,R]}function o5(e,r,s,i){const o=Math.min(wv(e,r)/2,wv(r,s)/2,i),{x:c,y:u}=r;if(e.x===c&&c===s.x||e.y===u&&u===s.y)return`L${c} ${u}`;if(e.y===u){const f=e.x<s.x?-1:1,p=e.y<s.y?1:-1;return`L ${c+o*f},${u}Q ${c},${u} ${c},${u+o*p}`}const d=e.x<s.x?1:-1,m=e.y<s.y?-1:1;return`L ${c},${u+o*m}Q ${c},${u} ${c+o*d},${u}`}function lm({sourceX:e,sourceY:r,sourcePosition:s=Ae.Bottom,targetX:i,targetY:o,targetPosition:c=Ae.Top,borderRadius:u=5,centerX:d,centerY:m,offset:f=20,stepPosition:p=.5}){const[x,y,v,S,N]=a5({source:{x:e,y:r},sourcePosition:s,target:{x:i,y:o},targetPosition:c,center:{x:d,y:m},offset:f,stepPosition:p});return[x.reduce((w,_,E)=>{let R="";return E>0&&E<x.length-1?R=o5(x[E-1],_,x[E+1],u):R=`${E===0?"M":"L"}${_.x} ${_.y}`,w+=R,w},""),y,v,S,N]}function Sv(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function l5(e){const{sourceNode:r,targetNode:s}=e;if(!Sv(r)||!Sv(s))return null;const i=r.internals.handleBounds||Nv(r.handles),o=s.internals.handleBounds||Nv(s.handles),c=Ev(i?.source??[],e.sourceHandle),u=Ev(e.connectionMode===aa.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!c||!u)return e.onError?.("008",or.error008(c?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=c?.position||Ae.Bottom,m=u?.position||Ae.Top,f=ni(r,c,d),p=ni(s,u,m);return{sourceX:f.x,sourceY:f.y,targetX:p.x,targetY:p.y,sourcePosition:d,targetPosition:m}}function Nv(e){if(!e)return null;const r=[],s=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?r.push(i):i.type==="target"&&s.push(i);return{source:r,target:s}}function ni(e,r,s=Ae.Left,i=!1){const o=(r?.x??0)+e.internals.positionAbsolute.x,c=(r?.y??0)+e.internals.positionAbsolute.y,{width:u,height:d}=r??Ur(e);if(i)return{x:o+u/2,y:c+d/2};switch(r?.position??s){case Ae.Top:return{x:o+u/2,y:c};case Ae.Right:return{x:o+u,y:c+d/2};case Ae.Bottom:return{x:o+u/2,y:c+d};case Ae.Left:return{x:o,y:c+d/2}}}function Ev(e,r){return e&&(r?e.find(s=>s.id===r):e[0])||null}function cm(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function c5(e,{id:r,defaultColor:s,defaultMarkerStart:i,defaultMarkerEnd:o}){const c=new Set;return e.reduce((u,d)=>([d.markerStart||i,d.markerEnd||o].forEach(m=>{if(m&&typeof m=="object"){const f=cm(m,r);c.has(f)||(u.push({id:f,color:m.color||s,...m}),c.add(f))}}),u),[]).sort((u,d)=>u.id.localeCompare(d.id))}const qw=1e3,u5=10,Qm={nodeOrigin:[0,0],nodeExtent:Lo,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},d5={...Qm,checkEquality:!0};function Wm(e,r){const s={...e};for(const i in r)r[i]!==void 0&&(s[i]=r[i]);return s}function f5(e,r,s){const i=Wm(Qm,s);for(const o of e.values())if(o.parentId)Jm(o,e,r,i);else{const c=Zo(o,i.nodeOrigin),u=ca(o.extent)?o.extent:i.nodeExtent,d=ti(c,u,Ur(o));o.internals.positionAbsolute=d}}function h5(e,r){if(!e.handles)return e.measured?r?.internals.handleBounds:void 0;const s=[],i=[];for(const o of e.handles){const c={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?s.push(c):o.type==="target"&&i.push(c)}return{source:s,target:i}}function Km(e){return e==="manual"}function um(e,r,s,i={}){const o=Wm(d5,i),c={i:0},u=new Map(r),d=o?.elevateNodesOnSelect&&!Km(o.zIndexMode)?qw:0;let m=e.length>0;r.clear(),s.clear();for(const f of e){let p=u.get(f.id);if(o.checkEquality&&f===p?.internals.userNode)r.set(f.id,p);else{const x=Zo(f,o.nodeOrigin),y=ca(f.extent)?f.extent:o.nodeExtent,v=ti(x,y,Ur(f));p={...o.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:v,handleBounds:h5(f,p),z:Uw(f,d,o.zIndexMode),userNode:f}},r.set(f.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(m=!1),f.parentId&&Jm(p,r,s,i,c)}return m}function m5(e,r){if(!e.parentId)return;const s=r.get(e.parentId);s?s.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function Jm(e,r,s,i,o){const{elevateNodesOnSelect:c,nodeOrigin:u,nodeExtent:d,zIndexMode:m}=Wm(Qm,i),f=e.parentId,p=r.get(f);if(!p){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}m5(e,s),o&&!p.parentId&&p.internals.rootParentIndex===void 0&&m==="auto"&&(p.internals.rootParentIndex=++o.i,p.internals.z=p.internals.z+o.i*u5),o&&p.internals.rootParentIndex!==void 0&&(o.i=p.internals.rootParentIndex);const x=c&&!Km(m)?qw:0,{x:y,y:v,z:S}=p5(e,p,u,d,x,m),{positionAbsolute:N}=e.internals,C=y!==N.x||v!==N.y;(C||S!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:C?{x:y,y:v}:N,z:S}})}function Uw(e,r,s){const i=Zn(e.zIndex)?e.zIndex:0;return Km(s)?i:i+(e.selected?r:0)}function p5(e,r,s,i,o,c){const{x:u,y:d}=r.internals.positionAbsolute,m=Ur(e),f=Zo(e,s),p=ca(e.extent)?ti(f,e.extent,m):f;let x=ti({x:u+p.x,y:d+p.y},i,m);e.extent==="parent"&&(x=jw(x,m,r));const y=Uw(e,o,c),v=r.internals.z??0;return{x:x.x,y:x.y,z:v>=y?v+1:y}}function ep(e,r,s,i=[0,0]){const o=[],c=new Map;for(const u of e){const d=r.get(u.parentId);if(!d)continue;const m=c.get(u.parentId)?.expandedRect??la(d),f=Tw(m,u.rect);c.set(u.parentId,{expandedRect:f,parent:d})}return c.size>0&&c.forEach(({expandedRect:u,parent:d},m)=>{const f=d.internals.positionAbsolute,p=Ur(d),x=d.origin??i,y=u.x<f.x?Math.round(Math.abs(f.x-u.x)):0,v=u.y<f.y?Math.round(Math.abs(f.y-u.y)):0,S=Math.max(p.width,Math.round(u.width)),N=Math.max(p.height,Math.round(u.height)),C=(S-p.width)*x[0],w=(N-p.height)*x[1];(y>0||v>0||C||w)&&(o.push({id:m,type:"position",position:{x:d.position.x-y+C,y:d.position.y-v+w}}),s.get(m)?.forEach(_=>{e.some(E=>E.id===_.id)||o.push({id:_.id,type:"position",position:{x:_.position.x+y,y:_.position.y+v}})})),(p.width<u.width||p.height<u.height||y||v)&&o.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:S+(y?x[0]*y-C:0),height:N+(v?x[1]*v-w:0)}})}),o}function g5(e,r,s,i,o,c,u){const d=i?.querySelector(".xyflow__viewport");let m=!1;if(!d)return{changes:[],updatedInternals:m};const f=[],p=window.getComputedStyle(d),{m22:x}=new window.DOMMatrixReadOnly(p.transform),y=[];for(const v of e.values()){const S=r.get(v.id);if(!S)continue;if(S.hidden){r.set(S.id,{...S,internals:{...S.internals,handleBounds:void 0}}),m=!0;continue}const N=Zm(v.nodeElement),C=S.measured.width!==N.width||S.measured.height!==N.height;if(!!(N.width&&N.height&&(C||!S.internals.handleBounds||v.force))){const _=v.nodeElement.getBoundingClientRect(),E=ca(S.extent)?S.extent:c;let{positionAbsolute:R}=S.internals;S.parentId&&S.extent==="parent"?R=jw(R,N,r.get(S.parentId)):E&&(R=ti(R,E,N));const M={...S,measured:N,internals:{...S.internals,positionAbsolute:R,handleBounds:{source:xv("source",v.nodeElement,_,x,S.id),target:xv("target",v.nodeElement,_,x,S.id)}}};r.set(S.id,M),S.parentId&&Jm(M,r,s,{nodeOrigin:o,zIndexMode:u}),m=!0,C&&(f.push({id:S.id,type:"dimensions",dimensions:N}),S.expandParent&&S.parentId&&y.push({id:S.id,parentId:S.parentId,rect:la(M,o)}))}}if(y.length>0){const v=ep(y,r,s,o);f.push(...v)}return{changes:f,updatedInternals:m}}async function y5({delta:e,panZoom:r,transform:s,translateExtent:i,width:o,height:c}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const u=await r.setViewportConstrained({x:s[0]+e.x,y:s[1]+e.y,zoom:s[2]},[[0,0],[o,c]],i),d=!!u&&(u.x!==s[0]||u.y!==s[1]||u.k!==s[2]);return Promise.resolve(d)}function Cv(e,r,s,i,o,c){let u=o;const d=i.get(u)||new Map;i.set(u,d.set(s,r)),u=`${o}-${e}`;const m=i.get(u)||new Map;if(i.set(u,m.set(s,r)),c){u=`${o}-${e}-${c}`;const f=i.get(u)||new Map;i.set(u,f.set(s,r))}}function Iw(e,r,s){e.clear(),r.clear();for(const i of s){const{source:o,target:c,sourceHandle:u=null,targetHandle:d=null}=i,m={edgeId:i.id,source:o,target:c,sourceHandle:u,targetHandle:d},f=`${o}-${u}--${c}-${d}`,p=`${c}-${d}--${o}-${u}`;Cv("source",m,p,e,o,u),Cv("target",m,f,e,c,d),r.set(i.id,i)}}function Gw(e,r){if(!e.parentId)return!1;const s=r.get(e.parentId);return s?s.selected?!0:Gw(s,r):!1}function _v(e,r,s){let i=e;do{if(i?.matches?.(r))return!0;if(i===s)return!1;i=i?.parentElement}while(i);return!1}function x5(e,r,s,i){const o=new Map;for(const[c,u]of e)if((u.selected||u.id===i)&&(!u.parentId||!Gw(u,e))&&(u.draggable||r&&typeof u.draggable>"u")){const d=e.get(c);d&&o.set(c,{id:c,position:d.position||{x:0,y:0},distance:{x:s.x-d.internals.positionAbsolute.x,y:s.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return o}function Ah({nodeId:e,dragItems:r,nodeLookup:s,dragging:i=!0}){const o=[];for(const[u,d]of r){const m=s.get(u)?.internals.userNode;m&&o.push({...m,position:d.position,dragging:i})}if(!e)return[o[0],o];const c=s.get(e)?.internals.userNode;return[c?{...c,position:r.get(e)?.position||c.position,dragging:i}:o[0],o]}function v5({dragItems:e,snapGrid:r,x:s,y:i}){const o=e.values().next().value;if(!o)return null;const c={x:s-o.distance.x,y:i-o.distance.y},u=Wo(c,r);return{x:u.x-c.x,y:u.y-c.y}}function b5({onNodeMouseDown:e,getStoreItems:r,onDragStart:s,onDrag:i,onDragStop:o}){let c={x:null,y:null},u=0,d=new Map,m=!1,f={x:0,y:0},p=null,x=!1,y=null,v=!1,S=!1,N=null;function C({noDragClassName:_,handleSelector:E,domNode:R,isSelectable:M,nodeId:T,nodeClickDistance:A=0}){y=wn(R);function z({x:U,y:V}){const{nodeLookup:B,nodeExtent:F,snapGrid:L,snapToGrid:q,nodeOrigin:H,onNodeDrag:Y,onSelectionDrag:Q,onError:$,updateNodePositions:Z}=r();c={x:U,y:V};let ee=!1;const ie=d.size>1,me=ie&&F?om(Qo(d)):null,ye=ie&&q?v5({dragItems:d,snapGrid:L,x:U,y:V}):null;for(const[ge,he]of d){if(!B.has(ge))continue;let ve={x:U-he.distance.x,y:V-he.distance.y};q&&(ve=ye?{x:Math.round(ve.x+ye.x),y:Math.round(ve.y+ye.y)}:Wo(ve,L));let ze=null;if(ie&&F&&!he.extent&&me){const{positionAbsolute:je}=he.internals,De=je.x-me.x+F[0][0],Ze=je.x+he.measured.width-me.x2+F[1][0],Qe=je.y-me.y+F[0][1],St=je.y+he.measured.height-me.y2+F[1][1];ze=[[De,Qe],[Ze,St]]}const{position:Re,positionAbsolute:Ce}=_w({nodeId:ge,nextPosition:ve,nodeLookup:B,nodeExtent:ze||F,nodeOrigin:H,onError:$});ee=ee||he.position.x!==Re.x||he.position.y!==Re.y,he.position=Re,he.internals.positionAbsolute=Ce}if(S=S||ee,!!ee&&(Z(d,!0),N&&(i||Y||!T&&Q))){const[ge,he]=Ah({nodeId:T,dragItems:d,nodeLookup:B});i?.(N,d,ge,he),Y?.(N,ge,he),T||Q?.(N,he)}}async function O(){if(!p)return;const{transform:U,panBy:V,autoPanSpeed:B,autoPanOnNodeDrag:F}=r();if(!F){m=!1,cancelAnimationFrame(u);return}const[L,q]=Aw(f,p,B);(L!==0||q!==0)&&(c.x=(c.x??0)-L/U[2],c.y=(c.y??0)-q/U[2],await V({x:L,y:q})&&z(c)),u=requestAnimationFrame(O)}function G(U){const{nodeLookup:V,multiSelectionActive:B,nodesDraggable:F,transform:L,snapGrid:q,snapToGrid:H,selectNodesOnDrag:Y,onNodeDragStart:Q,onSelectionDragStart:$,unselectNodesAndEdges:Z}=r();x=!0,(!Y||!M)&&!B&&T&&(V.get(T)?.selected||Z()),M&&Y&&T&&e?.(T);const ee=Co(U.sourceEvent,{transform:L,snapGrid:q,snapToGrid:H,containerBounds:p});if(c=ee,d=x5(V,F,ee,T),d.size>0&&(s||Q||!T&&$)){const[ie,me]=Ah({nodeId:T,dragItems:d,nodeLookup:V});s?.(U.sourceEvent,d,ie,me),Q?.(U.sourceEvent,ie,me),T||$?.(U.sourceEvent,me)}}const P=iw().clickDistance(A).on("start",U=>{const{domNode:V,nodeDragThreshold:B,transform:F,snapGrid:L,snapToGrid:q}=r();p=V?.getBoundingClientRect()||null,v=!1,S=!1,N=U.sourceEvent,B===0&&G(U),c=Co(U.sourceEvent,{transform:F,snapGrid:L,snapToGrid:q,containerBounds:p}),f=Qn(U.sourceEvent,p)}).on("drag",U=>{const{autoPanOnNodeDrag:V,transform:B,snapGrid:F,snapToGrid:L,nodeDragThreshold:q,nodeLookup:H}=r(),Y=Co(U.sourceEvent,{transform:B,snapGrid:F,snapToGrid:L,containerBounds:p});if(N=U.sourceEvent,(U.sourceEvent.type==="touchmove"&&U.sourceEvent.touches.length>1||T&&!H.has(T))&&(v=!0),!v){if(!m&&V&&x&&(m=!0,O()),!x){const Q=Qn(U.sourceEvent,p),$=Q.x-f.x,Z=Q.y-f.y;Math.sqrt($*$+Z*Z)>q&&G(U)}(c.x!==Y.xSnapped||c.y!==Y.ySnapped)&&d&&x&&(f=Qn(U.sourceEvent,p),z(Y))}}).on("end",U=>{if(!(!x||v)&&(m=!1,x=!1,cancelAnimationFrame(u),d.size>0)){const{nodeLookup:V,updateNodePositions:B,onNodeDragStop:F,onSelectionDragStop:L}=r();if(S&&(B(d,!1),S=!1),o||F||!T&&L){const[q,H]=Ah({nodeId:T,dragItems:d,nodeLookup:V,dragging:!1});o?.(U.sourceEvent,d,q,H),F?.(U.sourceEvent,q,H),T||L?.(U.sourceEvent,H)}}}).filter(U=>{const V=U.target;return!U.button&&(!_||!_v(V,`.${_}`,R))&&(!E||_v(V,E,R))});y.call(P)}function w(){y?.on(".drag",null)}return{update:C,destroy:w}}function w5(e,r,s){const i=[],o={x:e.x-s,y:e.y-s,width:s*2,height:s*2};for(const c of r.values())$o(o,la(c))>0&&i.push(c);return i}const S5=250;function N5(e,r,s,i){let o=[],c=1/0;const u=w5(e,s,r+S5);for(const d of u){const m=[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]];for(const f of m){if(i.nodeId===f.nodeId&&i.type===f.type&&i.id===f.id)continue;const{x:p,y:x}=ni(d,f,f.position,!0),y=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(x-e.y,2));y>r||(y<c?(o=[{...f,x:p,y:x}],c=y):y===c&&o.push({...f,x:p,y:x}))}}if(!o.length)return null;if(o.length>1){const d=i.type==="source"?"target":"source";return o.find(m=>m.type===d)??o[0]}return o[0]}function Vw(e,r,s,i,o,c=!1){const u=i.get(e);if(!u)return null;const d=o==="strict"?u.internals.handleBounds?.[r]:[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]],m=(s?d?.find(f=>f.id===s):d?.[0])??null;return m&&c?{...m,...ni(u,m,m.position,!0)}:m}function Pw(e,r){return e||(r?.classList.contains("target")?"target":r?.classList.contains("source")?"source":null)}function E5(e,r){let s=null;return r?s=!0:e&&!r&&(s=!1),s}const Yw=()=>!0;function C5(e,{connectionMode:r,connectionRadius:s,handleId:i,nodeId:o,edgeUpdaterType:c,isTarget:u,domNode:d,nodeLookup:m,lib:f,autoPanOnConnect:p,flowId:x,panBy:y,cancelConnection:v,onConnectStart:S,onConnect:N,onConnectEnd:C,isValidConnection:w=Yw,onReconnectEnd:_,updateConnection:E,getTransform:R,getFromHandle:M,autoPanSpeed:T,dragThreshold:A=1,handleDomNode:z}){const O=kw(e.target);let G=0,P;const{x:U,y:V}=Qn(e),B=Pw(c,z),F=d?.getBoundingClientRect();let L=!1;if(!F||!B)return;const q=Vw(o,B,i,m,r);if(!q)return;let H=Qn(e,F),Y=!1,Q=null,$=!1,Z=null;function ee(){if(!p||!F)return;const[Re,Ce]=Aw(H,F,T);y({x:Re,y:Ce}),G=requestAnimationFrame(ee)}const ie={...q,nodeId:o,type:B,position:q.position},me=m.get(o);let ge={inProgress:!0,isValid:null,from:ni(me,ie,Ae.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:me,to:H,toHandle:null,toPosition:mv[ie.position],toNode:null,pointer:H};function he(){L=!0,E(ge),S?.(e,{nodeId:o,handleId:i,handleType:B})}A===0&&he();function ve(Re){if(!L){const{x:St,y:Zt}=Qn(Re),It=St-U,Gt=Zt-V;if(!(It*It+Gt*Gt>A*A))return;he()}if(!M()||!ie){ze(Re);return}const Ce=R();H=Qn(Re,F),P=N5(Ko(H,Ce,!1,[1,1]),s,m,ie),Y||(ee(),Y=!0);const je=Fw(Re,{handle:P,connectionMode:r,fromNodeId:o,fromHandleId:i,fromType:u?"target":"source",isValidConnection:w,doc:O,lib:f,flowId:x,nodeLookup:m});Z=je.handleDomNode,Q=je.connection,$=E5(!!P,je.isValid);const De=m.get(o),Ze=De?ni(De,ie,Ae.Left,!0):ge.from,Qe={...ge,from:Ze,isValid:$,to:je.toHandle&&$?uu({x:je.toHandle.x,y:je.toHandle.y},Ce):H,toHandle:je.toHandle,toPosition:$&&je.toHandle?je.toHandle.position:mv[ie.position],toNode:je.toHandle?m.get(je.toHandle.nodeId):null,pointer:H};E(Qe),ge=Qe}function ze(Re){if(!("touches"in Re&&Re.touches.length>0)){if(L){(P||Z)&&Q&&$&&N?.(Q);const{inProgress:Ce,...je}=ge,De={...je,toPosition:ge.toHandle?ge.toPosition:null};C?.(Re,De),c&&_?.(Re,De)}v(),cancelAnimationFrame(G),Y=!1,$=!1,Q=null,Z=null,O.removeEventListener("mousemove",ve),O.removeEventListener("mouseup",ze),O.removeEventListener("touchmove",ve),O.removeEventListener("touchend",ze)}}O.addEventListener("mousemove",ve),O.addEventListener("mouseup",ze),O.addEventListener("touchmove",ve),O.addEventListener("touchend",ze)}function Fw(e,{handle:r,connectionMode:s,fromNodeId:i,fromHandleId:o,fromType:c,doc:u,lib:d,flowId:m,isValidConnection:f=Yw,nodeLookup:p}){const x=c==="target",y=r?u.querySelector(`.${d}-flow__handle[data-id="${m}-${r?.nodeId}-${r?.id}-${r?.type}"]`):null,{x:v,y:S}=Qn(e),N=u.elementFromPoint(v,S),C=N?.classList.contains(`${d}-flow__handle`)?N:y,w={handleDomNode:C,isValid:!1,connection:null,toHandle:null};if(C){const _=Pw(void 0,C),E=C.getAttribute("data-nodeid"),R=C.getAttribute("data-handleid"),M=C.classList.contains("connectable"),T=C.classList.contains("connectableend");if(!E||!_)return w;const A={source:x?E:i,sourceHandle:x?R:o,target:x?i:E,targetHandle:x?o:R};w.connection=A;const O=M&&T&&(s===aa.Strict?x&&_==="source"||!x&&_==="target":E!==i||R!==o);w.isValid=O&&f(A),w.toHandle=Vw(E,_,R,p,s,!0)}return w}const dm={onPointerDown:C5,isValid:Fw};function _5({domNode:e,panZoom:r,getTransform:s,getViewScale:i}){const o=wn(e);function c({translateExtent:d,width:m,height:f,zoomStep:p=1,pannable:x=!0,zoomable:y=!0,inversePan:v=!1}){const S=E=>{if(E.sourceEvent.type!=="wheel"||!r)return;const R=s(),M=E.sourceEvent.ctrlKey&&Bo()?10:1,T=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*p,A=R[2]*Math.pow(2,T*M);r.scaleTo(A)};let N=[0,0];const C=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(N=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},w=E=>{const R=s();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!r)return;const M=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],T=[M[0]-N[0],M[1]-N[1]];N=M;const A=i()*Math.max(R[2],Math.log(R[2]))*(v?-1:1),z={x:R[0]-T[0]*A,y:R[1]-T[1]*A},O=[[0,0],[m,f]];r.setViewportConstrained({x:z.x,y:z.y,zoom:R[2]},O,d)},_=bw().on("start",C).on("zoom",x?w:null).on("zoom.wheel",y?S:null);o.call(_,{})}function u(){o.on("zoom",null)}return{update:c,destroy:u,pointer:Pn}}const Au=e=>({x:e.x,y:e.y,zoom:e.k}),Th=({x:e,y:r,zoom:s})=>Cu.translate(e,r).scale(s),Fi=(e,r)=>e.target.closest(`.${r}`),Xw=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),j5=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Mh=(e,r=0,s=j5,i=()=>{})=>{const o=typeof r=="number"&&r>0;return o||i(),o?e.transition().duration(r).ease(s).on("end",i):e},Zw=e=>{const r=e.ctrlKey&&Bo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function A5({zoomPanValues:e,noWheelClassName:r,d3Selection:s,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:c,zoomOnPinch:u,onPanZoomStart:d,onPanZoom:m,onPanZoomEnd:f}){return p=>{if(Fi(p,r))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const x=s.property("__zoom").k||1;if(p.ctrlKey&&u){const C=Pn(p),w=Zw(p),_=x*Math.pow(2,w);i.scaleTo(s,_,C,p);return}const y=p.deltaMode===1?20:1;let v=o===Qs.Vertical?0:p.deltaX*y,S=o===Qs.Horizontal?0:p.deltaY*y;!Bo()&&p.shiftKey&&o!==Qs.Vertical&&(v=p.deltaY*y,S=0),i.translateBy(s,-(v/x)*c,-(S/x)*c,{internal:!0});const N=Au(s.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(m?.(p,N),e.panScrollTimeout=setTimeout(()=>{f?.(p,N),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,d?.(p,N))}}function T5({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:s}){return function(i,o){const c=i.type==="wheel",u=!r&&c&&!i.ctrlKey,d=Fi(i,e);if(i.ctrlKey&&c&&d&&i.preventDefault(),u||d)return null;i.preventDefault(),s.call(this,i,o)}}function M5({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:s}){return i=>{if(i.sourceEvent?.internal)return;const o=Au(i.transform);e.mouseButton=i.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,i.sourceEvent?.type==="mousedown"&&r(!0),s&&s?.(i.sourceEvent,o)}}function R5({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:s,onTransformChange:i,onPanZoom:o}){return c=>{e.usedRightMouseButton=!!(s&&Xw(r,e.mouseButton??0)),c.sourceEvent?.sync||i([c.transform.x,c.transform.y,c.transform.k]),o&&!c.sourceEvent?.internal&&o?.(c.sourceEvent,Au(c.transform))}}function k5({zoomPanValues:e,panOnDrag:r,panOnScroll:s,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:c}){return u=>{if(!u.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,c&&Xw(r,e.mouseButton??0)&&!e.usedRightMouseButton&&u.sourceEvent&&c(u.sourceEvent),e.usedRightMouseButton=!1,i(!1),o)){const d=Au(u.transform);e.prevViewport=d,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(u.sourceEvent,d)},s?150:0)}}}function z5({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:s,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:c,userSelectionActive:u,noWheelClassName:d,noPanClassName:m,lib:f,connectionInProgress:p}){return x=>{const y=e||r,v=s&&x.ctrlKey,S=x.type==="wheel";if(x.button===1&&x.type==="mousedown"&&(Fi(x,`${f}-flow__node`)||Fi(x,`${f}-flow__edge`)))return!0;if(!i&&!y&&!o&&!c&&!s||u||p&&!S||Fi(x,d)&&S||Fi(x,m)&&(!S||o&&S&&!e)||!s&&x.ctrlKey&&S)return!1;if(!s&&x.type==="touchstart"&&x.touches?.length>1)return x.preventDefault(),!1;if(!y&&!o&&!v&&S||!i&&(x.type==="mousedown"||x.type==="touchstart")||Array.isArray(i)&&!i.includes(x.button)&&x.type==="mousedown")return!1;const N=Array.isArray(i)&&i.includes(x.button)||!x.button||x.button<=1;return(!x.ctrlKey||S)&&N}}function O5({domNode:e,minZoom:r,maxZoom:s,translateExtent:i,viewport:o,onPanZoom:c,onPanZoomStart:u,onPanZoomEnd:d,onDraggingChange:m}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=e.getBoundingClientRect(),x=bw().scaleExtent([r,s]).translateExtent(i),y=wn(e).call(x);_({x:o.x,y:o.y,zoom:oa(o.zoom,r,s)},[[0,0],[p.width,p.height]],i);const v=y.on("wheel.zoom"),S=y.on("dblclick.zoom");x.wheelDelta(Zw);function N(P,U){return y?new Promise(V=>{x?.interpolate(U?.interpolate==="linear"?Eo:Bc).transform(Mh(y,U?.duration,U?.ease,()=>V(!0)),P)}):Promise.resolve(!1)}function C({noWheelClassName:P,noPanClassName:U,onPaneContextMenu:V,userSelectionActive:B,panOnScroll:F,panOnDrag:L,panOnScrollMode:q,panOnScrollSpeed:H,preventScrolling:Y,zoomOnPinch:Q,zoomOnScroll:$,zoomOnDoubleClick:Z,zoomActivationKeyPressed:ee,lib:ie,onTransformChange:me,connectionInProgress:ye,paneClickDistance:ge,selectionOnDrag:he}){B&&!f.isZoomingOrPanning&&w();const ve=F&&!ee&&!B;x.clickDistance(he?1/0:!Zn(ge)||ge<0?0:ge);const ze=ve?A5({zoomPanValues:f,noWheelClassName:P,d3Selection:y,d3Zoom:x,panOnScrollMode:q,panOnScrollSpeed:H,zoomOnPinch:Q,onPanZoomStart:u,onPanZoom:c,onPanZoomEnd:d}):T5({noWheelClassName:P,preventScrolling:Y,d3ZoomHandler:v});if(y.on("wheel.zoom",ze,{passive:!1}),!B){const Ce=M5({zoomPanValues:f,onDraggingChange:m,onPanZoomStart:u});x.on("start",Ce);const je=R5({zoomPanValues:f,panOnDrag:L,onPaneContextMenu:!!V,onPanZoom:c,onTransformChange:me});x.on("zoom",je);const De=k5({zoomPanValues:f,panOnDrag:L,panOnScroll:F,onPaneContextMenu:V,onPanZoomEnd:d,onDraggingChange:m});x.on("end",De)}const Re=z5({zoomActivationKeyPressed:ee,panOnDrag:L,zoomOnScroll:$,panOnScroll:F,zoomOnDoubleClick:Z,zoomOnPinch:Q,userSelectionActive:B,noPanClassName:U,noWheelClassName:P,lib:ie,connectionInProgress:ye});x.filter(Re),Z?y.on("dblclick.zoom",S):y.on("dblclick.zoom",null)}function w(){x.on("zoom",null)}async function _(P,U,V){const B=Th(P),F=x?.constrain()(B,U,V);return F&&await N(F),new Promise(L=>L(F))}async function E(P,U){const V=Th(P);return await N(V,U),new Promise(B=>B(V))}function R(P){if(y){const U=Th(P),V=y.property("__zoom");(V.k!==P.zoom||V.x!==P.x||V.y!==P.y)&&x?.transform(y,U,null,{sync:!0})}}function M(){const P=y?vw(y.node()):{x:0,y:0,k:1};return{x:P.x,y:P.y,zoom:P.k}}function T(P,U){return y?new Promise(V=>{x?.interpolate(U?.interpolate==="linear"?Eo:Bc).scaleTo(Mh(y,U?.duration,U?.ease,()=>V(!0)),P)}):Promise.resolve(!1)}function A(P,U){return y?new Promise(V=>{x?.interpolate(U?.interpolate==="linear"?Eo:Bc).scaleBy(Mh(y,U?.duration,U?.ease,()=>V(!0)),P)}):Promise.resolve(!1)}function z(P){x?.scaleExtent(P)}function O(P){x?.translateExtent(P)}function G(P){const U=!Zn(P)||P<0?0:P;x?.clickDistance(U)}return{update:C,destroy:w,setViewport:E,setViewportConstrained:_,getViewport:M,scaleTo:T,scaleBy:A,setScaleExtent:z,setTranslateExtent:O,syncViewport:R,setClickDistance:G}}var ua;(function(e){e.Line="line",e.Handle="handle"})(ua||(ua={}));function L5({width:e,prevWidth:r,height:s,prevHeight:i,affectsX:o,affectsY:c}){const u=e-r,d=s-i,m=[u>0?1:u<0?-1:0,d>0?1:d<0?-1:0];return u&&o&&(m[0]=m[0]*-1),d&&c&&(m[1]=m[1]*-1),m}function jv(e){const r=e.includes("right")||e.includes("left"),s=e.includes("bottom")||e.includes("top"),i=e.includes("left"),o=e.includes("top");return{isHorizontal:r,isVertical:s,affectsX:i,affectsY:o}}function ys(e,r){return Math.max(0,r-e)}function xs(e,r){return Math.max(0,e-r)}function Mc(e,r,s){return Math.max(0,r-e,e-s)}function Av(e,r){return e?!r:r}function D5(e,r,s,i,o,c,u,d){let{affectsX:m,affectsY:f}=r;const{isHorizontal:p,isVertical:x}=r,y=p&&x,{xSnapped:v,ySnapped:S}=s,{minWidth:N,maxWidth:C,minHeight:w,maxHeight:_}=i,{x:E,y:R,width:M,height:T,aspectRatio:A}=e;let z=Math.floor(p?v-e.pointerX:0),O=Math.floor(x?S-e.pointerY:0);const G=M+(m?-z:z),P=T+(f?-O:O),U=-c[0]*M,V=-c[1]*T;let B=Mc(G,N,C),F=Mc(P,w,_);if(u){let H=0,Y=0;m&&z<0?H=ys(E+z+U,u[0][0]):!m&&z>0&&(H=xs(E+G+U,u[1][0])),f&&O<0?Y=ys(R+O+V,u[0][1]):!f&&O>0&&(Y=xs(R+P+V,u[1][1])),B=Math.max(B,H),F=Math.max(F,Y)}if(d){let H=0,Y=0;m&&z>0?H=xs(E+z,d[0][0]):!m&&z<0&&(H=ys(E+G,d[1][0])),f&&O>0?Y=xs(R+O,d[0][1]):!f&&O<0&&(Y=ys(R+P,d[1][1])),B=Math.max(B,H),F=Math.max(F,Y)}if(o){if(p){const H=Mc(G/A,w,_)*A;if(B=Math.max(B,H),u){let Y=0;!m&&!f||m&&!f&&y?Y=xs(R+V+G/A,u[1][1])*A:Y=ys(R+V+(m?z:-z)/A,u[0][1])*A,B=Math.max(B,Y)}if(d){let Y=0;!m&&!f||m&&!f&&y?Y=ys(R+G/A,d[1][1])*A:Y=xs(R+(m?z:-z)/A,d[0][1])*A,B=Math.max(B,Y)}}if(x){const H=Mc(P*A,N,C)/A;if(F=Math.max(F,H),u){let Y=0;!m&&!f||f&&!m&&y?Y=xs(E+P*A+U,u[1][0])/A:Y=ys(E+(f?O:-O)*A+U,u[0][0])/A,F=Math.max(F,Y)}if(d){let Y=0;!m&&!f||f&&!m&&y?Y=ys(E+P*A,d[1][0])/A:Y=xs(E+(f?O:-O)*A,d[0][0])/A,F=Math.max(F,Y)}}}O=O+(O<0?F:-F),z=z+(z<0?B:-B),o&&(y?G>P*A?O=(Av(m,f)?-z:z)/A:z=(Av(m,f)?-O:O)*A:p?(O=z/A,f=m):(z=O*A,m=f));const L=m?E+z:E,q=f?R+O:R;return{width:M+(m?-z:z),height:T+(f?-O:O),x:c[0]*z*(m?-1:1)+L,y:c[1]*O*(f?-1:1)+q}}const Qw={width:0,height:0,x:0,y:0},$5={...Qw,pointerX:0,pointerY:0,aspectRatio:1};function B5(e){return[[0,0],[e.measured.width,e.measured.height]]}function H5(e,r,s){const i=r.position.x+e.position.x,o=r.position.y+e.position.y,c=e.measured.width??0,u=e.measured.height??0,d=s[0]*c,m=s[1]*u;return[[i-d,o-m],[i+c-d,o+u-m]]}function q5({domNode:e,nodeId:r,getStoreItems:s,onChange:i,onEnd:o}){const c=wn(e);let u={controlDirection:jv("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function d({controlPosition:f,boundaries:p,keepAspectRatio:x,resizeDirection:y,onResizeStart:v,onResize:S,onResizeEnd:N,shouldResize:C}){let w={...Qw},_={...$5};u={boundaries:p,resizeDirection:y,keepAspectRatio:x,controlDirection:jv(f)};let E,R=null,M=[],T,A,z,O=!1;const G=iw().on("start",P=>{const{nodeLookup:U,transform:V,snapGrid:B,snapToGrid:F,nodeOrigin:L,paneDomNode:q}=s();if(E=U.get(r),!E)return;R=q?.getBoundingClientRect()??null;const{xSnapped:H,ySnapped:Y}=Co(P.sourceEvent,{transform:V,snapGrid:B,snapToGrid:F,containerBounds:R});w={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},_={...w,pointerX:H,pointerY:Y,aspectRatio:w.width/w.height},T=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(T=U.get(E.parentId),A=T&&E.extent==="parent"?B5(T):void 0),M=[],z=void 0;for(const[Q,$]of U)if($.parentId===r&&(M.push({id:Q,position:{...$.position},extent:$.extent}),$.extent==="parent"||$.expandParent)){const Z=H5($,E,$.origin??L);z?z=[[Math.min(Z[0][0],z[0][0]),Math.min(Z[0][1],z[0][1])],[Math.max(Z[1][0],z[1][0]),Math.max(Z[1][1],z[1][1])]]:z=Z}v?.(P,{...w})}).on("drag",P=>{const{transform:U,snapGrid:V,snapToGrid:B,nodeOrigin:F}=s(),L=Co(P.sourceEvent,{transform:U,snapGrid:V,snapToGrid:B,containerBounds:R}),q=[];if(!E)return;const{x:H,y:Y,width:Q,height:$}=w,Z={},ee=E.origin??F,{width:ie,height:me,x:ye,y:ge}=D5(_,u.controlDirection,L,u.boundaries,u.keepAspectRatio,ee,A,z),he=ie!==Q,ve=me!==$,ze=ye!==H&&he,Re=ge!==Y&&ve;if(!ze&&!Re&&!he&&!ve)return;if((ze||Re||ee[0]===1||ee[1]===1)&&(Z.x=ze?ye:w.x,Z.y=Re?ge:w.y,w.x=Z.x,w.y=Z.y,M.length>0)){const Ze=ye-H,Qe=ge-Y;for(const St of M)St.position={x:St.position.x-Ze+ee[0]*(ie-Q),y:St.position.y-Qe+ee[1]*(me-$)},q.push(St)}if((he||ve)&&(Z.width=he&&(!u.resizeDirection||u.resizeDirection==="horizontal")?ie:w.width,Z.height=ve&&(!u.resizeDirection||u.resizeDirection==="vertical")?me:w.height,w.width=Z.width,w.height=Z.height),T&&E.expandParent){const Ze=ee[0]*(Z.width??0);Z.x&&Z.x<Ze&&(w.x=Ze,_.x=_.x-(Z.x-Ze));const Qe=ee[1]*(Z.height??0);Z.y&&Z.y<Qe&&(w.y=Qe,_.y=_.y-(Z.y-Qe))}const Ce=L5({width:w.width,prevWidth:Q,height:w.height,prevHeight:$,affectsX:u.controlDirection.affectsX,affectsY:u.controlDirection.affectsY}),je={...w,direction:Ce};C?.(P,je)!==!1&&(O=!0,S?.(P,je),i(Z,q))}).on("end",P=>{O&&(N?.(P,{...w}),o?.({...w}),O=!1)});c.call(G)}function m(){c.on(".drag",null)}return{update:d,destroy:m}}const{useDebugValue:U5}=sr,{useSyncExternalStoreWithSelector:I5}=xb,G5=e=>e;function Ww(e,r=G5,s){const i=I5(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,s);return U5(i),i}const Tv=(e,r)=>{const s=yb(e),i=(o,c=r)=>Ww(s,o,c);return Object.assign(i,s),i},V5=(e,r)=>e?Tv(e,r):Tv;function bt(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[i,o]of e)if(!Object.is(o,r.get(i)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const i of e)if(!r.has(i))return!1;return!0}const s=Object.keys(e);if(s.length!==Object.keys(r).length)return!1;for(const i of s)if(!Object.prototype.hasOwnProperty.call(r,i)||!Object.is(e[i],r[i]))return!1;return!0}const Tu=j.createContext(null),P5=Tu.Provider,Kw=or.error001();function We(e,r){const s=j.useContext(Tu);if(s===null)throw new Error(Kw);return Ww(s,e,r)}function wt(){const e=j.useContext(Tu);if(e===null)throw new Error(Kw);return j.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Mv={display:"none"},Y5={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Jw="react-flow__node-desc",eS="react-flow__edge-desc",F5="react-flow__aria-live",X5=e=>e.ariaLiveMessage,Z5=e=>e.ariaLabelConfig;function Q5({rfId:e}){const r=We(X5);return h.jsx("div",{id:`${F5}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Y5,children:r})}function W5({rfId:e,disableKeyboardA11y:r}){const s=We(Z5);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${Jw}-${e}`,style:Mv,children:r?s["node.a11yDescription.default"]:s["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${eS}-${e}`,style:Mv,children:s["edge.a11yDescription.default"]}),!r&&h.jsx(Q5,{rfId:e})]})}const Mu=j.forwardRef(({position:e="top-left",children:r,className:s,style:i,...o},c)=>{const u=`${e}`.split("-");return h.jsx("div",{className:Dt(["react-flow__panel",s,...u]),style:i,ref:c,...o,children:r})});Mu.displayName="Panel";function K5({proOptions:e,position:r="bottom-right"}){return e?.hideAttribution?null:h.jsx(Mu,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const J5=e=>{const r=[],s=[];for(const[,i]of e.nodeLookup)i.selected&&r.push(i.internals.userNode);for(const[,i]of e.edgeLookup)i.selected&&s.push(i);return{selectedNodes:r,selectedEdges:s}},Rc=e=>e.id;function eO(e,r){return bt(e.selectedNodes.map(Rc),r.selectedNodes.map(Rc))&&bt(e.selectedEdges.map(Rc),r.selectedEdges.map(Rc))}function tO({onSelectionChange:e}){const r=wt(),{selectedNodes:s,selectedEdges:i}=We(J5,eO);return j.useEffect(()=>{const o={nodes:s,edges:i};e?.(o),r.getState().onSelectionChangeHandlers.forEach(c=>c(o))},[s,i,e]),null}const nO=e=>!!e.onSelectionChangeHandlers;function rO({onSelectionChange:e}){const r=We(nO);return e||r?h.jsx(tO,{onSelectionChange:e}):null}const tS=[0,0],sO={x:0,y:0,zoom:1},iO=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Rv=[...iO,"rfId"],aO=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),kv={translateExtent:Lo,nodeOrigin:tS,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function oO(e){const{setNodes:r,setEdges:s,setMinZoom:i,setMaxZoom:o,setTranslateExtent:c,setNodeExtent:u,reset:d,setDefaultNodesAndEdges:m}=We(aO,bt),f=wt();j.useEffect(()=>(m(e.defaultNodes,e.defaultEdges),()=>{p.current=kv,d()}),[]);const p=j.useRef(kv);return j.useEffect(()=>{for(const x of Rv){const y=e[x],v=p.current[x];y!==v&&(typeof e[x]>"u"||(x==="nodes"?r(y):x==="edges"?s(y):x==="minZoom"?i(y):x==="maxZoom"?o(y):x==="translateExtent"?c(y):x==="nodeExtent"?u(y):x==="ariaLabelConfig"?f.setState({ariaLabelConfig:Jz(y)}):x==="fitView"?f.setState({fitViewQueued:y}):x==="fitViewOptions"?f.setState({fitViewOptions:y}):f.setState({[x]:y})))}p.current=e},Rv.map(x=>e[x])),null}function zv(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function lO(e){const[r,s]=j.useState(e==="system"?null:e);return j.useEffect(()=>{if(e!=="system"){s(e);return}const i=zv(),o=()=>s(i?.matches?"dark":"light");return o(),i?.addEventListener("change",o),()=>{i?.removeEventListener("change",o)}},[e]),r!==null?r:zv()?.matches?"dark":"light"}const Ov=typeof document<"u"?document:null;function Ho(e=null,r={target:Ov,actInsideInputWithModifier:!0}){const[s,i]=j.useState(!1),o=j.useRef(!1),c=j.useRef(new Set([])),[u,d]=j.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(x=>typeof x=="string").map(x=>x.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=f.reduce((x,y)=>x.concat(...y),[]);return[f,p]}return[[],[]]},[e]);return j.useEffect(()=>{const m=r?.target??Ov,f=r?.actInsideInputWithModifier??!0;if(e!==null){const p=v=>{if(o.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!o.current||o.current&&!f)&&zw(v))return!1;const N=Dv(v.code,d);if(c.current.add(v[N]),Lv(u,c.current,!1)){const C=v.composedPath?.()?.[0]||v.target,w=C?.nodeName==="BUTTON"||C?.nodeName==="A";r.preventDefault!==!1&&(o.current||!w)&&v.preventDefault(),i(!0)}},x=v=>{const S=Dv(v.code,d);Lv(u,c.current,!0)?(i(!1),c.current.clear()):c.current.delete(v[S]),v.key==="Meta"&&c.current.clear(),o.current=!1},y=()=>{c.current.clear(),i(!1)};return m?.addEventListener("keydown",p),m?.addEventListener("keyup",x),window.addEventListener("blur",y),window.addEventListener("contextmenu",y),()=>{m?.removeEventListener("keydown",p),m?.removeEventListener("keyup",x),window.removeEventListener("blur",y),window.removeEventListener("contextmenu",y)}}},[e,i]),s}function Lv(e,r,s){return e.filter(i=>s||i.length===r.size).some(i=>i.every(o=>r.has(o)))}function Dv(e,r){return r.includes(e)?"code":"key"}const cO=()=>{const e=wt();return j.useMemo(()=>({zoomIn:r=>{const{panZoom:s}=e.getState();return s?s.scaleBy(1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:s}=e.getState();return s?s.scaleBy(1/1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomTo:(r,s)=>{const{panZoom:i}=e.getState();return i?i.scaleTo(r,{duration:s?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,s)=>{const{transform:[i,o,c],panZoom:u}=e.getState();return u?(await u.setViewport({x:r.x??i,y:r.y??o,zoom:r.zoom??c},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,s,i]=e.getState().transform;return{x:r,y:s,zoom:i}},setCenter:async(r,s,i)=>e.getState().setCenter(r,s,i),fitBounds:async(r,s)=>{const{width:i,height:o,minZoom:c,maxZoom:u,panZoom:d}=e.getState(),m=Xm(r,i,o,c,u,s?.padding??.1);return d?(await d.setViewport(m,{duration:s?.duration,ease:s?.ease,interpolate:s?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,s={})=>{const{transform:i,snapGrid:o,snapToGrid:c,domNode:u}=e.getState();if(!u)return r;const{x:d,y:m}=u.getBoundingClientRect(),f={x:r.x-d,y:r.y-m},p=s.snapGrid??o,x=s.snapToGrid??c;return Ko(f,i,x,p)},flowToScreenPosition:r=>{const{transform:s,domNode:i}=e.getState();if(!i)return r;const{x:o,y:c}=i.getBoundingClientRect(),u=uu(r,s);return{x:u.x+o,y:u.y+c}}}),[])};function nS(e,r){const s=[],i=new Map,o=[];for(const c of e)if(c.type==="add"){o.push(c);continue}else if(c.type==="remove"||c.type==="replace")i.set(c.id,[c]);else{const u=i.get(c.id);u?u.push(c):i.set(c.id,[c])}for(const c of r){const u=i.get(c.id);if(!u){s.push(c);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){s.push({...u[0].item});continue}const d={...c};for(const m of u)uO(m,d);s.push(d)}return o.length&&o.forEach(c=>{c.index!==void 0?s.splice(c.index,0,{...c.item}):s.push({...c.item})}),s}function uO(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function rS(e,r){return nS(e,r)}function sS(e,r){return nS(e,r)}function Vs(e,r){return{id:e,type:"select",selected:r}}function Xi(e,r=new Set,s=!1){const i=[];for(const[o,c]of e){const u=r.has(o);!(c.selected===void 0&&!u)&&c.selected!==u&&(s&&(c.selected=u),i.push(Vs(c.id,u)))}return i}function $v({items:e=[],lookup:r}){const s=[],i=new Map(e.map(o=>[o.id,o]));for(const[o,c]of e.entries()){const u=r.get(c.id),d=u?.internals?.userNode??u;d!==void 0&&d!==c&&s.push({id:c.id,item:c,type:"replace"}),d===void 0&&s.push({item:c,type:"add",index:o})}for(const[o]of r)i.get(o)===void 0&&s.push({id:o,type:"remove"});return s}function Bv(e){return{id:e.id,type:"remove"}}const Hv=e=>Gz(e),dO=e=>Cw(e);function iS(e){return j.forwardRef(e)}const fO=typeof window<"u"?j.useLayoutEffect:j.useEffect;function qv(e){const[r,s]=j.useState(BigInt(0)),[i]=j.useState(()=>hO(()=>s(o=>o+BigInt(1))));return fO(()=>{const o=i.get();o.length&&(e(o),i.reset())},[r]),i}function hO(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:s=>{r.push(s),e()}}}const aS=j.createContext(null);function mO({children:e}){const r=wt(),s=j.useCallback(d=>{const{nodes:m=[],setNodes:f,hasDefaultNodes:p,onNodesChange:x,nodeLookup:y,fitViewQueued:v,onNodesChangeMiddlewareMap:S}=r.getState();let N=m;for(const w of d)N=typeof w=="function"?w(N):w;let C=$v({items:N,lookup:y});for(const w of S.values())C=w(C);p&&f(N),C.length>0?x?.(C):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:w,nodes:_,setNodes:E}=r.getState();w&&E(_)})},[]),i=qv(s),o=j.useCallback(d=>{const{edges:m=[],setEdges:f,hasDefaultEdges:p,onEdgesChange:x,edgeLookup:y}=r.getState();let v=m;for(const S of d)v=typeof S=="function"?S(v):S;p?f(v):x&&x($v({items:v,lookup:y}))},[]),c=qv(o),u=j.useMemo(()=>({nodeQueue:i,edgeQueue:c}),[]);return h.jsx(aS.Provider,{value:u,children:e})}function pO(){const e=j.useContext(aS);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const gO=e=>!!e.panZoom;function tp(){const e=cO(),r=wt(),s=pO(),i=We(gO),o=j.useMemo(()=>{const c=x=>r.getState().nodeLookup.get(x),u=x=>{s.nodeQueue.push(x)},d=x=>{s.edgeQueue.push(x)},m=x=>{const{nodeLookup:y,nodeOrigin:v}=r.getState(),S=Hv(x)?x:y.get(x.id),N=S.parentId?Rw(S.position,S.measured,S.parentId,y,v):S.position,C={...S,position:N,width:S.measured?.width??S.width,height:S.measured?.height??S.height};return la(C)},f=(x,y,v={replace:!1})=>{u(S=>S.map(N=>{if(N.id===x){const C=typeof y=="function"?y(N):y;return v.replace&&Hv(C)?C:{...N,...C}}return N}))},p=(x,y,v={replace:!1})=>{d(S=>S.map(N=>{if(N.id===x){const C=typeof y=="function"?y(N):y;return v.replace&&dO(C)?C:{...N,...C}}return N}))};return{getNodes:()=>r.getState().nodes.map(x=>({...x})),getNode:x=>c(x)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:x=[]}=r.getState();return x.map(y=>({...y}))},getEdge:x=>r.getState().edgeLookup.get(x),setNodes:u,setEdges:d,addNodes:x=>{const y=Array.isArray(x)?x:[x];s.nodeQueue.push(v=>[...v,...y])},addEdges:x=>{const y=Array.isArray(x)?x:[x];s.edgeQueue.push(v=>[...v,...y])},toObject:()=>{const{nodes:x=[],edges:y=[],transform:v}=r.getState(),[S,N,C]=v;return{nodes:x.map(w=>({...w})),edges:y.map(w=>({...w})),viewport:{x:S,y:N,zoom:C}}},deleteElements:async({nodes:x=[],edges:y=[]})=>{const{nodes:v,edges:S,onNodesDelete:N,onEdgesDelete:C,triggerNodeChanges:w,triggerEdgeChanges:_,onDelete:E,onBeforeDelete:R}=r.getState(),{nodes:M,edges:T}=await Xz({nodesToRemove:x,edgesToRemove:y,nodes:v,edges:S,onBeforeDelete:R}),A=T.length>0,z=M.length>0;if(A){const O=T.map(Bv);C?.(T),_(O)}if(z){const O=M.map(Bv);N?.(M),w(O)}return(z||A)&&E?.({nodes:M,edges:T}),{deletedNodes:M,deletedEdges:T}},getIntersectingNodes:(x,y=!0,v)=>{const S=gv(x),N=S?x:m(x),C=v!==void 0;return N?(v||r.getState().nodes).filter(w=>{const _=r.getState().nodeLookup.get(w.id);if(_&&!S&&(w.id===x.id||!_.internals.positionAbsolute))return!1;const E=la(C?w:_),R=$o(E,N);return y&&R>0||R>=E.width*E.height||R>=N.width*N.height}):[]},isNodeIntersecting:(x,y,v=!0)=>{const N=gv(x)?x:m(x);if(!N)return!1;const C=$o(N,y);return v&&C>0||C>=y.width*y.height||C>=N.width*N.height},updateNode:f,updateNodeData:(x,y,v={replace:!1})=>{f(x,S=>{const N=typeof y=="function"?y(S):y;return v.replace?{...S,data:N}:{...S,data:{...S.data,...N}}},v)},updateEdge:p,updateEdgeData:(x,y,v={replace:!1})=>{p(x,S=>{const N=typeof y=="function"?y(S):y;return v.replace?{...S,data:N}:{...S,data:{...S.data,...N}}},v)},getNodesBounds:x=>{const{nodeLookup:y,nodeOrigin:v}=r.getState();return Vz(x,{nodeLookup:y,nodeOrigin:v})},getHandleConnections:({type:x,id:y,nodeId:v})=>Array.from(r.getState().connectionLookup.get(`${v}-${x}${y?`-${y}`:""}`)?.values()??[]),getNodeConnections:({type:x,handleId:y,nodeId:v})=>Array.from(r.getState().connectionLookup.get(`${v}${x?y?`-${x}-${y}`:`-${x}`:""}`)?.values()??[]),fitView:async x=>{const y=r.getState().fitViewResolver??Kz();return r.setState({fitViewQueued:!0,fitViewOptions:x,fitViewResolver:y}),s.nodeQueue.push(v=>[...v]),y.promise}}},[]);return j.useMemo(()=>({...o,...e,viewportInitialized:i}),[i])}const Uv=e=>e.selected,yO=typeof window<"u"?window:void 0;function xO({deleteKeyCode:e,multiSelectionKeyCode:r}){const s=wt(),{deleteElements:i}=tp(),o=Ho(e,{actInsideInputWithModifier:!1}),c=Ho(r,{target:yO});j.useEffect(()=>{if(o){const{edges:u,nodes:d}=s.getState();i({nodes:d.filter(Uv),edges:u.filter(Uv)}),s.setState({nodesSelectionActive:!1})}},[o]),j.useEffect(()=>{s.setState({multiSelectionActive:c})},[c])}function vO(e){const r=wt();j.useEffect(()=>{const s=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const i=Zm(e.current);(i.height===0||i.width===0)&&r.getState().onError?.("004",or.error004()),r.setState({width:i.width||500,height:i.height||500})};if(e.current){s(),window.addEventListener("resize",s);const i=new ResizeObserver(()=>s());return i.observe(e.current),()=>{window.removeEventListener("resize",s),i&&e.current&&i.unobserve(e.current)}}},[])}const Ru={position:"absolute",width:"100%",height:"100%",top:0,left:0},bO=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function wO({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:o=.5,panOnScrollMode:c=Qs.Free,zoomOnDoubleClick:u=!0,panOnDrag:d=!0,defaultViewport:m,translateExtent:f,minZoom:p,maxZoom:x,zoomActivationKeyCode:y,preventScrolling:v=!0,children:S,noWheelClassName:N,noPanClassName:C,onViewportChange:w,isControlledViewport:_,paneClickDistance:E,selectionOnDrag:R}){const M=wt(),T=j.useRef(null),{userSelectionActive:A,lib:z,connectionInProgress:O}=We(bO,bt),G=Ho(y),P=j.useRef();vO(T);const U=j.useCallback(V=>{w?.({x:V[0],y:V[1],zoom:V[2]}),_||M.setState({transform:V})},[w,_]);return j.useEffect(()=>{if(T.current){P.current=O5({domNode:T.current,minZoom:p,maxZoom:x,translateExtent:f,viewport:m,onDraggingChange:L=>M.setState({paneDragging:L}),onPanZoomStart:(L,q)=>{const{onViewportChangeStart:H,onMoveStart:Y}=M.getState();Y?.(L,q),H?.(q)},onPanZoom:(L,q)=>{const{onViewportChange:H,onMove:Y}=M.getState();Y?.(L,q),H?.(q)},onPanZoomEnd:(L,q)=>{const{onViewportChangeEnd:H,onMoveEnd:Y}=M.getState();Y?.(L,q),H?.(q)}});const{x:V,y:B,zoom:F}=P.current.getViewport();return M.setState({panZoom:P.current,transform:[V,B,F],domNode:T.current.closest(".react-flow")}),()=>{P.current?.destroy()}}},[]),j.useEffect(()=>{P.current?.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:s,panOnScroll:i,panOnScrollSpeed:o,panOnScrollMode:c,zoomOnDoubleClick:u,panOnDrag:d,zoomActivationKeyPressed:G,preventScrolling:v,noPanClassName:C,userSelectionActive:A,noWheelClassName:N,lib:z,onTransformChange:U,connectionInProgress:O,selectionOnDrag:R,paneClickDistance:E})},[e,r,s,i,o,c,u,d,G,v,C,A,N,z,U,O,R,E]),h.jsx("div",{className:"react-flow__renderer",ref:T,style:Ru,children:S})}const SO=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function NO(){const{userSelectionActive:e,userSelectionRect:r}=We(SO,bt);return e&&r?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const Rh=(e,r)=>s=>{s.target===r.current&&e?.(s)},EO=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function CO({isSelecting:e,selectionKeyPressed:r,selectionMode:s=Do.Full,panOnDrag:i,paneClickDistance:o,selectionOnDrag:c,onSelectionStart:u,onSelectionEnd:d,onPaneClick:m,onPaneContextMenu:f,onPaneScroll:p,onPaneMouseEnter:x,onPaneMouseMove:y,onPaneMouseLeave:v,children:S}){const N=wt(),{userSelectionActive:C,elementsSelectable:w,dragging:_,connectionInProgress:E}=We(EO,bt),R=w&&(e||C),M=j.useRef(null),T=j.useRef(),A=j.useRef(new Set),z=j.useRef(new Set),O=j.useRef(!1),G=H=>{if(O.current||E){O.current=!1;return}m?.(H),N.getState().resetSelectedElements(),N.setState({nodesSelectionActive:!1})},P=H=>{if(Array.isArray(i)&&i?.includes(2)){H.preventDefault();return}f?.(H)},U=p?H=>p(H):void 0,V=H=>{O.current&&(H.stopPropagation(),O.current=!1)},B=H=>{const{domNode:Y}=N.getState();if(T.current=Y?.getBoundingClientRect(),!T.current)return;const Q=H.target===M.current;if(!Q&&!!H.target.closest(".nokey")||!e||!(c&&Q||r)||H.button!==0||!H.isPrimary)return;H.target?.setPointerCapture?.(H.pointerId),O.current=!1;const{x:ee,y:ie}=Qn(H.nativeEvent,T.current);N.setState({userSelectionRect:{width:0,height:0,startX:ee,startY:ie,x:ee,y:ie}}),Q||(H.stopPropagation(),H.preventDefault())},F=H=>{const{userSelectionRect:Y,transform:Q,nodeLookup:$,edgeLookup:Z,connectionLookup:ee,triggerNodeChanges:ie,triggerEdgeChanges:me,defaultEdgeOptions:ye,resetSelectedElements:ge}=N.getState();if(!T.current||!Y)return;const{x:he,y:ve}=Qn(H.nativeEvent,T.current),{startX:ze,startY:Re}=Y;if(!O.current){const Qe=r?0:o;if(Math.hypot(he-ze,ve-Re)<=Qe)return;ge(),u?.(H)}O.current=!0;const Ce={startX:ze,startY:Re,x:he<ze?he:ze,y:ve<Re?ve:Re,width:Math.abs(he-ze),height:Math.abs(ve-Re)},je=A.current,De=z.current;A.current=new Set(Fm($,Ce,Q,s===Do.Partial,!0).map(Qe=>Qe.id)),z.current=new Set;const Ze=ye?.selectable??!0;for(const Qe of A.current){const St=ee.get(Qe);if(St)for(const{edgeId:Zt}of St.values()){const It=Z.get(Zt);It&&(It.selectable??Ze)&&z.current.add(Zt)}}if(!yv(je,A.current)){const Qe=Xi($,A.current,!0);ie(Qe)}if(!yv(De,z.current)){const Qe=Xi(Z,z.current);me(Qe)}N.setState({userSelectionRect:Ce,userSelectionActive:!0,nodesSelectionActive:!1})},L=H=>{H.button===0&&(H.target?.releasePointerCapture?.(H.pointerId),!C&&H.target===M.current&&N.getState().userSelectionRect&&G?.(H),N.setState({userSelectionActive:!1,userSelectionRect:null}),O.current&&(d?.(H),N.setState({nodesSelectionActive:A.current.size>0})))},q=i===!0||Array.isArray(i)&&i.includes(0);return h.jsxs("div",{className:Dt(["react-flow__pane",{draggable:q,dragging:_,selection:e}]),onClick:R?void 0:Rh(G,M),onContextMenu:Rh(P,M),onWheel:Rh(U,M),onPointerEnter:R?void 0:x,onPointerMove:R?F:y,onPointerUp:R?L:void 0,onPointerDownCapture:R?B:void 0,onClickCapture:R?V:void 0,onPointerLeave:v,ref:M,style:Ru,children:[S,h.jsx(NO,{})]})}function fm({id:e,store:r,unselect:s=!1,nodeRef:i}){const{addSelectedNodes:o,unselectNodesAndEdges:c,multiSelectionActive:u,nodeLookup:d,onError:m}=r.getState(),f=d.get(e);if(!f){m?.("012",or.error012(e));return}r.setState({nodesSelectionActive:!1}),f.selected?(s||f.selected&&u)&&(c({nodes:[f],edges:[]}),requestAnimationFrame(()=>i?.current?.blur())):o([e])}function oS({nodeRef:e,disabled:r=!1,noDragClassName:s,handleSelector:i,nodeId:o,isSelectable:c,nodeClickDistance:u}){const d=wt(),[m,f]=j.useState(!1),p=j.useRef();return j.useEffect(()=>{p.current=b5({getStoreItems:()=>d.getState(),onNodeMouseDown:x=>{fm({id:x,store:d,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),j.useEffect(()=>{if(r)p.current?.destroy();else if(e.current)return p.current?.update({noDragClassName:s,handleSelector:i,domNode:e.current,isSelectable:c,nodeId:o,nodeClickDistance:u}),()=>{p.current?.destroy()}},[s,i,r,c,e,o]),m}const _O=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function lS(){const e=wt();return j.useCallback(s=>{const{nodeExtent:i,snapToGrid:o,snapGrid:c,nodesDraggable:u,onError:d,updateNodePositions:m,nodeLookup:f,nodeOrigin:p}=e.getState(),x=new Map,y=_O(u),v=o?c[0]:5,S=o?c[1]:5,N=s.direction.x*v*s.factor,C=s.direction.y*S*s.factor;for(const[,w]of f){if(!y(w))continue;let _={x:w.internals.positionAbsolute.x+N,y:w.internals.positionAbsolute.y+C};o&&(_=Wo(_,c));const{position:E,positionAbsolute:R}=_w({nodeId:w.id,nextPosition:_,nodeLookup:f,nodeExtent:i,nodeOrigin:p,onError:d});w.position=E,w.internals.positionAbsolute=R,x.set(w.id,w)}m(x)},[])}const np=j.createContext(null),jO=np.Provider;np.Consumer;const cS=()=>j.useContext(np),AO=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),TO=(e,r,s)=>i=>{const{connectionClickStartHandle:o,connectionMode:c,connection:u}=i,{fromHandle:d,toHandle:m,isValid:f}=u,p=m?.nodeId===e&&m?.id===r&&m?.type===s;return{connectingFrom:d?.nodeId===e&&d?.id===r&&d?.type===s,connectingTo:p,clickConnecting:o?.nodeId===e&&o?.id===r&&o?.type===s,isPossibleEndHandle:c===aa.Strict?d?.type!==s:e!==d?.nodeId||r!==d?.id,connectionInProcess:!!d,clickConnectionInProcess:!!o,valid:p&&f}};function MO({type:e="source",position:r=Ae.Top,isValidConnection:s,isConnectable:i=!0,isConnectableStart:o=!0,isConnectableEnd:c=!0,id:u,onConnect:d,children:m,className:f,onMouseDown:p,onTouchStart:x,...y},v){const S=u||null,N=e==="target",C=wt(),w=cS(),{connectOnClick:_,noPanClassName:E,rfId:R}=We(AO,bt),{connectingFrom:M,connectingTo:T,clickConnecting:A,isPossibleEndHandle:z,connectionInProcess:O,clickConnectionInProcess:G,valid:P}=We(TO(w,S,e),bt);w||C.getState().onError?.("010",or.error010());const U=F=>{const{defaultEdgeOptions:L,onConnect:q,hasDefaultEdges:H}=C.getState(),Y={...L,...F};if(H){const{edges:Q,setEdges:$}=C.getState();$(Bw(Y,Q))}q?.(Y),d?.(Y)},V=F=>{if(!w)return;const L=Ow(F.nativeEvent);if(o&&(L&&F.button===0||!L)){const q=C.getState();dm.onPointerDown(F.nativeEvent,{handleDomNode:F.currentTarget,autoPanOnConnect:q.autoPanOnConnect,connectionMode:q.connectionMode,connectionRadius:q.connectionRadius,domNode:q.domNode,nodeLookup:q.nodeLookup,lib:q.lib,isTarget:N,handleId:S,nodeId:w,flowId:q.rfId,panBy:q.panBy,cancelConnection:q.cancelConnection,onConnectStart:q.onConnectStart,onConnectEnd:q.onConnectEnd,updateConnection:q.updateConnection,onConnect:U,isValidConnection:s||q.isValidConnection,getTransform:()=>C.getState().transform,getFromHandle:()=>C.getState().connection.fromHandle,autoPanSpeed:q.autoPanSpeed,dragThreshold:q.connectionDragThreshold})}L?p?.(F):x?.(F)},B=F=>{const{onClickConnectStart:L,onClickConnectEnd:q,connectionClickStartHandle:H,connectionMode:Y,isValidConnection:Q,lib:$,rfId:Z,nodeLookup:ee,connection:ie}=C.getState();if(!w||!H&&!o)return;if(!H){L?.(F.nativeEvent,{nodeId:w,handleId:S,handleType:e}),C.setState({connectionClickStartHandle:{nodeId:w,type:e,id:S}});return}const me=kw(F.target),ye=s||Q,{connection:ge,isValid:he}=dm.isValid(F.nativeEvent,{handle:{nodeId:w,id:S,type:e},connectionMode:Y,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:ye,flowId:Z,doc:me,lib:$,nodeLookup:ee});he&&ge&&U(ge);const ve=structuredClone(ie);delete ve.inProgress,ve.toPosition=ve.toHandle?ve.toHandle.position:null,q?.(F,ve),C.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":S,"data-nodeid":w,"data-handlepos":r,"data-id":`${R}-${w}-${S}-${e}`,className:Dt(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",E,f,{source:!N,target:N,connectable:i,connectablestart:o,connectableend:c,clickconnecting:A,connectingfrom:M,connectingto:T,valid:P,connectionindicator:i&&(!O||z)&&(O||G?c:o)}]),onMouseDown:V,onTouchStart:V,onClick:_?B:void 0,ref:v,...y,children:m})}const Lr=j.memo(iS(MO));function RO({data:e,isConnectable:r,sourcePosition:s=Ae.Bottom}){return h.jsxs(h.Fragment,{children:[e?.label,h.jsx(Lr,{type:"source",position:s,isConnectable:r})]})}function kO({data:e,isConnectable:r,targetPosition:s=Ae.Top,sourcePosition:i=Ae.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(Lr,{type:"target",position:s,isConnectable:r}),e?.label,h.jsx(Lr,{type:"source",position:i,isConnectable:r})]})}function zO(){return null}function OO({data:e,isConnectable:r,targetPosition:s=Ae.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(Lr,{type:"target",position:s,isConnectable:r}),e?.label]})}const du={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Iv={input:RO,default:kO,output:OO,group:zO};function LO(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const DO=e=>{const{width:r,height:s,x:i,y:o}=Qo(e.nodeLookup,{filter:c=>!!c.selected});return{width:Zn(r)?r:null,height:Zn(s)?s:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${i}px,${o}px)`}};function $O({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:s}){const i=wt(),{width:o,height:c,transformString:u,userSelectionActive:d}=We(DO,bt),m=lS(),f=j.useRef(null);if(j.useEffect(()=>{s||f.current?.focus({preventScroll:!0})},[s]),oS({nodeRef:f}),d||!o||!c)return null;const p=e?y=>{const v=i.getState().nodes.filter(S=>S.selected);e(y,v)}:void 0,x=y=>{Object.prototype.hasOwnProperty.call(du,y.key)&&(y.preventDefault(),m({direction:du[y.key],factor:y.shiftKey?4:1}))};return h.jsx("div",{className:Dt(["react-flow__nodesselection","react-flow__container",r]),style:{transform:u},children:h.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:s?void 0:-1,onKeyDown:s?void 0:x,style:{width:o,height:c}})})}const Gv=typeof window<"u"?window:void 0,BO=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function uS({children:e,onPaneClick:r,onPaneMouseEnter:s,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:c,onPaneScroll:u,paneClickDistance:d,deleteKeyCode:m,selectionKeyCode:f,selectionOnDrag:p,selectionMode:x,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:C,elementsSelectable:w,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:R,panOnScrollSpeed:M,panOnScrollMode:T,zoomOnDoubleClick:A,panOnDrag:z,defaultViewport:O,translateExtent:G,minZoom:P,maxZoom:U,preventScrolling:V,onSelectionContextMenu:B,noWheelClassName:F,noPanClassName:L,disableKeyboardA11y:q,onViewportChange:H,isControlledViewport:Y}){const{nodesSelectionActive:Q,userSelectionActive:$}=We(BO,bt),Z=Ho(f,{target:Gv}),ee=Ho(N,{target:Gv}),ie=ee||z,me=ee||R,ye=p&&ie!==!0,ge=Z||$||ye;return xO({deleteKeyCode:m,multiSelectionKeyCode:S}),h.jsx(wO,{onPaneContextMenu:c,elementsSelectable:w,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:me,panOnScrollSpeed:M,panOnScrollMode:T,zoomOnDoubleClick:A,panOnDrag:!Z&&ie,defaultViewport:O,translateExtent:G,minZoom:P,maxZoom:U,zoomActivationKeyCode:C,preventScrolling:V,noWheelClassName:F,noPanClassName:L,onViewportChange:H,isControlledViewport:Y,paneClickDistance:d,selectionOnDrag:ye,children:h.jsxs(CO,{onSelectionStart:y,onSelectionEnd:v,onPaneClick:r,onPaneMouseEnter:s,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:c,onPaneScroll:u,panOnDrag:ie,isSelecting:!!ge,selectionMode:x,selectionKeyPressed:Z,paneClickDistance:d,selectionOnDrag:ye,children:[e,Q&&h.jsx($O,{onSelectionContextMenu:B,noPanClassName:L,disableKeyboardA11y:q})]})})}uS.displayName="FlowRenderer";const HO=j.memo(uS),qO=e=>r=>e?Fm(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(s=>s.id):Array.from(r.nodeLookup.keys());function UO(e){return We(j.useCallback(qO(e),[e]),bt)}const IO=e=>e.updateNodeInternals;function GO(){const e=We(IO),[r]=j.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(s=>{const i=new Map;s.forEach(o=>{const c=o.target.getAttribute("data-id");i.set(c,{id:c,nodeElement:o.target,force:!0})}),e(i)}));return j.useEffect(()=>()=>{r?.disconnect()},[r]),r}function VO({node:e,nodeType:r,hasDimensions:s,resizeObserver:i}){const o=wt(),c=j.useRef(null),u=j.useRef(null),d=j.useRef(e.sourcePosition),m=j.useRef(e.targetPosition),f=j.useRef(r),p=s&&!!e.internals.handleBounds;return j.useEffect(()=>{c.current&&!e.hidden&&(!p||u.current!==c.current)&&(u.current&&i?.unobserve(u.current),i?.observe(c.current),u.current=c.current)},[p,e.hidden]),j.useEffect(()=>()=>{u.current&&(i?.unobserve(u.current),u.current=null)},[]),j.useEffect(()=>{if(c.current){const x=f.current!==r,y=d.current!==e.sourcePosition,v=m.current!==e.targetPosition;(x||y||v)&&(f.current=r,d.current=e.sourcePosition,m.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:c.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),c}function PO({id:e,onClick:r,onMouseEnter:s,onMouseMove:i,onMouseLeave:o,onContextMenu:c,onDoubleClick:u,nodesDraggable:d,elementsSelectable:m,nodesConnectable:f,nodesFocusable:p,resizeObserver:x,noDragClassName:y,noPanClassName:v,disableKeyboardA11y:S,rfId:N,nodeTypes:C,nodeClickDistance:w,onError:_}){const{node:E,internals:R,isParent:M}=We(he=>{const ve=he.nodeLookup.get(e),ze=he.parentLookup.has(e);return{node:ve,internals:ve.internals,isParent:ze}},bt);let T=E.type||"default",A=C?.[T]||Iv[T];A===void 0&&(_?.("003",or.error003(T)),T="default",A=C?.default||Iv.default);const z=!!(E.draggable||d&&typeof E.draggable>"u"),O=!!(E.selectable||m&&typeof E.selectable>"u"),G=!!(E.connectable||f&&typeof E.connectable>"u"),P=!!(E.focusable||p&&typeof E.focusable>"u"),U=wt(),V=Mw(E),B=VO({node:E,nodeType:T,hasDimensions:V,resizeObserver:x}),F=oS({nodeRef:B,disabled:E.hidden||!z,noDragClassName:y,handleSelector:E.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:w}),L=lS();if(E.hidden)return null;const q=Ur(E),H=LO(E),Y=O||z||r||s||i||o,Q=s?he=>s(he,{...R.userNode}):void 0,$=i?he=>i(he,{...R.userNode}):void 0,Z=o?he=>o(he,{...R.userNode}):void 0,ee=c?he=>c(he,{...R.userNode}):void 0,ie=u?he=>u(he,{...R.userNode}):void 0,me=he=>{const{selectNodesOnDrag:ve,nodeDragThreshold:ze}=U.getState();O&&(!ve||!z||ze>0)&&fm({id:e,store:U,nodeRef:B}),r&&r(he,{...R.userNode})},ye=he=>{if(!(zw(he.nativeEvent)||S)){if(ww.includes(he.key)&&O){const ve=he.key==="Escape";fm({id:e,store:U,unselect:ve,nodeRef:B})}else if(z&&E.selected&&Object.prototype.hasOwnProperty.call(du,he.key)){he.preventDefault();const{ariaLabelConfig:ve}=U.getState();U.setState({ariaLiveMessage:ve["node.a11yDescription.ariaLiveMessage"]({direction:he.key.replace("Arrow","").toLowerCase(),x:~~R.positionAbsolute.x,y:~~R.positionAbsolute.y})}),L({direction:du[he.key],factor:he.shiftKey?4:1})}}},ge=()=>{if(S||!B.current?.matches(":focus-visible"))return;const{transform:he,width:ve,height:ze,autoPanOnNodeFocus:Re,setCenter:Ce}=U.getState();if(!Re)return;Fm(new Map([[e,E]]),{x:0,y:0,width:ve,height:ze},he,!0).length>0||Ce(E.position.x+q.width/2,E.position.y+q.height/2,{zoom:he[2]})};return h.jsx("div",{className:Dt(["react-flow__node",`react-flow__node-${T}`,{[v]:z},E.className,{selected:E.selected,selectable:O,parent:M,draggable:z,dragging:F}]),ref:B,style:{zIndex:R.z,transform:`translate(${R.positionAbsolute.x}px,${R.positionAbsolute.y}px)`,pointerEvents:Y?"all":"none",visibility:V?"visible":"hidden",...E.style,...H},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:Q,onMouseMove:$,onMouseLeave:Z,onContextMenu:ee,onClick:me,onDoubleClick:ie,onKeyDown:P?ye:void 0,tabIndex:P?0:void 0,onFocus:P?ge:void 0,role:E.ariaRole??(P?"group":void 0),"aria-roledescription":"node","aria-describedby":S?void 0:`${Jw}-${N}`,"aria-label":E.ariaLabel,...E.domAttributes,children:h.jsx(jO,{value:e,children:h.jsx(A,{id:e,data:E.data,type:T,positionAbsoluteX:R.positionAbsolute.x,positionAbsoluteY:R.positionAbsolute.y,selected:E.selected??!1,selectable:O,draggable:z,deletable:E.deletable??!0,isConnectable:G,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:F,dragHandle:E.dragHandle,zIndex:R.z,parentId:E.parentId,...q})})})}var YO=j.memo(PO);const FO=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function dS(e){const{nodesDraggable:r,nodesConnectable:s,nodesFocusable:i,elementsSelectable:o,onError:c}=We(FO,bt),u=UO(e.onlyRenderVisibleElements),d=GO();return h.jsx("div",{className:"react-flow__nodes",style:Ru,children:u.map(m=>h.jsx(YO,{id:m,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:r,nodesConnectable:s,nodesFocusable:i,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:c},m))})}dS.displayName="NodeRenderer";const XO=j.memo(dS);function ZO(e){return We(j.useCallback(s=>{if(!e)return s.edges.map(o=>o.id);const i=[];if(s.width&&s.height)for(const o of s.edges){const c=s.nodeLookup.get(o.source),u=s.nodeLookup.get(o.target);c&&u&&n5({sourceNode:c,targetNode:u,width:s.width,height:s.height,transform:s.transform})&&i.push(o.id)}return i},[e]),bt)}const QO=({color:e="none",strokeWidth:r=1})=>{const s={strokeWidth:r,...e&&{stroke:e}};return h.jsx("polyline",{className:"arrow",style:s,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},WO=({color:e="none",strokeWidth:r=1})=>{const s={strokeWidth:r,...e&&{stroke:e,fill:e}};return h.jsx("polyline",{className:"arrowclosed",style:s,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Vv={[lu.Arrow]:QO,[lu.ArrowClosed]:WO};function KO(e){const r=wt();return j.useMemo(()=>Object.prototype.hasOwnProperty.call(Vv,e)?Vv[e]:(r.getState().onError?.("009",or.error009(e)),null),[e])}const JO=({id:e,type:r,color:s,width:i=12.5,height:o=12.5,markerUnits:c="strokeWidth",strokeWidth:u,orient:d="auto-start-reverse"})=>{const m=KO(r);return m?h.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:d,refX:"0",refY:"0",children:h.jsx(m,{color:s,strokeWidth:u})}):null},fS=({defaultColor:e,rfId:r})=>{const s=We(c=>c.edges),i=We(c=>c.defaultEdgeOptions),o=j.useMemo(()=>c5(s,{id:r,defaultColor:e,defaultMarkerStart:i?.markerStart,defaultMarkerEnd:i?.markerEnd}),[s,i,r,e]);return o.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:o.map(c=>h.jsx(JO,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};fS.displayName="MarkerDefinitions";var eL=j.memo(fS);function hS({x:e,y:r,label:s,labelStyle:i,labelShowBg:o=!0,labelBgStyle:c,labelBgPadding:u=[2,4],labelBgBorderRadius:d=2,children:m,className:f,...p}){const[x,y]=j.useState({x:1,y:0,width:0,height:0}),v=Dt(["react-flow__edge-textwrapper",f]),S=j.useRef(null);return j.useEffect(()=>{if(S.current){const N=S.current.getBBox();y({x:N.x,y:N.y,width:N.width,height:N.height})}},[s]),s?h.jsxs("g",{transform:`translate(${e-x.width/2} ${r-x.height/2})`,className:v,visibility:x.width?"visible":"hidden",...p,children:[o&&h.jsx("rect",{width:x.width+2*u[0],x:-u[0],y:-u[1],height:x.height+2*u[1],className:"react-flow__edge-textbg",style:c,rx:d,ry:d}),h.jsx("text",{className:"react-flow__edge-text",y:x.height/2,dy:"0.3em",ref:S,style:i,children:s}),m]}):null}hS.displayName="EdgeText";const tL=j.memo(hS);function ku({path:e,labelX:r,labelY:s,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m,interactionWidth:f=20,...p}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...p,d:e,fill:"none",className:Dt(["react-flow__edge-path",p.className])}),f?h.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,i&&Zn(r)&&Zn(s)?h.jsx(tL,{x:r,y:s,label:i,labelStyle:o,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:m}):null]})}function Pv({pos:e,x1:r,y1:s,x2:i,y2:o}){return e===Ae.Left||e===Ae.Right?[.5*(r+i),s]:[r,.5*(s+o)]}function mS({sourceX:e,sourceY:r,sourcePosition:s=Ae.Bottom,targetX:i,targetY:o,targetPosition:c=Ae.Top}){const[u,d]=Pv({pos:s,x1:e,y1:r,x2:i,y2:o}),[m,f]=Pv({pos:c,x1:i,y1:o,x2:e,y2:r}),[p,x,y,v]=Lw({sourceX:e,sourceY:r,targetX:i,targetY:o,sourceControlX:u,sourceControlY:d,targetControlX:m,targetControlY:f});return[`M${e},${r} C${u},${d} ${m},${f} ${i},${o}`,p,x,y,v]}function pS(e){return j.memo(({id:r,sourceX:s,sourceY:i,targetX:o,targetY:c,sourcePosition:u,targetPosition:d,label:m,labelStyle:f,labelShowBg:p,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:v,style:S,markerEnd:N,markerStart:C,interactionWidth:w})=>{const[_,E,R]=mS({sourceX:s,sourceY:i,sourcePosition:u,targetX:o,targetY:c,targetPosition:d}),M=e.isInternal?void 0:r;return h.jsx(ku,{id:M,path:_,labelX:E,labelY:R,label:m,labelStyle:f,labelShowBg:p,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:v,style:S,markerEnd:N,markerStart:C,interactionWidth:w})})}const nL=pS({isInternal:!1}),gS=pS({isInternal:!0});nL.displayName="SimpleBezierEdge";gS.displayName="SimpleBezierEdgeInternal";function yS(e){return j.memo(({id:r,sourceX:s,sourceY:i,targetX:o,targetY:c,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:x,style:y,sourcePosition:v=Ae.Bottom,targetPosition:S=Ae.Top,markerEnd:N,markerStart:C,pathOptions:w,interactionWidth:_})=>{const[E,R,M]=lm({sourceX:s,sourceY:i,sourcePosition:v,targetX:o,targetY:c,targetPosition:S,borderRadius:w?.borderRadius,offset:w?.offset,stepPosition:w?.stepPosition}),T=e.isInternal?void 0:r;return h.jsx(ku,{id:T,path:E,labelX:R,labelY:M,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:x,style:y,markerEnd:N,markerStart:C,interactionWidth:_})})}const xS=yS({isInternal:!1}),vS=yS({isInternal:!0});xS.displayName="SmoothStepEdge";vS.displayName="SmoothStepEdgeInternal";function bS(e){return j.memo(({id:r,...s})=>{const i=e.isInternal?void 0:r;return h.jsx(xS,{...s,id:i,pathOptions:j.useMemo(()=>({borderRadius:0,offset:s.pathOptions?.offset}),[s.pathOptions?.offset])})})}const rL=bS({isInternal:!1}),wS=bS({isInternal:!0});rL.displayName="StepEdge";wS.displayName="StepEdgeInternal";function SS(e){return j.memo(({id:r,sourceX:s,sourceY:i,targetX:o,targetY:c,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:x,style:y,markerEnd:v,markerStart:S,interactionWidth:N})=>{const[C,w,_]=Hw({sourceX:s,sourceY:i,targetX:o,targetY:c}),E=e.isInternal?void 0:r;return h.jsx(ku,{id:E,path:C,labelX:w,labelY:_,label:u,labelStyle:d,labelShowBg:m,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:x,style:y,markerEnd:v,markerStart:S,interactionWidth:N})})}const sL=SS({isInternal:!1}),NS=SS({isInternal:!0});sL.displayName="StraightEdge";NS.displayName="StraightEdgeInternal";function ES(e){return j.memo(({id:r,sourceX:s,sourceY:i,targetX:o,targetY:c,sourcePosition:u=Ae.Bottom,targetPosition:d=Ae.Top,label:m,labelStyle:f,labelShowBg:p,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:v,style:S,markerEnd:N,markerStart:C,pathOptions:w,interactionWidth:_})=>{const[E,R,M]=Dw({sourceX:s,sourceY:i,sourcePosition:u,targetX:o,targetY:c,targetPosition:d,curvature:w?.curvature}),T=e.isInternal?void 0:r;return h.jsx(ku,{id:T,path:E,labelX:R,labelY:M,label:m,labelStyle:f,labelShowBg:p,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:v,style:S,markerEnd:N,markerStart:C,interactionWidth:_})})}const iL=ES({isInternal:!1}),CS=ES({isInternal:!0});iL.displayName="BezierEdge";CS.displayName="BezierEdgeInternal";const Yv={default:CS,straight:NS,step:wS,smoothstep:vS,simplebezier:gS},Fv={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},aL=(e,r,s)=>s===Ae.Left?e-r:s===Ae.Right?e+r:e,oL=(e,r,s)=>s===Ae.Top?e-r:s===Ae.Bottom?e+r:e,Xv="react-flow__edgeupdater";function Zv({position:e,centerX:r,centerY:s,radius:i=10,onMouseDown:o,onMouseEnter:c,onMouseOut:u,type:d}){return h.jsx("circle",{onMouseDown:o,onMouseEnter:c,onMouseOut:u,className:Dt([Xv,`${Xv}-${d}`]),cx:aL(r,i,e),cy:oL(s,i,e),r:i,stroke:"transparent",fill:"transparent"})}function lL({isReconnectable:e,reconnectRadius:r,edge:s,sourceX:i,sourceY:o,targetX:c,targetY:u,sourcePosition:d,targetPosition:m,onReconnect:f,onReconnectStart:p,onReconnectEnd:x,setReconnecting:y,setUpdateHover:v}){const S=wt(),N=(R,M)=>{if(R.button!==0)return;const{autoPanOnConnect:T,domNode:A,isValidConnection:z,connectionMode:O,connectionRadius:G,lib:P,onConnectStart:U,onConnectEnd:V,cancelConnection:B,nodeLookup:F,rfId:L,panBy:q,updateConnection:H}=S.getState(),Y=M.type==="target",Q=(ee,ie)=>{y(!1),x?.(ee,s,M.type,ie)},$=ee=>f?.(s,ee),Z=(ee,ie)=>{y(!0),p?.(R,s,M.type),U?.(ee,ie)};dm.onPointerDown(R.nativeEvent,{autoPanOnConnect:T,connectionMode:O,connectionRadius:G,domNode:A,handleId:M.id,nodeId:M.nodeId,nodeLookup:F,isTarget:Y,edgeUpdaterType:M.type,lib:P,flowId:L,cancelConnection:B,panBy:q,isValidConnection:z,onConnect:$,onConnectStart:Z,onConnectEnd:V,onReconnectEnd:Q,updateConnection:H,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,dragThreshold:S.getState().connectionDragThreshold,handleDomNode:R.currentTarget})},C=R=>N(R,{nodeId:s.target,id:s.targetHandle??null,type:"target"}),w=R=>N(R,{nodeId:s.source,id:s.sourceHandle??null,type:"source"}),_=()=>v(!0),E=()=>v(!1);return h.jsxs(h.Fragment,{children:[(e===!0||e==="source")&&h.jsx(Zv,{position:d,centerX:i,centerY:o,radius:r,onMouseDown:C,onMouseEnter:_,onMouseOut:E,type:"source"}),(e===!0||e==="target")&&h.jsx(Zv,{position:m,centerX:c,centerY:u,radius:r,onMouseDown:w,onMouseEnter:_,onMouseOut:E,type:"target"})]})}function cL({id:e,edgesFocusable:r,edgesReconnectable:s,elementsSelectable:i,onClick:o,onDoubleClick:c,onContextMenu:u,onMouseEnter:d,onMouseMove:m,onMouseLeave:f,reconnectRadius:p,onReconnect:x,onReconnectStart:y,onReconnectEnd:v,rfId:S,edgeTypes:N,noPanClassName:C,onError:w,disableKeyboardA11y:_}){let E=We(Ce=>Ce.edgeLookup.get(e));const R=We(Ce=>Ce.defaultEdgeOptions);E=R?{...R,...E}:E;let M=E.type||"default",T=N?.[M]||Yv[M];T===void 0&&(w?.("011",or.error011(M)),M="default",T=N?.default||Yv.default);const A=!!(E.focusable||r&&typeof E.focusable>"u"),z=typeof x<"u"&&(E.reconnectable||s&&typeof E.reconnectable>"u"),O=!!(E.selectable||i&&typeof E.selectable>"u"),G=j.useRef(null),[P,U]=j.useState(!1),[V,B]=j.useState(!1),F=wt(),{zIndex:L,sourceX:q,sourceY:H,targetX:Y,targetY:Q,sourcePosition:$,targetPosition:Z}=We(j.useCallback(Ce=>{const je=Ce.nodeLookup.get(E.source),De=Ce.nodeLookup.get(E.target);if(!je||!De)return{zIndex:E.zIndex,...Fv};const Ze=l5({id:e,sourceNode:je,targetNode:De,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:Ce.connectionMode,onError:w});return{zIndex:t5({selected:E.selected,zIndex:E.zIndex,sourceNode:je,targetNode:De,elevateOnSelect:Ce.elevateEdgesOnSelect,zIndexMode:Ce.zIndexMode}),...Ze||Fv}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),bt),ee=j.useMemo(()=>E.markerStart?`url('#${cm(E.markerStart,S)}')`:void 0,[E.markerStart,S]),ie=j.useMemo(()=>E.markerEnd?`url('#${cm(E.markerEnd,S)}')`:void 0,[E.markerEnd,S]);if(E.hidden||q===null||H===null||Y===null||Q===null)return null;const me=Ce=>{const{addSelectedEdges:je,unselectNodesAndEdges:De,multiSelectionActive:Ze}=F.getState();O&&(F.setState({nodesSelectionActive:!1}),E.selected&&Ze?(De({nodes:[],edges:[E]}),G.current?.blur()):je([e])),o&&o(Ce,E)},ye=c?Ce=>{c(Ce,{...E})}:void 0,ge=u?Ce=>{u(Ce,{...E})}:void 0,he=d?Ce=>{d(Ce,{...E})}:void 0,ve=m?Ce=>{m(Ce,{...E})}:void 0,ze=f?Ce=>{f(Ce,{...E})}:void 0,Re=Ce=>{if(!_&&ww.includes(Ce.key)&&O){const{unselectNodesAndEdges:je,addSelectedEdges:De}=F.getState();Ce.key==="Escape"?(G.current?.blur(),je({edges:[E]})):De([e])}};return h.jsx("svg",{style:{zIndex:L},children:h.jsxs("g",{className:Dt(["react-flow__edge",`react-flow__edge-${M}`,E.className,C,{selected:E.selected,animated:E.animated,inactive:!O&&!o,updating:P,selectable:O}]),onClick:me,onDoubleClick:ye,onContextMenu:ge,onMouseEnter:he,onMouseMove:ve,onMouseLeave:ze,onKeyDown:A?Re:void 0,tabIndex:A?0:void 0,role:E.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":A?`${eS}-${S}`:void 0,ref:G,...E.domAttributes,children:[!V&&h.jsx(T,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:O,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:q,sourceY:H,targetX:Y,targetY:Q,sourcePosition:$,targetPosition:Z,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:ee,markerEnd:ie,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),z&&h.jsx(lL,{edge:E,isReconnectable:z,reconnectRadius:p,onReconnect:x,onReconnectStart:y,onReconnectEnd:v,sourceX:q,sourceY:H,targetX:Y,targetY:Q,sourcePosition:$,targetPosition:Z,setUpdateHover:U,setReconnecting:B})]})})}var uL=j.memo(cL);const dL=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function _S({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:s,edgeTypes:i,noPanClassName:o,onReconnect:c,onEdgeContextMenu:u,onEdgeMouseEnter:d,onEdgeMouseMove:m,onEdgeMouseLeave:f,onEdgeClick:p,reconnectRadius:x,onEdgeDoubleClick:y,onReconnectStart:v,onReconnectEnd:S,disableKeyboardA11y:N}){const{edgesFocusable:C,edgesReconnectable:w,elementsSelectable:_,onError:E}=We(dL,bt),R=ZO(r);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(eL,{defaultColor:e,rfId:s}),R.map(M=>h.jsx(uL,{id:M,edgesFocusable:C,edgesReconnectable:w,elementsSelectable:_,noPanClassName:o,onReconnect:c,onContextMenu:u,onMouseEnter:d,onMouseMove:m,onMouseLeave:f,onClick:p,reconnectRadius:x,onDoubleClick:y,onReconnectStart:v,onReconnectEnd:S,rfId:s,onError:E,edgeTypes:i,disableKeyboardA11y:N},M))]})}_S.displayName="EdgeRenderer";const fL=j.memo(_S),hL=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function mL({children:e}){const r=We(hL);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function pL(e){const r=tp(),s=j.useRef(!1);j.useEffect(()=>{!s.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),s.current=!0)},[e,r.viewportInitialized])}const gL=e=>e.panZoom?.syncViewport;function yL(e){const r=We(gL),s=wt();return j.useEffect(()=>{e&&(r?.(e),s.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function xL(e){return e.connection.inProgress?{...e.connection,to:Ko(e.connection.to,e.transform)}:{...e.connection}}function vL(e){return xL}function bL(e){const r=vL();return We(r,bt)}const wL=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function SL({containerStyle:e,style:r,type:s,component:i}){const{nodesConnectable:o,width:c,height:u,isValid:d,inProgress:m}=We(wL,bt);return!(c&&o&&m)?null:h.jsx("svg",{style:e,width:c,height:u,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:Dt(["react-flow__connection",Ew(d)]),children:h.jsx(jS,{style:r,type:s,CustomComponent:i,isValid:d})})})}const jS=({style:e,type:r=vs.Bezier,CustomComponent:s,isValid:i})=>{const{inProgress:o,from:c,fromNode:u,fromHandle:d,fromPosition:m,to:f,toNode:p,toHandle:x,toPosition:y,pointer:v}=bL();if(!o)return;if(s)return h.jsx(s,{connectionLineType:r,connectionLineStyle:e,fromNode:u,fromHandle:d,fromX:c.x,fromY:c.y,toX:f.x,toY:f.y,fromPosition:m,toPosition:y,connectionStatus:Ew(i),toNode:p,toHandle:x,pointer:v});let S="";const N={sourceX:c.x,sourceY:c.y,sourcePosition:m,targetX:f.x,targetY:f.y,targetPosition:y};switch(r){case vs.Bezier:[S]=Dw(N);break;case vs.SimpleBezier:[S]=mS(N);break;case vs.Step:[S]=lm({...N,borderRadius:0});break;case vs.SmoothStep:[S]=lm(N);break;default:[S]=Hw(N)}return h.jsx("path",{d:S,fill:"none",className:"react-flow__connection-path",style:e})};jS.displayName="ConnectionLine";const NL={};function Qv(e=NL){j.useRef(e),wt(),j.useEffect(()=>{},[e])}function EL(){wt(),j.useRef(!1),j.useEffect(()=>{},[])}function AS({nodeTypes:e,edgeTypes:r,onInit:s,onNodeClick:i,onEdgeClick:o,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:x,onSelectionStart:y,onSelectionEnd:v,connectionLineType:S,connectionLineStyle:N,connectionLineComponent:C,connectionLineContainerStyle:w,selectionKeyCode:_,selectionOnDrag:E,selectionMode:R,multiSelectionKeyCode:M,panActivationKeyCode:T,zoomActivationKeyCode:A,deleteKeyCode:z,onlyRenderVisibleElements:O,elementsSelectable:G,defaultViewport:P,translateExtent:U,minZoom:V,maxZoom:B,preventScrolling:F,defaultMarkerColor:L,zoomOnScroll:q,zoomOnPinch:H,panOnScroll:Y,panOnScrollSpeed:Q,panOnScrollMode:$,zoomOnDoubleClick:Z,panOnDrag:ee,onPaneClick:ie,onPaneMouseEnter:me,onPaneMouseMove:ye,onPaneMouseLeave:ge,onPaneScroll:he,onPaneContextMenu:ve,paneClickDistance:ze,nodeClickDistance:Re,onEdgeContextMenu:Ce,onEdgeMouseEnter:je,onEdgeMouseMove:De,onEdgeMouseLeave:Ze,reconnectRadius:Qe,onReconnect:St,onReconnectStart:Zt,onReconnectEnd:It,noDragClassName:Gt,noWheelClassName:gt,noPanClassName:Kt,disableKeyboardA11y:En,nodeExtent:Nt,rfId:qn,viewport:Rt,onViewportChange:nn}){return Qv(e),Qv(r),EL(),pL(s),yL(Rt),h.jsx(HO,{onPaneClick:ie,onPaneMouseEnter:me,onPaneMouseMove:ye,onPaneMouseLeave:ge,onPaneContextMenu:ve,onPaneScroll:he,paneClickDistance:ze,deleteKeyCode:z,selectionKeyCode:_,selectionOnDrag:E,selectionMode:R,onSelectionStart:y,onSelectionEnd:v,multiSelectionKeyCode:M,panActivationKeyCode:T,zoomActivationKeyCode:A,elementsSelectable:G,zoomOnScroll:q,zoomOnPinch:H,zoomOnDoubleClick:Z,panOnScroll:Y,panOnScrollSpeed:Q,panOnScrollMode:$,panOnDrag:ee,defaultViewport:P,translateExtent:U,minZoom:V,maxZoom:B,onSelectionContextMenu:x,preventScrolling:F,noDragClassName:Gt,noWheelClassName:gt,noPanClassName:Kt,disableKeyboardA11y:En,onViewportChange:nn,isControlledViewport:!!Rt,children:h.jsxs(mL,{children:[h.jsx(fL,{edgeTypes:r,onEdgeClick:o,onEdgeDoubleClick:u,onReconnect:St,onReconnectStart:Zt,onReconnectEnd:It,onlyRenderVisibleElements:O,onEdgeContextMenu:Ce,onEdgeMouseEnter:je,onEdgeMouseMove:De,onEdgeMouseLeave:Ze,reconnectRadius:Qe,defaultMarkerColor:L,noPanClassName:Kt,disableKeyboardA11y:En,rfId:qn}),h.jsx(SL,{style:N,type:S,component:C,containerStyle:w}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(XO,{nodeTypes:e,onNodeClick:i,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:m,onNodeMouseLeave:f,onNodeContextMenu:p,nodeClickDistance:Re,onlyRenderVisibleElements:O,noPanClassName:Kt,noDragClassName:Gt,disableKeyboardA11y:En,nodeExtent:Nt,rfId:qn}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}AS.displayName="GraphView";const CL=j.memo(AS),Wv=({nodes:e,edges:r,defaultNodes:s,defaultEdges:i,width:o,height:c,fitView:u,fitViewOptions:d,minZoom:m=.5,maxZoom:f=2,nodeOrigin:p,nodeExtent:x,zIndexMode:y="basic"}={})=>{const v=new Map,S=new Map,N=new Map,C=new Map,w=i??r??[],_=s??e??[],E=p??[0,0],R=x??Lo;Iw(N,C,w);const M=um(_,v,S,{nodeOrigin:E,nodeExtent:R,zIndexMode:y});let T=[0,0,1];if(u&&o&&c){const A=Qo(v,{filter:P=>!!((P.width||P.initialWidth)&&(P.height||P.initialHeight))}),{x:z,y:O,zoom:G}=Xm(A,o,c,m,f,d?.padding??.1);T=[z,O,G]}return{rfId:"1",width:o??0,height:c??0,transform:T,nodes:_,nodesInitialized:M,nodeLookup:v,parentLookup:S,edges:w,edgeLookup:C,connectionLookup:N,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:s!==void 0,hasDefaultEdges:i!==void 0,panZoom:null,minZoom:m,maxZoom:f,translateExtent:Lo,nodeExtent:R,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:aa.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:u??!1,fitViewOptions:d,fitViewResolver:null,connection:{...Nw},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Zz,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Sw,zIndexMode:y,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},_L=({nodes:e,edges:r,defaultNodes:s,defaultEdges:i,width:o,height:c,fitView:u,fitViewOptions:d,minZoom:m,maxZoom:f,nodeOrigin:p,nodeExtent:x,zIndexMode:y})=>V5((v,S)=>{async function N(){const{nodeLookup:C,panZoom:w,fitViewOptions:_,fitViewResolver:E,width:R,height:M,minZoom:T,maxZoom:A}=S();w&&(await Fz({nodes:C,width:R,height:M,panZoom:w,minZoom:T,maxZoom:A},_),E?.resolve(!0),v({fitViewResolver:null}))}return{...Wv({nodes:e,edges:r,width:o,height:c,fitView:u,fitViewOptions:d,minZoom:m,maxZoom:f,nodeOrigin:p,nodeExtent:x,defaultNodes:s,defaultEdges:i,zIndexMode:y}),setNodes:C=>{const{nodeLookup:w,parentLookup:_,nodeOrigin:E,elevateNodesOnSelect:R,fitViewQueued:M,zIndexMode:T}=S(),A=um(C,w,_,{nodeOrigin:E,nodeExtent:x,elevateNodesOnSelect:R,checkEquality:!0,zIndexMode:T});M&&A?(N(),v({nodes:C,nodesInitialized:A,fitViewQueued:!1,fitViewOptions:void 0})):v({nodes:C,nodesInitialized:A})},setEdges:C=>{const{connectionLookup:w,edgeLookup:_}=S();Iw(w,_,C),v({edges:C})},setDefaultNodesAndEdges:(C,w)=>{if(C){const{setNodes:_}=S();_(C),v({hasDefaultNodes:!0})}if(w){const{setEdges:_}=S();_(w),v({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:w,nodeLookup:_,parentLookup:E,domNode:R,nodeOrigin:M,nodeExtent:T,debug:A,fitViewQueued:z,zIndexMode:O}=S(),{changes:G,updatedInternals:P}=g5(C,_,E,R,M,T,O);P&&(f5(_,E,{nodeOrigin:M,nodeExtent:T,zIndexMode:O}),z?(N(),v({fitViewQueued:!1,fitViewOptions:void 0})):v({}),G?.length>0&&(A&&console.log("React Flow: trigger node changes",G),w?.(G)))},updateNodePositions:(C,w=!1)=>{const _=[];let E=[];const{nodeLookup:R,triggerNodeChanges:M,connection:T,updateConnection:A,onNodesChangeMiddlewareMap:z}=S();for(const[O,G]of C){const P=R.get(O),U=!!(P?.expandParent&&P?.parentId&&G?.position),V={id:O,type:"position",position:U?{x:Math.max(0,G.position.x),y:Math.max(0,G.position.y)}:G.position,dragging:w};if(P&&T.inProgress&&T.fromNode.id===P.id){const B=ni(P,T.fromHandle,Ae.Left,!0);A({...T,from:B})}U&&P.parentId&&_.push({id:O,parentId:P.parentId,rect:{...G.internals.positionAbsolute,width:G.measured.width??0,height:G.measured.height??0}}),E.push(V)}if(_.length>0){const{parentLookup:O,nodeOrigin:G}=S(),P=ep(_,R,O,G);E.push(...P)}for(const O of z.values())E=O(E);M(E)},triggerNodeChanges:C=>{const{onNodesChange:w,setNodes:_,nodes:E,hasDefaultNodes:R,debug:M}=S();if(C?.length){if(R){const T=rS(C,E);_(T)}M&&console.log("React Flow: trigger node changes",C),w?.(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:w,setEdges:_,edges:E,hasDefaultEdges:R,debug:M}=S();if(C?.length){if(R){const T=sS(C,E);_(T)}M&&console.log("React Flow: trigger edge changes",C),w?.(C)}},addSelectedNodes:C=>{const{multiSelectionActive:w,edgeLookup:_,nodeLookup:E,triggerNodeChanges:R,triggerEdgeChanges:M}=S();if(w){const T=C.map(A=>Vs(A,!0));R(T);return}R(Xi(E,new Set([...C]),!0)),M(Xi(_))},addSelectedEdges:C=>{const{multiSelectionActive:w,edgeLookup:_,nodeLookup:E,triggerNodeChanges:R,triggerEdgeChanges:M}=S();if(w){const T=C.map(A=>Vs(A,!0));M(T);return}M(Xi(_,new Set([...C]))),R(Xi(E,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:w}={})=>{const{edges:_,nodes:E,nodeLookup:R,triggerNodeChanges:M,triggerEdgeChanges:T}=S(),A=C||E,z=w||_,O=A.map(P=>{const U=R.get(P.id);return U&&(U.selected=!1),Vs(P.id,!1)}),G=z.map(P=>Vs(P.id,!1));M(O),T(G)},setMinZoom:C=>{const{panZoom:w,maxZoom:_}=S();w?.setScaleExtent([C,_]),v({minZoom:C})},setMaxZoom:C=>{const{panZoom:w,minZoom:_}=S();w?.setScaleExtent([_,C]),v({maxZoom:C})},setTranslateExtent:C=>{S().panZoom?.setTranslateExtent(C),v({translateExtent:C})},resetSelectedElements:()=>{const{edges:C,nodes:w,triggerNodeChanges:_,triggerEdgeChanges:E,elementsSelectable:R}=S();if(!R)return;const M=w.reduce((A,z)=>z.selected?[...A,Vs(z.id,!1)]:A,[]),T=C.reduce((A,z)=>z.selected?[...A,Vs(z.id,!1)]:A,[]);_(M),E(T)},setNodeExtent:C=>{const{nodes:w,nodeLookup:_,parentLookup:E,nodeOrigin:R,elevateNodesOnSelect:M,nodeExtent:T,zIndexMode:A}=S();C[0][0]===T[0][0]&&C[0][1]===T[0][1]&&C[1][0]===T[1][0]&&C[1][1]===T[1][1]||(um(w,_,E,{nodeOrigin:R,nodeExtent:C,elevateNodesOnSelect:M,checkEquality:!1,zIndexMode:A}),v({nodeExtent:C}))},panBy:C=>{const{transform:w,width:_,height:E,panZoom:R,translateExtent:M}=S();return y5({delta:C,panZoom:R,transform:w,translateExtent:M,width:_,height:E})},setCenter:async(C,w,_)=>{const{width:E,height:R,maxZoom:M,panZoom:T}=S();if(!T)return Promise.resolve(!1);const A=typeof _?.zoom<"u"?_.zoom:M;return await T.setViewport({x:E/2-C*A,y:R/2-w*A,zoom:A},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{v({connection:{...Nw}})},updateConnection:C=>{v({connection:C})},reset:()=>v({...Wv()})}},Object.is);function jL({initialNodes:e,initialEdges:r,defaultNodes:s,defaultEdges:i,initialWidth:o,initialHeight:c,initialMinZoom:u,initialMaxZoom:d,initialFitViewOptions:m,fitView:f,nodeOrigin:p,nodeExtent:x,zIndexMode:y,children:v}){const[S]=j.useState(()=>_L({nodes:e,edges:r,defaultNodes:s,defaultEdges:i,width:o,height:c,fitView:f,minZoom:u,maxZoom:d,fitViewOptions:m,nodeOrigin:p,nodeExtent:x,zIndexMode:y}));return h.jsx(P5,{value:S,children:h.jsx(mO,{children:v})})}function AL({children:e,nodes:r,edges:s,defaultNodes:i,defaultEdges:o,width:c,height:u,fitView:d,fitViewOptions:m,minZoom:f,maxZoom:p,nodeOrigin:x,nodeExtent:y,zIndexMode:v}){return j.useContext(Tu)?h.jsx(h.Fragment,{children:e}):h.jsx(jL,{initialNodes:r,initialEdges:s,defaultNodes:i,defaultEdges:o,initialWidth:c,initialHeight:u,fitView:d,initialFitViewOptions:m,initialMinZoom:f,initialMaxZoom:p,nodeOrigin:x,nodeExtent:y,zIndexMode:v,children:e})}const TL={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ML({nodes:e,edges:r,defaultNodes:s,defaultEdges:i,className:o,nodeTypes:c,edgeTypes:u,onNodeClick:d,onEdgeClick:m,onInit:f,onMove:p,onMoveStart:x,onMoveEnd:y,onConnect:v,onConnectStart:S,onConnectEnd:N,onClickConnectStart:C,onClickConnectEnd:w,onNodeMouseEnter:_,onNodeMouseMove:E,onNodeMouseLeave:R,onNodeContextMenu:M,onNodeDoubleClick:T,onNodeDragStart:A,onNodeDrag:z,onNodeDragStop:O,onNodesDelete:G,onEdgesDelete:P,onDelete:U,onSelectionChange:V,onSelectionDragStart:B,onSelectionDrag:F,onSelectionDragStop:L,onSelectionContextMenu:q,onSelectionStart:H,onSelectionEnd:Y,onBeforeDelete:Q,connectionMode:$,connectionLineType:Z=vs.Bezier,connectionLineStyle:ee,connectionLineComponent:ie,connectionLineContainerStyle:me,deleteKeyCode:ye="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:he=!1,selectionMode:ve=Do.Full,panActivationKeyCode:ze="Space",multiSelectionKeyCode:Re=Bo()?"Meta":"Control",zoomActivationKeyCode:Ce=Bo()?"Meta":"Control",snapToGrid:je,snapGrid:De,onlyRenderVisibleElements:Ze=!1,selectNodesOnDrag:Qe,nodesDraggable:St,autoPanOnNodeFocus:Zt,nodesConnectable:It,nodesFocusable:Gt,nodeOrigin:gt=tS,edgesFocusable:Kt,edgesReconnectable:En,elementsSelectable:Nt=!0,defaultViewport:qn=sO,minZoom:Rt=.5,maxZoom:nn=2,translateExtent:Jt=Lo,preventScrolling:Ir=!0,nodeExtent:Ht,defaultMarkerColor:Jn="#b1b1b7",zoomOnScroll:I=!0,zoomOnPinch:K=!0,panOnScroll:ue=!1,panOnScrollSpeed:le=.5,panOnScrollMode:pe=Qs.Free,zoomOnDoubleClick:we=!0,panOnDrag:Te=!0,onPaneClick:Ue,onPaneMouseEnter:Ie,onPaneMouseMove:tt,onPaneMouseLeave:nt,onPaneScroll:ot,onPaneContextMenu:ft,paneClickDistance:Vt=1,nodeClickDistance:ur=0,children:ws,onReconnect:Gr,onReconnectStart:dr,onReconnectEnd:ya,onEdgeContextMenu:fr,onEdgeDoubleClick:ii,onEdgeMouseEnter:ai,onEdgeMouseMove:Ss,onEdgeMouseLeave:Ns,reconnectRadius:Es=10,onNodesChange:oi,onEdgesChange:Cn,noDragClassName:Et="nodrag",noWheelClassName:qt="nowheel",noPanClassName:_n="nopan",fitView:Vr,fitViewOptions:li,connectOnClick:xa,attributionPosition:ci,proOptions:hr,defaultEdgeOptions:Ct,elevateNodesOnSelect:oe=!0,elevateEdgesOnSelect:xe=!1,disableKeyboardA11y:Se=!1,autoPanOnConnect:Ee,autoPanOnNodeDrag:be,autoPanSpeed:Oe,connectionRadius:Be,isValidConnection:Qt,onError:Pr,style:zu,id:va,nodeDragThreshold:Jo,connectionDragThreshold:Ou,viewport:ui,onViewportChange:di,width:Un,height:rn,colorMode:el="light",debug:Lu,onScroll:fi,ariaLabelConfig:tl,zIndexMode:Cs="basic",...Du},sn){const _s=va||"1",nl=lO(el),ba=j.useCallback(mr=>{mr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),fi?.(mr)},[fi]);return h.jsx("div",{"data-testid":"rf__wrapper",...Du,onScroll:ba,style:{...zu,...TL},ref:sn,className:Dt(["react-flow",o,nl]),id:va,role:"application",children:h.jsxs(AL,{nodes:e,edges:r,width:Un,height:rn,fitView:Vr,fitViewOptions:li,minZoom:Rt,maxZoom:nn,nodeOrigin:gt,nodeExtent:Ht,zIndexMode:Cs,children:[h.jsx(CL,{onInit:f,onNodeClick:d,onEdgeClick:m,onNodeMouseEnter:_,onNodeMouseMove:E,onNodeMouseLeave:R,onNodeContextMenu:M,onNodeDoubleClick:T,nodeTypes:c,edgeTypes:u,connectionLineType:Z,connectionLineStyle:ee,connectionLineComponent:ie,connectionLineContainerStyle:me,selectionKeyCode:ge,selectionOnDrag:he,selectionMode:ve,deleteKeyCode:ye,multiSelectionKeyCode:Re,panActivationKeyCode:ze,zoomActivationKeyCode:Ce,onlyRenderVisibleElements:Ze,defaultViewport:qn,translateExtent:Jt,minZoom:Rt,maxZoom:nn,preventScrolling:Ir,zoomOnScroll:I,zoomOnPinch:K,zoomOnDoubleClick:we,panOnScroll:ue,panOnScrollSpeed:le,panOnScrollMode:pe,panOnDrag:Te,onPaneClick:Ue,onPaneMouseEnter:Ie,onPaneMouseMove:tt,onPaneMouseLeave:nt,onPaneScroll:ot,onPaneContextMenu:ft,paneClickDistance:Vt,nodeClickDistance:ur,onSelectionContextMenu:q,onSelectionStart:H,onSelectionEnd:Y,onReconnect:Gr,onReconnectStart:dr,onReconnectEnd:ya,onEdgeContextMenu:fr,onEdgeDoubleClick:ii,onEdgeMouseEnter:ai,onEdgeMouseMove:Ss,onEdgeMouseLeave:Ns,reconnectRadius:Es,defaultMarkerColor:Jn,noDragClassName:Et,noWheelClassName:qt,noPanClassName:_n,rfId:_s,disableKeyboardA11y:Se,nodeExtent:Ht,viewport:ui,onViewportChange:di}),h.jsx(oO,{nodes:e,edges:r,defaultNodes:s,defaultEdges:i,onConnect:v,onConnectStart:S,onConnectEnd:N,onClickConnectStart:C,onClickConnectEnd:w,nodesDraggable:St,autoPanOnNodeFocus:Zt,nodesConnectable:It,nodesFocusable:Gt,edgesFocusable:Kt,edgesReconnectable:En,elementsSelectable:Nt,elevateNodesOnSelect:oe,elevateEdgesOnSelect:xe,minZoom:Rt,maxZoom:nn,nodeExtent:Ht,onNodesChange:oi,onEdgesChange:Cn,snapToGrid:je,snapGrid:De,connectionMode:$,translateExtent:Jt,connectOnClick:xa,defaultEdgeOptions:Ct,fitView:Vr,fitViewOptions:li,onNodesDelete:G,onEdgesDelete:P,onDelete:U,onNodeDragStart:A,onNodeDrag:z,onNodeDragStop:O,onSelectionDrag:F,onSelectionDragStart:B,onSelectionDragStop:L,onMove:p,onMoveStart:x,onMoveEnd:y,noPanClassName:_n,nodeOrigin:gt,rfId:_s,autoPanOnConnect:Ee,autoPanOnNodeDrag:be,autoPanSpeed:Oe,onError:Pr,connectionRadius:Be,isValidConnection:Qt,selectNodesOnDrag:Qe,nodeDragThreshold:Jo,connectionDragThreshold:Ou,onBeforeDelete:Q,debug:Lu,ariaLabelConfig:tl,zIndexMode:Cs}),h.jsx(rO,{onSelectionChange:V}),ws,h.jsx(K5,{proOptions:hr,position:ci}),h.jsx(W5,{rfId:_s,disableKeyboardA11y:Se})]})})}var RL=iS(ML);function kL(e){const[r,s]=j.useState(e),i=j.useCallback(o=>s(c=>rS(o,c)),[]);return[r,s,i]}function zL(e){const[r,s]=j.useState(e),i=j.useCallback(o=>s(c=>sS(o,c)),[]);return[r,s,i]}function OL({dimensions:e,lineWidth:r,variant:s,className:i}){return h.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Dt(["react-flow__background-pattern",s,i])})}function LL({radius:e,className:r}){return h.jsx("circle",{cx:e,cy:e,r:e,className:Dt(["react-flow__background-pattern","dots",r])})}var bs;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(bs||(bs={}));const DL={[bs.Dots]:1,[bs.Lines]:1,[bs.Cross]:6},$L=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function TS({id:e,variant:r=bs.Dots,gap:s=20,size:i,lineWidth:o=1,offset:c=0,color:u,bgColor:d,style:m,className:f,patternClassName:p}){const x=j.useRef(null),{transform:y,patternId:v}=We($L,bt),S=i||DL[r],N=r===bs.Dots,C=r===bs.Cross,w=Array.isArray(s)?s:[s,s],_=[w[0]*y[2]||1,w[1]*y[2]||1],E=S*y[2],R=Array.isArray(c)?c:[c,c],M=C?[E,E]:_,T=[R[0]*y[2]||1+M[0]/2,R[1]*y[2]||1+M[1]/2],A=`${v}${e||""}`;return h.jsxs("svg",{className:Dt(["react-flow__background",f]),style:{...m,...Ru,"--xy-background-color-props":d,"--xy-background-pattern-color-props":u},ref:x,"data-testid":"rf__background",children:[h.jsx("pattern",{id:A,x:y[0]%_[0],y:y[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:N?h.jsx(LL,{radius:E/2,className:p}):h.jsx(OL,{dimensions:M,lineWidth:o,variant:r,className:p})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${A})`})]})}TS.displayName="Background";const BL=j.memo(TS);function HL(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function qL(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function UL(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function IL(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function GL(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function kc({children:e,className:r,...s}){return h.jsx("button",{type:"button",className:Dt(["react-flow__controls-button",r]),...s,children:e})}const VL=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function MS({style:e,showZoom:r=!0,showFitView:s=!0,showInteractive:i=!0,fitViewOptions:o,onZoomIn:c,onZoomOut:u,onFitView:d,onInteractiveChange:m,className:f,children:p,position:x="bottom-left",orientation:y="vertical","aria-label":v}){const S=wt(),{isInteractive:N,minZoomReached:C,maxZoomReached:w,ariaLabelConfig:_}=We(VL,bt),{zoomIn:E,zoomOut:R,fitView:M}=tp(),T=()=>{E(),c?.()},A=()=>{R(),u?.()},z=()=>{M(o),d?.()},O=()=>{S.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),m?.(!N)},G=y==="horizontal"?"horizontal":"vertical";return h.jsxs(Mu,{className:Dt(["react-flow__controls",G,f]),position:x,style:e,"data-testid":"rf__controls","aria-label":v??_["controls.ariaLabel"],children:[r&&h.jsxs(h.Fragment,{children:[h.jsx(kc,{onClick:T,className:"react-flow__controls-zoomin",title:_["controls.zoomIn.ariaLabel"],"aria-label":_["controls.zoomIn.ariaLabel"],disabled:w,children:h.jsx(HL,{})}),h.jsx(kc,{onClick:A,className:"react-flow__controls-zoomout",title:_["controls.zoomOut.ariaLabel"],"aria-label":_["controls.zoomOut.ariaLabel"],disabled:C,children:h.jsx(qL,{})})]}),s&&h.jsx(kc,{className:"react-flow__controls-fitview",onClick:z,title:_["controls.fitView.ariaLabel"],"aria-label":_["controls.fitView.ariaLabel"],children:h.jsx(UL,{})}),i&&h.jsx(kc,{className:"react-flow__controls-interactive",onClick:O,title:_["controls.interactive.ariaLabel"],"aria-label":_["controls.interactive.ariaLabel"],children:N?h.jsx(GL,{}):h.jsx(IL,{})}),p]})}MS.displayName="Controls";const PL=j.memo(MS);function YL({id:e,x:r,y:s,width:i,height:o,style:c,color:u,strokeColor:d,strokeWidth:m,className:f,borderRadius:p,shapeRendering:x,selected:y,onClick:v}){const{background:S,backgroundColor:N}=c||{},C=u||S||N;return h.jsx("rect",{className:Dt(["react-flow__minimap-node",{selected:y},f]),x:r,y:s,rx:p,ry:p,width:i,height:o,style:{fill:C,stroke:d,strokeWidth:m},shapeRendering:x,onClick:v?w=>v(w,e):void 0})}const FL=j.memo(YL),XL=e=>e.nodes.map(r=>r.id),kh=e=>e instanceof Function?e:()=>e;function ZL({nodeStrokeColor:e,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:o,nodeComponent:c=FL,onClick:u}){const d=We(XL,bt),m=kh(r),f=kh(e),p=kh(s),x=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:d.map(y=>h.jsx(WL,{id:y,nodeColorFunc:m,nodeStrokeColorFunc:f,nodeClassNameFunc:p,nodeBorderRadius:i,nodeStrokeWidth:o,NodeComponent:c,onClick:u,shapeRendering:x},y))})}function QL({id:e,nodeColorFunc:r,nodeStrokeColorFunc:s,nodeClassNameFunc:i,nodeBorderRadius:o,nodeStrokeWidth:c,shapeRendering:u,NodeComponent:d,onClick:m}){const{node:f,x:p,y:x,width:y,height:v}=We(S=>{const{internals:N}=S.nodeLookup.get(e),C=N.userNode,{x:w,y:_}=N.positionAbsolute,{width:E,height:R}=Ur(C);return{node:C,x:w,y:_,width:E,height:R}},bt);return!f||f.hidden||!Mw(f)?null:h.jsx(d,{x:p,y:x,width:y,height:v,style:f.style,selected:!!f.selected,className:i(f),color:r(f),borderRadius:o,strokeColor:s(f),strokeWidth:c,shapeRendering:u,onClick:m,id:f.id})}const WL=j.memo(QL);var KL=j.memo(ZL);const JL=200,e6=150,t6=e=>!e.hidden,n6=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?Tw(Qo(e.nodeLookup,{filter:t6}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},r6="react-flow__minimap-desc";function RS({style:e,className:r,nodeStrokeColor:s,nodeColor:i,nodeClassName:o="",nodeBorderRadius:c=5,nodeStrokeWidth:u,nodeComponent:d,bgColor:m,maskColor:f,maskStrokeColor:p,maskStrokeWidth:x,position:y="bottom-right",onClick:v,onNodeClick:S,pannable:N=!1,zoomable:C=!1,ariaLabel:w,inversePan:_,zoomStep:E=1,offsetScale:R=5}){const M=wt(),T=j.useRef(null),{boundingRect:A,viewBB:z,rfId:O,panZoom:G,translateExtent:P,flowWidth:U,flowHeight:V,ariaLabelConfig:B}=We(n6,bt),F=e?.width??JL,L=e?.height??e6,q=A.width/F,H=A.height/L,Y=Math.max(q,H),Q=Y*F,$=Y*L,Z=R*Y,ee=A.x-(Q-A.width)/2-Z,ie=A.y-($-A.height)/2-Z,me=Q+Z*2,ye=$+Z*2,ge=`${r6}-${O}`,he=j.useRef(0),ve=j.useRef();he.current=Y,j.useEffect(()=>{if(T.current&&G)return ve.current=_5({domNode:T.current,panZoom:G,getTransform:()=>M.getState().transform,getViewScale:()=>he.current}),()=>{ve.current?.destroy()}},[G]),j.useEffect(()=>{ve.current?.update({translateExtent:P,width:U,height:V,inversePan:_,pannable:N,zoomStep:E,zoomable:C})},[N,C,_,E,P,U,V]);const ze=v?je=>{const[De,Ze]=ve.current?.pointer(je)||[0,0];v(je,{x:De,y:Ze})}:void 0,Re=S?j.useCallback((je,De)=>{const Ze=M.getState().nodeLookup.get(De).internals.userNode;S(je,Ze)},[]):void 0,Ce=w??B["minimap.ariaLabel"];return h.jsx(Mu,{position:y,style:{...e,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof x=="number"?x*Y:void 0,"--xy-minimap-node-background-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="number"?u:void 0},className:Dt(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:F,height:L,viewBox:`${ee} ${ie} ${me} ${ye}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ge,ref:T,onClick:ze,children:[Ce&&h.jsx("title",{id:ge,children:Ce}),h.jsx(KL,{onClick:Re,nodeColor:i,nodeStrokeColor:s,nodeBorderRadius:c,nodeClassName:o,nodeStrokeWidth:u,nodeComponent:d}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${ee-Z},${ie-Z}h${me+Z*2}v${ye+Z*2}h${-me-Z*2}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}RS.displayName="MiniMap";const s6=j.memo(RS),i6=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,a6={[ua.Line]:"right",[ua.Handle]:"bottom-right"};function o6({nodeId:e,position:r,variant:s=ua.Handle,className:i,style:o=void 0,children:c,color:u,minWidth:d=10,minHeight:m=10,maxWidth:f=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:x=!1,resizeDirection:y,autoScale:v=!0,shouldResize:S,onResizeStart:N,onResize:C,onResizeEnd:w}){const _=cS(),E=typeof e=="string"?e:_,R=wt(),M=j.useRef(null),T=s===ua.Handle,A=We(j.useCallback(i6(T&&v),[T,v]),bt),z=j.useRef(null),O=r??a6[s];j.useEffect(()=>{if(!(!M.current||!E))return z.current||(z.current=q5({domNode:M.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:P,transform:U,snapGrid:V,snapToGrid:B,nodeOrigin:F,domNode:L}=R.getState();return{nodeLookup:P,transform:U,snapGrid:V,snapToGrid:B,nodeOrigin:F,paneDomNode:L}},onChange:(P,U)=>{const{triggerNodeChanges:V,nodeLookup:B,parentLookup:F,nodeOrigin:L}=R.getState(),q=[],H={x:P.x,y:P.y},Y=B.get(E);if(Y&&Y.expandParent&&Y.parentId){const Q=Y.origin??L,$=P.width??Y.measured.width??0,Z=P.height??Y.measured.height??0,ee={id:Y.id,parentId:Y.parentId,rect:{width:$,height:Z,...Rw({x:P.x??Y.position.x,y:P.y??Y.position.y},{width:$,height:Z},Y.parentId,B,Q)}},ie=ep([ee],B,F,L);q.push(...ie),H.x=P.x?Math.max(Q[0]*$,P.x):void 0,H.y=P.y?Math.max(Q[1]*Z,P.y):void 0}if(H.x!==void 0&&H.y!==void 0){const Q={id:E,type:"position",position:{...H}};q.push(Q)}if(P.width!==void 0&&P.height!==void 0){const $={id:E,type:"dimensions",resizing:!0,setAttributes:y?y==="horizontal"?"width":"height":!0,dimensions:{width:P.width,height:P.height}};q.push($)}for(const Q of U){const $={...Q,type:"position"};q.push($)}V(q)},onEnd:({width:P,height:U})=>{const V={id:E,type:"dimensions",resizing:!1,dimensions:{width:P,height:U}};R.getState().triggerNodeChanges([V])}})),z.current.update({controlPosition:O,boundaries:{minWidth:d,minHeight:m,maxWidth:f,maxHeight:p},keepAspectRatio:x,resizeDirection:y,onResizeStart:N,onResize:C,onResizeEnd:w,shouldResize:S}),()=>{z.current?.destroy()}},[O,d,m,f,p,x,N,C,w,S]);const G=O.split("-");return h.jsx("div",{className:Dt(["react-flow__resize-control","nodrag",...G,s,i]),ref:M,style:{...o,scale:A,...u&&{[T?"backgroundColor":"borderColor"]:u}},children:c})}j.memo(o6);function l6({data:e,selected:r}){return h.jsxs("div",{className:`
        px-4 py-3 rounded-lg border-2 bg-white dark:bg-zinc-800
        min-w-[160px] shadow-sm
        ${r?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 dark:border-zinc-700"}
      `,children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("div",{className:"p-1.5 rounded bg-blue-100 dark:bg-blue-900/30",children:h.jsx(Hb,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),h.jsx(se.Subtext,{className:"text-muted-foreground uppercase text-[10px] tracking-wider",children:"Input"})]}),h.jsx(se.Text,{className:"font-medium block truncate",children:e.name}),(e.length||e.topology)&&h.jsxs(se.Subtext,{className:"text-muted-foreground text-xs mt-1",children:[e.topology&&h.jsx("span",{className:"capitalize",children:e.topology}),e.topology&&e.length&&"  ",e.length&&h.jsxs("span",{children:[e.length.toLocaleString()," bp"]})]}),(e.overhang5||e.overhang3)&&h.jsxs("div",{className:"flex gap-1 mt-2 flex-wrap",children:[e.overhang5&&h.jsxs("span",{className:"text-[8px] px-1 py-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded font-mono",children:["5' ",e.overhang5]}),e.overhang3&&h.jsxs("span",{className:"text-[8px] px-1 py-0.5 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded font-mono",children:["3' ",e.overhang3]})]}),h.jsx(Lr,{type:"source",position:Ae.Right,id:"output",className:"!w-3 !h-3 !bg-blue-500 !border-2 !border-white"})]})}function c6({data:e,selected:r}){const[s,i]=j.useState(!0),o=Xs(y=>y.getEnzyme),c=e.type==="digest",u=e.type==="ligate",m=(()=>{if(r)return"border-blue-500 ring-2 ring-blue-200";switch(e.validationStatus){case"invalid":return"border-red-400 dark:border-red-600";case"blocked":return"border-amber-400 dark:border-amber-600";case"unconfigured":return"border-gray-300 dark:border-zinc-600 border-dashed";default:return"border-gray-200 dark:border-zinc-700"}})(),f=c?"bg-purple-100 dark:bg-purple-900/30":"bg-green-100 dark:bg-green-900/30",p=c?"text-purple-600 dark:text-purple-400":"text-green-600 dark:text-green-400",x=(y,v)=>{y.stopPropagation(),e.onOutputClick&&e.onOutputClick(v)};return h.jsxs("div",{className:`
        relative px-4 py-3 rounded-lg border-2 bg-white dark:bg-zinc-800
        min-w-[200px] max-w-[280px] shadow-sm ${m}
      `,children:[e.inputRefs.map((y,v)=>h.jsx(Lr,{type:"target",position:Ae.Left,id:`input-${v}`,className:"!w-3 !h-3 !bg-gray-400 !border-2 !border-white",style:{top:`${30+v*24}px`}},y)),e.inputRefs.length===0&&h.jsx(Lr,{type:"target",position:Ae.Left,id:"input-0",className:"!w-3 !h-3 !bg-gray-400 !border-2 !border-white",style:{top:"50%"}}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("div",{className:`p-1.5 rounded ${f}`,children:c?h.jsx(Am,{className:`w-4 h-4 ${p}`}):h.jsx(Kj,{className:`w-4 h-4 ${p}`})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(se.Text,{className:"font-medium capitalize block",children:e.type}),h.jsxs(se.Subtext,{className:"text-muted-foreground text-[10px]",children:["Step ",e.operationIndex+1]})]}),e.isLoading&&h.jsx(At,{className:"w-4 h-4 animate-spin text-muted-foreground"})]}),c&&e.resourceIds&&e.resourceIds.length>0&&h.jsxs("div",{className:"mb-2",children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-[10px] uppercase tracking-wider mb-1",children:"Enzymes"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:e.resourceIds.map(y=>{const v=o(y);return h.jsx("span",{className:"px-2 py-0.5 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded text-xs font-medium",children:v?.name??y},y)})})]}),e.inputRefs.length>0&&h.jsxs("div",{className:"mb-2",children:[h.jsx(se.Subtext,{className:"text-muted-foreground text-[10px] uppercase tracking-wider mb-1",children:"Inputs"}),h.jsx("div",{className:"space-y-0.5",children:e.inputRefs.map(y=>h.jsx(se.Subtext,{className:"text-xs block truncate",children:y},y))})]}),e.outputs.length>0&&h.jsxs("div",{className:"mb-1",children:[h.jsxs("button",{type:"button",onClick:y=>{y.stopPropagation(),i(!s)},className:"flex items-center gap-1 w-full text-left mb-1 hover:bg-gray-50 dark:hover:bg-zinc-700/50 rounded p-0.5 -ml-0.5",children:[s?h.jsx(Vo,{className:"w-3 h-3 text-muted-foreground"}):h.jsx(Po,{className:"w-3 h-3 text-muted-foreground"}),h.jsxs(se.Subtext,{className:"text-muted-foreground text-[10px] uppercase tracking-wider",children:["Outputs (",e.outputs.length,")"]})]}),s&&h.jsx("div",{className:"space-y-1 pl-4",children:e.outputs.map(y=>h.jsx("button",{type:"button",onClick:v=>x(v,y),className:"w-full text-left p-1.5 rounded border border-transparent hover:border-gray-200 dark:hover:border-zinc-600 hover:bg-gray-50 dark:hover:bg-zinc-700/50 transition-colors",children:h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(se.Subtext,{className:"text-xs block truncate font-medium",children:y.label}),y.length&&h.jsxs(se.Subtext,{className:"text-[10px] text-muted-foreground",children:[y.length.toLocaleString()," bp"]})]}),(y.overhang5||y.overhang3)&&h.jsxs("div",{className:"flex flex-col gap-0.5 shrink-0",children:[y.overhang5&&h.jsxs("span",{className:"text-[8px] px-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded font-mono",children:["5' ",y.overhang5]}),y.overhang3&&h.jsxs("span",{className:"text-[8px] px-1 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded font-mono",children:["3' ",y.overhang3]})]})]})},y.index))})]}),e.validationStatus==="invalid"&&e.error&&h.jsxs("div",{className:"flex items-start gap-1 mt-2 text-red-600 dark:text-red-400",children:[h.jsx(Zi,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),h.jsx(se.Subtext,{className:"text-xs",children:e.error})]}),e.validationStatus==="blocked"&&e.blockedBy&&h.jsxs("div",{className:"flex items-start gap-1 mt-2 text-amber-600 dark:text-amber-400",children:[h.jsx(Zi,{className:"w-3 h-3 flex-shrink-0 mt-0.5"}),h.jsxs(se.Subtext,{className:"text-xs",children:["Blocked by"," ",e.blockedBy.map(y=>`Step ${y+1}`).join(", ")]})]}),e.validationStatus==="unconfigured"&&h.jsx("div",{className:"mt-2 text-gray-500 dark:text-gray-400",children:h.jsx(se.Subtext,{className:"text-xs italic",children:"Configure inputs to validate"})}),e.description&&h.jsx(se.Subtext,{className:"text-xs text-muted-foreground mt-2 italic truncate",children:e.description}),e.outputs.map((y,v)=>h.jsx(Lr,{type:"source",position:Ae.Right,id:`output-${v}`,className:`!w-3 !h-3 !border-2 !border-white ${c?"!bg-purple-500":u?"!bg-green-500":"!bg-gray-500"}`,style:{top:`${30+v*24}px`}},y.constructId??`output-${y.index}`)),e.outputs.length===0&&!e.error&&h.jsx(Lr,{type:"source",position:Ae.Right,id:"output-0",className:"!w-3 !h-3 !bg-gray-300 !border-2 !border-white",style:{top:"50%"}})]})}function u6({procedureId:e,inputPlasmids:r,features:s,isOpen:i,onClose:o,isSearching:c,searchError:u,searchResult:d,onStartSearch:m}){const[f,p]=j.useState([]),[x,y]=j.useState("circular"),[v,S]=j.useState(5),N=j.useMemo(()=>new lj,[]),C=j.useMemo(()=>{const A=new Map;for(const z of r)A.set(z.constructId,{id:z.id,name:z.name});return A},[r]),w=j.useMemo(()=>s.map(A=>{const z=C.get(A.construct_id);return{...A,plasmidId:z?.id??"",plasmidName:z?.name??"Unknown"}}),[s,C]),_=j.useCallback(A=>{p(z=>z.includes(A)?z.filter(O=>O!==A):[...z,A])},[]),E=j.useCallback(async()=>{if(f.length!==0)try{const A=await N.execute({procedure_id:e,target_feature_ids:f,target_topology:x,max_depth:v});m(A.search_id)}catch(A){console.error("Failed to start search:",A)}},[e,f,x,v,N,m]),R=j.useCallback(()=>{p([]),o()},[o]),M=j.useMemo(()=>{const A=new Map;for(const z of w){const O=A.get(z.plasmidId)||[];O.push(z),A.set(z.plasmidId,O)}return A},[w]),T=j.useMemo(()=>f.map(A=>w.find(z=>z.feature_id===A)).filter(A=>A!==void 0),[f,w]);return i?h.jsxs("div",{className:"absolute left-4 top-4 bottom-4 w-[380px] z-10 bg-white dark:bg-zinc-900 border border-border rounded-lg shadow-xl overflow-hidden flex flex-col animate-in slide-in-from-left-4 duration-300",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"p-1.5 rounded bg-purple-100 dark:bg-purple-900/30",children:h.jsx(So,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),h.jsx(se.Label,{className:"text-base",children:"Auto-Generate Path"})]}),h.jsx("button",{type:"button",onClick:R,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:h.jsx(tn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c?h.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(At,{className:"w-10 h-10 animate-spin text-purple-500"}),h.jsx(So,{className:"w-4 h-4 text-purple-400 absolute -top-1 -right-1 animate-pulse"})]}),h.jsxs("div",{className:"text-center space-y-1",children:[h.jsx(se.Text,{className:"text-sm font-medium",children:"Searching for cloning path..."}),h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:"Exploring possible operation sequences"})]})]}):h.jsxs(h.Fragment,{children:[T.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsx(se.Subtext,{className:"text-muted-foreground uppercase text-[10px] tracking-wider",children:"Target Feature Order"}),h.jsx("div",{className:"space-y-1 p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:T.map((A,z)=>h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-200 dark:bg-purple-800 text-purple-700 dark:text-purple-300 text-xs flex items-center justify-center font-medium",children:z+1}),h.jsx("span",{className:"flex-1 truncate",children:A.feature_name||A.feature_type}),z<T.length-1&&h.jsx(Ih,{className:"w-3 h-3 text-muted-foreground"})]},A.feature_id))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(se.Subtext,{className:"text-muted-foreground uppercase text-[10px] tracking-wider",children:"Select Features (click to add in order)"}),Array.from(M.entries()).map(([A,z])=>h.jsxs("div",{className:"space-y-1",children:[h.jsx(se.Subtext,{className:"text-xs text-muted-foreground font-medium",children:z[0]?.plasmidName||A}),h.jsx("div",{className:"space-y-1",children:z.map(O=>{const G=f.includes(O.feature_id),P=f.indexOf(O.feature_id);return h.jsxs("button",{type:"button",onClick:()=>_(O.feature_id),className:`w-full text-left px-3 py-2 rounded-lg border transition-colors flex items-center gap-2 ${G?"bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700":"bg-white dark:bg-zinc-800 border-gray-200 dark:border-zinc-700 hover:border-purple-300 dark:hover:border-purple-700"}`,children:[G&&h.jsx("span",{className:"w-5 h-5 rounded-full bg-purple-500 text-white text-xs flex items-center justify-center font-medium shrink-0",children:P+1}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(se.Text,{className:"text-sm truncate block",children:O.feature_name||O.feature_type}),h.jsxs(se.Subtext,{className:"text-xs text-muted-foreground",children:[O.feature_type," "," ",O.end-O.start," bp"]})]})]},O.feature_id)})})]},A)),w.length===0&&h.jsx("div",{className:"text-center py-4",children:h.jsx(se.Text,{className:"text-muted-foreground text-sm",children:"No features found in input plasmids"})})]}),h.jsxs("div",{className:"space-y-3 pt-2",children:[h.jsxs("div",{children:[h.jsx(se.Subtext,{className:"text-muted-foreground uppercase text-[10px] tracking-wider mb-2 block",children:"Target Topology"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",onClick:()=>y("circular"),className:`flex-1 px-3 py-2 rounded-lg border text-sm transition-colors ${x==="circular"?"bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300":"bg-white dark:bg-zinc-800 border-gray-200 dark:border-zinc-700"}`,children:"Circular"}),h.jsx("button",{type:"button",onClick:()=>y("linear"),className:`flex-1 px-3 py-2 rounded-lg border text-sm transition-colors ${x==="linear"?"bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-300":"bg-white dark:bg-zinc-800 border-gray-200 dark:border-zinc-700"}`,children:"Linear"})]})]}),h.jsxs("div",{children:[h.jsxs(se.Subtext,{className:"text-muted-foreground uppercase text-[10px] tracking-wider mb-2 block",children:["Max Operations: ",v]}),h.jsx("input",{type:"range",min:1,max:10,value:v,onChange:A=>S(Number(A.target.value)),className:"w-full accent-purple-500"})]})]})]}),u&&h.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:h.jsx(se.Text,{className:"text-sm text-red-600 dark:text-red-400",children:u})}),d?.found_solution&&h.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:h.jsxs(se.Text,{className:"text-sm text-green-600 dark:text-green-400",children:["Found path with ",d.operations_count," operations! Explored ",d.states_explored," states."]})})]}),h.jsx("div",{className:"p-4 border-t border-border",children:h.jsx(Ge,{className:"w-full",onClick:E,disabled:c||f.length===0,children:c?h.jsxs(h.Fragment,{children:[h.jsx(At,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):h.jsxs(h.Fragment,{children:[h.jsx(So,{className:"w-4 h-4 mr-2"}),"Generate Path"]})})})]}):null}function d6({constructId:e,onClose:r,onSaveToLibrary:s,onCreateDigest:i}){const[o,c]=j.useState(null),[u,d]=j.useState(!1),[m,f]=j.useState(null),p=j.useMemo(()=>new aj,[]);if(j.useEffect(()=>{if(!e){c(null);return}(async()=>{d(!0),f(null);try{const v=await p.execute({id:e});c(v)}catch(v){f(v instanceof Error?v.message:"Failed to load construct")}finally{d(!1)}})()},[e,p]),!e)return null;const x=o?.topology==="circular"?"circular":"linear";return h.jsxs("div",{className:st("absolute z-10 bg-white dark:bg-zinc-900 border border-border rounded-lg shadow-xl overflow-hidden flex flex-col animate-in duration-300",i?"inset-4 slide-in-from-bottom-4":"right-4 top-4 bottom-4 w-[400px] slide-in-from-right-4"),children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx(se.Label,{className:"text-base truncate",children:"Construct Preview"}),o&&h.jsxs(se.Subtext,{className:"text-muted-foreground truncate",children:[o.length.toLocaleString()," bp "," ",o.topology]})]}),h.jsx("button",{type:"button",onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors ml-2",children:h.jsx(tn,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),h.jsx("div",{className:"flex-1 overflow-hidden",children:u?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"flex flex-col items-center gap-3",children:[h.jsx(At,{className:"w-8 h-8 text-primary animate-spin"}),h.jsx(se.Subtext,{className:"text-muted-foreground",children:"Loading construct..."})]})}):m?h.jsx("div",{className:"flex items-center justify-center h-full p-4",children:h.jsxs("div",{className:"text-center space-y-3",children:[h.jsx(Zi,{className:"w-10 h-10 text-red-500 mx-auto"}),h.jsx(se.Text,{className:"text-red-600 dark:text-red-400",children:m})]})}):o?h.jsx("div",{className:"h-full w-full [&_.la-vz-seqblock-bp]:dark:!text-gray-300 [&_text]:dark:!fill-gray-300 [&_.la-vz-linear-text]:dark:!fill-gray-300",children:h.jsx(V1,{constructId:e,sequence:o.seq,annotations:o.features,topology:x,onCreateDigest:i,showEnzymePanel:!!i,height:"100%"})}):null}),o&&h.jsx("div",{className:"p-4 border-t border-border",children:o.plasmid_id?h.jsx(Ge,{className:"w-full",variant:"outline",asChild:!0,children:h.jsxs(mu,{to:`/library/${o.plasmid_id}`,children:[h.jsx(Vj,{className:"w-4 h-4 mr-2"}),"View in Library"]})}):s?h.jsxs(Ge,{className:"w-full",onClick:s,children:[h.jsx(Yi,{className:"w-4 h-4 mr-2"}),"Save to Library"]}):null})]})}const f6={inputPlasmid:l6,operation:c6};function h6(){const{id:e}=xm(),[r,s]=j.useState(""),[i,o]=j.useState([]),[c,u]=j.useState([]),[d,m]=j.useState([]),[f,p]=j.useState({}),[x,y]=j.useState(!0),[v,S]=j.useState(null),[N,C]=j.useState(null),[w,_]=j.useState(null),[E,R]=j.useState(null),[M,T]=j.useState(!1),[A,z]=j.useState(!1),[O,G]=j.useState(!1),[P,U]=j.useState(""),[V,B]=j.useState(""),[F,L]=j.useState(!1),[q,H]=j.useState(null),[Y,Q]=j.useState([]),[$,Z]=j.useState(!1),[ee,ie]=j.useState(""),me=Xs(oe=>oe.loadEnzymes),ye=Xs(oe=>oe.searchEnzymes),ge=Xs(oe=>oe.getEnzyme),[he,ve]=j.useState(""),ze=j.useId(),Re=j.useId(),Ce=j.useMemo(()=>new Rb,[]),je=j.useMemo(()=>new xu,[]),De=j.useMemo(()=>new jb,[]),Ze=j.useMemo(()=>new zb,[]),Qe=j.useMemo(()=>new uj,[]),St=j.useMemo(()=>new dj,[]),[Zt,It]=j.useState(!1),[Gt,gt]=j.useState(!1),[Kt,En]=j.useState(!1),[Nt,qn]=j.useState(!1),[Rt,nn]=j.useState(null),[Jt,Ir]=j.useState(null),[Ht,Jn]=j.useState(!1),[I,K]=j.useState(null),[ue,le]=j.useState(null),[pe,we]=j.useState(null),[Te,Ue]=j.useState(!1),[Ie,tt]=j.useState([]),[nt,ot]=j.useState(!1),[ft,Vt]=j.useState(!1),{subscribe:ur}=Db(),[ws,Gr,dr]=kL([]),[ya,fr,ii]=zL([]);j.useEffect(()=>{me()},[me]),j.useEffect(()=>{if(!Jt)return;const oe=ur(pb,Se=>{if(Se.search_id===Jt)if(Jn(!1),le(Se),Se.found_solution&&Se.procedure_nodes.length>0){const Ee=Se.procedure_nodes.map((be,Oe)=>({id:`op-${Date.now()}-${Oe}`,type:be.type,inputRefs:be.input_refs,resourceIds:be.resource_ids||[],description:null}));m(Ee),gt(!0),we(Se.search_id),z(!1)}else K("No valid cloning path found")}),xe=ur(gb,Se=>{Se.search_id===Jt&&(Jn(!1),K(Se.error||"Search failed"))});return()=>{oe(),xe()}},[Jt,ur]),j.useEffect(()=>{if(!e)return;(async()=>{y(!0),S(null);try{const xe=await Ce.execute({id:e});s(xe.name);const Se=xe.input_plasmids.map(Ee=>({id:Ee.id,name:Ee.name,constructId:Ee.construct_id}));if(o(Se),u(xe.features),xe.operations.length>0){const Ee=xe.operations.map((be,Oe)=>({id:`op-${Oe}`,type:be.type,inputRefs:be.input_refs,resourceIds:be.resource_ids||[],description:be.description}));m(Ee)}nn(xe.current_version_number),It(!0),gt(!1)}catch(xe){S(xe instanceof Error?xe.message:"Failed to load procedure")}finally{y(!1)}})()},[e,Ce]),j.useEffect(()=>{if(!Zt)return;if(d.length===0){p({});return}const xe=setTimeout(async()=>{qn(!0);try{const Se=d.map((Be,Qt)=>({order:Qt,type:Be.type,input_refs:Be.inputRefs,resource_ids:Be.resourceIds.length>0?Be.resourceIds:null,description:Be.description})),Ee=i.map(Be=>Be.constructId),be=await Qe.execute({operations:Se,input_construct_ids:Ee}),Oe={};for(const Be of be.operations){const Qt=d[Be.order];Qt&&(Oe[Qt.id]={status:Be.status,error:Be.error,blockedBy:Be.blocked_by,outputs:Be.outputs})}p(Oe)}catch(Se){const Ee={};for(const be of d)Ee[be.id]={status:"invalid",error:Se instanceof Error?Se.message:"Validation failed",blockedBy:null,outputs:[]};p(Ee)}finally{qn(!1)}},300);return()=>clearTimeout(xe)},[d,i,Zt,Qe]);const ai=j.useCallback(async()=>{if(!(!e||Kt)){En(!0);try{const oe=d.map((Se,Ee)=>({order:Ee,type:Se.type,input_refs:Se.inputRefs,resource_ids:Se.resourceIds.length>0?Se.resourceIds:null,description:Se.description})),xe=await Ze.execute({procedure_id:e,operations:oe,input_construct_ids:i.map(Se=>Se.constructId),search_id:pe??void 0,created_by:pe?"search":"manual_save"});nn(xe.version_number),gt(!1),we(null)}catch(oe){console.error("Save failed:",oe),S(oe instanceof Error?oe.message:"Failed to save")}finally{En(!1)}}},[e,d,i,Kt,Ze,pe]);j.useEffect(()=>{const oe=[],xe=[];i.forEach((Ee,be)=>{oe.push({id:`input-${be}`,type:"inputPlasmid",position:{x:50,y:50+be*150},data:{plasmidId:Ee.id,name:Ee.name,constructId:Ee.constructId,length:null,topology:"circular",overhang5:null,overhang3:null}})}),d.forEach((Ee,be)=>{const Oe=f[Ee.id];oe.push({id:Ee.id,type:"operation",position:{x:350+be*250,y:100},data:{operationIndex:be,type:Ee.type,inputRefs:Ee.inputRefs,resourceIds:Ee.resourceIds.length>0?Ee.resourceIds:null,description:Ee.description,outputs:(Oe?.outputs??[]).map((Be,Qt)=>({index:Qt,label:Be.label,constructId:Be.construct_id,overhang5:Be.overhang_5,overhang3:Be.overhang_3,length:Be.length})),validationStatus:Oe?.status??"unconfigured",error:Oe?.error??null,blockedBy:Oe?.blockedBy??null,isLoading:Nt,onOutputClick:Be=>{Be.constructId&&(_(Be.constructId),R(null),C(null))}}})});const Se=new Map;i.forEach((Ee,be)=>{Se.set(Ee.constructId,{nodeId:`input-${be}`,handle:"output"})}),d.forEach(Ee=>{const be=f[Ee.id];be?.outputs&&be.outputs.forEach((Oe,Be)=>{Se.set(Oe.construct_id,{nodeId:Ee.id,handle:`output-${Be}`})})}),d.forEach(Ee=>{Ee.inputRefs.forEach((be,Oe)=>{const Be=Se.get(be);Be&&xe.push({id:`edge-${Ee.id}-${Oe}`,source:Be.nodeId,sourceHandle:Be.handle,target:Ee.id,targetHandle:`input-${Oe}`,animated:!0})})}),Gr(oe),fr(xe)},[i,d,f,Nt,Gr,fr]),k1(r??null,oe=>oe);const Ss=j.useCallback(oe=>{if(!oe.source||!oe.target||!d.find(be=>be.id===oe.target))return;let Se=null;if(oe.source.startsWith("input-")){const be=parseInt(oe.source.replace("input-",""),10);be>=0&&be<i.length&&(Se=i[be].constructId)}else{const be=d.find(Oe=>Oe.id===oe.source);if(be){const Oe=f[be.id],Be=parseInt((oe.sourceHandle||"output-0").replace("output-",""),10);Oe?.outputs&&Be<Oe.outputs.length&&(Se=Oe.outputs[Be].construct_id)}}if(!Se)return;const Ee=Se;m(be=>be.map(Oe=>Oe.id===oe.target&&!Oe.inputRefs.includes(Ee)?{...Oe,inputRefs:[...Oe.inputRefs,Ee]}:Oe)),gt(!0),we(null),fr(be=>Bw(oe,be))},[d,i,f,fr]),Ns=j.useCallback(oe=>{for(const xe of oe){if(!d.find(be=>be.id===xe.target))continue;let Ee=null;if(xe.source.startsWith("input-")){const be=parseInt(xe.source.replace("input-",""),10);be>=0&&be<i.length&&(Ee=i[be].constructId)}else{const be=d.find(Oe=>Oe.id===xe.source);if(be){const Oe=f[be.id],Be=parseInt((xe.sourceHandle||"output-0").replace("output-",""),10);Oe?.outputs&&Be<Oe.outputs.length&&(Ee=Oe.outputs[Be].construct_id)}}Ee&&(m(be=>be.map(Oe=>Oe.id===xe.target?{...Oe,inputRefs:Oe.inputRefs.filter(Be=>Be!==Ee)}:Oe)),gt(!0),we(null))}},[d,i,f]),Es=oe=>{const xe={id:`op-${Date.now()}`,type:oe,inputRefs:[],resourceIds:[],description:null};m(Se=>[...Se,xe]),gt(!0),we(null)},oi=j.useCallback((oe,xe)=>{const Se={id:`op-${Date.now()}`,type:"digest",inputRefs:[xe],resourceIds:oe,description:null};m(Ee=>[...Ee,Se]),gt(!0),we(null),_(null),R(null)},[]),Cn=oe=>{m(xe=>xe.filter(Se=>Se.id!==oe)),gt(!0),we(null),N===oe&&C(null)},Et=(oe,xe)=>{m(Se=>Se.map(Ee=>Ee.id===oe?{...Ee,...xe}:Ee)),gt(!0),we(null)},qt=oe=>{const xe=Y.find(Se=>Se.id===oe);xe&&(i.some(Se=>Se.id===oe)||(o(Se=>[...Se,{id:xe.id,name:xe.name,constructId:xe.construct_id}]),gt(!0),we(null),T(!1),ie("")))};j.useEffect(()=>{Z(!0),je.execute().then(oe=>Q(oe.plasmids)).catch(oe=>console.error("Failed to load library:",oe)).finally(()=>Z(!1))},[je]);const _n=j.useMemo(()=>{const oe=new Set(i.map(xe=>xe.id));return Y.filter(xe=>oe.has(xe.id)?!1:ee?xe.name.toLowerCase().includes(ee.toLowerCase()):!0)},[Y,i,ee]),Vr=j.useCallback((oe,xe)=>{if(xe.type==="operation")C(xe.id),_(null),R(null);else if(xe.type==="inputPlasmid"){const Se=xe.data;Se.constructId&&(_(Se.constructId),R(Se.plasmidId),C(null))}},[]),li=()=>{U(r?`${r} Result`:""),B(""),H(null),G(!0)},xa=async oe=>{if(oe.preventDefault(),!!w){if(!P.trim()){H("Please enter a name");return}L(!0);try{const xe=await De.execute({construct_id:w,name:P.trim(),description:V.trim()||void 0});G(!1),R(xe.plasmid_id);const Se=await je.execute();Q(Se.plasmids)}catch(xe){H(xe instanceof Error?xe.message:"Failed to save")}finally{L(!1)}}},ci=j.useCallback(async()=>{if(e){Ue(!0),ot(!0);try{const oe=await St.execute({procedure_id:e});tt(oe.versions)}catch(oe){console.error("Failed to load versions:",oe)}finally{ot(!1)}}},[e,St]),hr=j.useCallback(async oe=>{if(!(!e||ft)){Vt(!0);try{await fetch(`/api/v0/procedures/${e}/versions/${oe.version_number}/restore`,{method:"POST",credentials:"include"});const xe=await Ce.execute({id:e}),Se=xe.input_plasmids.map(Ee=>({id:Ee.id,name:Ee.name,constructId:Ee.construct_id}));if(o(Se),xe.operations.length>0){const Ee=xe.operations.map((be,Oe)=>({id:`op-${Oe}`,type:be.type,inputRefs:be.input_refs,resourceIds:be.resource_ids||[],description:be.description}));m(Ee)}else m([]);nn(xe.current_version_number),gt(!1),we(oe.search_id),Ue(!1)}catch(xe){console.error("Failed to restore version:",xe)}finally{Vt(!1)}}},[e,ft,Ce]),Ct=d.find(oe=>oe.id===N);return e?x?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(At,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):v?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center space-y-4",children:[h.jsx(Zi,{className:"w-12 h-12 text-red-500 mx-auto"}),h.jsx(se.Text,{className:"text-red-600",children:v})]})}):h.jsxs("div",{className:"h-full w-full -m-8 flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(se.Header,{children:r}),Rt!==null&&h.jsxs("span",{className:"text-xs text-muted-foreground bg-gray-100 dark:bg-zinc-800 px-2 py-0.5 rounded",children:["v",Rt]}),Gt&&h.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[" Unsaved changes",pe&&" (from search)"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>T(!0),children:[h.jsx(Yi,{className:"w-4 h-4 mr-1"})," Add Input"]}),h.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>Es("digest"),children:[h.jsx(Yi,{className:"w-4 h-4 mr-1"})," Digest"]}),h.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>Es("ligate"),children:[h.jsx(Yi,{className:"w-4 h-4 mr-1"})," Ligate"]}),h.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-zinc-700 mx-1"}),h.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>z(!0),disabled:i.length<2,title:i.length<2?"Add at least 2 input plasmids to auto-generate":"Auto-generate cloning path",children:[h.jsx(So,{className:"w-4 h-4 mr-1"})," Auto-Generate"]}),h.jsxs(Ge,{variant:"outline",size:"sm",onClick:ci,disabled:Rt===null,title:Rt===null?"No saved versions yet":"View version history",children:[h.jsx(Zj,{className:"w-4 h-4 mr-1"})," History"]}),h.jsx("div",{className:"w-px h-6 bg-gray-200 dark:bg-zinc-700 mx-1"}),h.jsxs(Ge,{variant:"default",size:"sm",onClick:ai,disabled:!Gt||Kt,title:Gt?"Save changes":"No unsaved changes",children:[Kt?h.jsx(At,{className:"w-4 h-4 mr-1 animate-spin"}):h.jsx(oA,{className:"w-4 h-4 mr-1"}),Kt?"Saving...":"Save"]})]})]}),h.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsxs(RL,{nodes:ws,edges:ya,onNodesChange:dr,onEdgesChange:ii,onEdgesDelete:Ns,onConnect:Ss,onNodeClick:Vr,nodeTypes:f6,deleteKeyCode:["Backspace","Delete"],fitView:!0,children:[h.jsx(BL,{}),h.jsx(PL,{}),h.jsx(s6,{})]}),Ht&&h.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-sm flex items-center justify-center z-20",children:h.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-xl shadow-xl p-8 flex flex-col items-center gap-4 max-w-sm mx-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(At,{className:"w-12 h-12 animate-spin text-purple-500"}),h.jsx(So,{className:"w-5 h-5 text-purple-400 absolute -top-1 -right-1 animate-pulse"})]}),h.jsxs("div",{className:"text-center space-y-1",children:[h.jsx(se.SubHeader,{children:"Searching for cloning path..."}),h.jsxs(se.Text,{className:"text-muted-foreground text-sm",children:["Exploring possible operation sequences.",h.jsx("br",{}),"This may take a moment."]})]})]})}),ws.length===0&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:h.jsx("div",{className:"text-center space-y-4",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"Add input plasmids and operations to build your procedure"})})}),h.jsx(d6,{constructId:w,onClose:()=>{_(null),R(null)},onSaveToLibrary:li,onCreateDigest:oi},`${w}-${E}`),h.jsx(u6,{procedureId:e,inputPlasmids:i,features:c,isOpen:A,onClose:()=>z(!1),isSearching:Ht,searchError:I,searchResult:ue,onStartSearch:oe=>{Ir(oe),Jn(!0),K(null),le(null)}})]}),Ct&&h.jsxs("div",{className:"w-80 border-l border-gray-200 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-900/50 p-4 overflow-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx(se.SubHeader,{className:"capitalize",children:Ct.type}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>Cn(Ct.id),children:h.jsx(yA,{className:"w-4 h-4 text-red-500"})}),h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>C(null),children:h.jsx(tn,{className:"w-4 h-4"})})]})]}),Ct.type==="digest"&&h.jsxs("div",{className:"mb-4",children:[h.jsx(se.Text,{className:"font-medium text-sm mb-2 block",children:"Enzymes"}),Ct.resourceIds.length>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:Ct.resourceIds.map(oe=>{const xe=ge(oe);return h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded text-xs font-medium",children:[h.jsx("span",{children:xe?.name??oe}),xe&&h.jsx("span",{className:"text-purple-500 dark:text-purple-400 font-mono text-[10px]",children:xe.recognition_sequence}),h.jsx("button",{type:"button",onClick:()=>Et(Ct.id,{resourceIds:Ct.resourceIds.filter(Se=>Se!==oe)}),className:"ml-0.5 hover:text-purple-900 dark:hover:text-purple-100",children:h.jsx(tn,{className:"w-3 h-3"})})]},oe)})}),h.jsxs("div",{className:"relative",children:[h.jsx(Xn,{type:"text",placeholder:"Search enzymes...",value:he,onChange:oe=>ve(oe.target.value),className:"w-full"}),he&&h.jsxs("div",{className:"absolute z-10 w-full mt-1 max-h-48 overflow-y-auto bg-white dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 rounded-lg shadow-lg",children:[ye(he).filter(oe=>!Ct.resourceIds.includes(oe.id)).slice(0,20).map(oe=>h.jsxs("button",{type:"button",onClick:()=>{Et(Ct.id,{resourceIds:[...Ct.resourceIds,oe.id]}),ve("")},className:"w-full px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-zinc-700 flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-sm",children:oe.name}),h.jsxs("span",{className:"text-xs text-muted-foreground font-mono flex items-center gap-2",children:[h.jsx("span",{children:oe.recognition_sequence}),h.jsx("span",{className:`px-1 py-0.5 rounded text-[10px] ${oe.overhang_type==="blunt"?"bg-gray-100 dark:bg-zinc-700":oe.overhang_type==="5-prime"?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300"}`,children:oe.overhang_type==="5-prime"?"5'":oe.overhang_type==="3-prime"?"3'":"blunt"})]})]},oe.id)),ye(he).filter(oe=>!Ct.resourceIds.includes(oe.id)).length===0&&h.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No enzymes found"})]})]}),h.jsx(se.Subtext,{className:"text-muted-foreground text-xs mt-1",children:"Search by name or recognition site"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx(se.Text,{className:"font-medium text-sm mb-2 block",children:"Inputs"}),Ct.inputRefs.length===0?h.jsx(se.Subtext,{className:"text-muted-foreground",children:"Drag a connection from an input plasmid or operation output"}):h.jsx("div",{className:"space-y-1",children:Ct.inputRefs.map(oe=>h.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-zinc-800 rounded border",children:[h.jsx(se.Subtext,{children:oe}),h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>{Et(Ct.id,{inputRefs:Ct.inputRefs.filter(xe=>xe!==oe)})},children:h.jsx(tn,{className:"w-3 h-3"})})]},oe))})]}),h.jsxs("div",{children:[h.jsx(se.Text,{className:"font-medium text-sm mb-2 block",children:"Outputs"}),(()=>{const oe=f[Ct.id];if(Nt)return h.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[h.jsx(At,{className:"w-4 h-4 animate-spin"}),h.jsx(se.Subtext,{children:"Validating..."})]});if(!oe||oe.status==="unconfigured")return h.jsx(se.Subtext,{className:"text-muted-foreground",children:"Configure inputs to validate operation"});if(oe.status==="blocked"){const xe=oe.blockedBy?`Op ${oe.blockedBy.map(Se=>Se+1).join(", ")}`:"upstream operation";return h.jsxs("div",{className:"flex items-start gap-2 text-amber-600 dark:text-amber-400",children:[h.jsx(Zi,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),h.jsxs(se.Subtext,{children:["Blocked by ",xe]})]})}return oe.status==="invalid"||oe.error?h.jsxs("div",{className:"flex items-start gap-2 text-red-600 dark:text-red-400",children:[h.jsx(Zi,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),h.jsx(se.Subtext,{children:oe.error||"Validation failed"})]}):oe.outputs.length===0?h.jsx(se.Subtext,{className:"text-muted-foreground",children:"No outputs"}):h.jsx("div",{className:"space-y-2",children:oe.outputs.map(xe=>h.jsxs("button",{type:"button",onClick:()=>{_(xe.construct_id),R(null),C(null)},className:"w-full text-left p-2 rounded border border-gray-200 dark:border-zinc-700 hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",children:[h.jsx(se.Text,{className:"font-medium text-sm block",children:xe.label}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsxs(se.Subtext,{className:"text-muted-foreground",children:[xe.length.toLocaleString()," bp  ",xe.topology]}),(xe.overhang_5||xe.overhang_3)&&h.jsxs("div",{className:"flex gap-1",children:[xe.overhang_5&&h.jsxs("span",{className:"text-[8px] px-1 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded font-mono",children:["5' ",xe.overhang_5]}),xe.overhang_3&&h.jsxs("span",{className:"text-[8px] px-1 bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded font-mono",children:["3' ",xe.overhang_3]})]})]})]},xe.construct_id??xe.label))})})()]})]})]}),M&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>T(!1)}),h.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-lg border border-gray-200 dark:border-zinc-800 max-h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[h.jsx(se.SubHeader,{children:"Add Input Plasmid"}),h.jsx("button",{type:"button",onClick:()=>T(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg",children:h.jsx(tn,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"px-6 py-4 border-b",children:h.jsx(Xn,{type:"text",placeholder:"Search plasmids...",value:ee,onChange:oe=>ie(oe.target.value),className:"w-full"})}),h.jsx("div",{className:"flex-1 overflow-auto p-4",children:$?h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx(At,{className:"w-6 h-6 animate-spin"})}):_n.length===0?h.jsx("div",{className:"text-center py-8",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"No plasmids found"})}):h.jsx("div",{className:"space-y-2",children:_n.map(oe=>h.jsxs("button",{type:"button",onClick:()=>qt(oe.id),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-zinc-800/50 rounded-lg border hover:border-blue-300 text-left",children:[h.jsxs("div",{children:[h.jsx(se.Text,{className:"font-medium",children:oe.name}),h.jsxs(se.Subtext,{className:"text-muted-foreground",children:[oe.topology,"  ",oe.length," bp"]})]}),h.jsx(Yi,{className:"w-5 h-5 text-muted-foreground"})]},oe.id))})})]})]}),O&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>G(!1),disabled:F}),h.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-md border",children:[h.jsx("div",{className:"px-6 py-5 border-b",children:h.jsx("h2",{className:"text-xl font-semibold",children:"Save to Library"})}),h.jsxs("form",{onSubmit:xa,children:[h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx($r,{htmlFor:ze,children:"Plasmid Name"}),h.jsx(Xn,{id:ze,value:P,onChange:oe=>U(oe.target.value),placeholder:"e.g., pET28a-GFP",disabled:F})]}),h.jsxs("div",{children:[h.jsx($r,{htmlFor:Re,children:"Description (Optional)"}),h.jsx(Xn,{id:Re,value:V,onChange:oe=>B(oe.target.value),placeholder:"Add a description...",disabled:F})]}),q&&h.jsx("div",{className:"text-red-600 text-sm",children:q})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-zinc-800/50 border-t rounded-b-2xl flex justify-end gap-3",children:[h.jsx(Ge,{type:"button",variant:"ghost",onClick:()=>G(!1),disabled:F,children:"Cancel"}),h.jsx(Ge,{type:"submit",disabled:!P.trim()||F,children:F?"Saving...":"Save"})]})]})]})]}),Te&&h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("button",{type:"button",className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Ue(!1),disabled:ft}),h.jsxs("div",{className:"relative bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-lg border border-gray-200 dark:border-zinc-800 max-h-[80vh] flex flex-col",children:[h.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[h.jsx(se.SubHeader,{children:"Version History"}),h.jsx("button",{type:"button",onClick:()=>Ue(!1),disabled:ft,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg",children:h.jsx(tn,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"flex-1 overflow-auto p-4",children:nt?h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx(At,{className:"w-6 h-6 animate-spin"})}):Ie.length===0?h.jsx("div",{className:"text-center py-8",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"No saved versions yet"})}):h.jsx("div",{className:"space-y-2",children:Ie.map(oe=>h.jsx("div",{className:`p-4 rounded-lg border ${oe.version_number===Rt?"border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800/50"}`,children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(se.Text,{className:"font-medium",children:["v",oe.version_number]}),oe.version_number===Rt&&h.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-200 rounded",children:"Current"}),h.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${oe.created_by==="search"?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"bg-gray-100 dark:bg-zinc-700 text-gray-600 dark:text-gray-300"}`,children:oe.created_by==="search"?"Auto-generated":"Manual"})]}),h.jsxs(se.Subtext,{className:"text-muted-foreground mt-1",children:[oe.operations_count," operation",oe.operations_count!==1?"s":""," "," ",oe.input_count," input",oe.input_count!==1?"s":""]}),h.jsx(se.Subtext,{className:"text-muted-foreground text-xs",children:new Date(oe.created_at).toLocaleString()}),oe.message&&h.jsx(se.Subtext,{className:"text-muted-foreground mt-1 italic",children:oe.message})]}),oe.version_number!==Rt&&h.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>hr(oe),disabled:ft,children:[ft?h.jsx(At,{className:"w-4 h-4 animate-spin"}):h.jsx(iA,{className:"w-4 h-4 mr-1"}),"Restore"]})]})},oe.version_number))})})]})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx(se.Text,{className:"text-muted-foreground",children:"Procedure not found"})})}const m6={theme:"system",setTheme:()=>null},kS=j.createContext(m6),p6=()=>{const e=j.useContext(kS);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function g6(){const{theme:e,setTheme:r}=p6();return h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ge,{variant:"ghost",size:"md",onClick:()=>r("light"),className:`flex-1 border-0 ${e==="light"?"bg-primary text-white hover:bg-primary/90":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"Light"}),h.jsx(Ge,{variant:"ghost",size:"md",onClick:()=>r("dark"),className:`flex-1 border-0 ${e==="dark"?"bg-primary text-white hover:bg-primary/90":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"Dark"}),h.jsx(Ge,{variant:"ghost",size:"md",onClick:()=>r("system"),className:`flex-1 border-0 ${e==="system"?"bg-primary text-white hover:bg-primary/90":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:"System"})]})}function y6(){return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(se.Header,{children:"Settings"}),h.jsx(se.Text,{className:"text-muted-foreground",children:"Customize how the app looks and feels"})]}),h.jsxs("div",{className:"bg-muted/20 rounded-2xl border border-border/50 p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx(se.Label,{children:"Appearance"}),h.jsx(se.Subtext,{className:"text-muted-foreground mt-1",children:"Select your preferred color scheme"})]}),h.jsx(g6,{})]})]})}function x6({children:e,defaultTheme:r="system",storageKey:s="vite-ui-theme",...i}){const[o,c]=j.useState(r);j.useEffect(()=>{const d=localStorage.getItem(s);d&&c(d)},[s]),j.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),o==="system"){const m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(m);return}d.classList.add(o)},[o]);const u={theme:o,setTheme:d=>{localStorage.setItem(s,d),c(d)}};return h.jsx(kS.Provider,{...i,value:u,children:e})}function v6(){return h.jsx(x6,{defaultTheme:"system",children:h.jsx(f_,{children:h.jsx(Nj,{children:h.jsx(S_,{children:h.jsx(GC,{children:h.jsxs(Ln,{path:"/",element:h.jsx(oM,{}),children:[h.jsx(Ln,{index:!0,element:h.jsx(qC,{to:"/dashboard",replace:!0})}),h.jsx(Ln,{path:"chat",element:h.jsx(lM,{})}),h.jsx(Ln,{path:"chat/:id",element:h.jsx(gM,{})}),h.jsx(Ln,{path:"dashboard",element:h.jsx(yM,{})}),h.jsx(Ln,{path:"library",element:h.jsx(wM,{})}),h.jsx(Ln,{path:"library/:id",element:h.jsx(iR,{})}),h.jsx(Ln,{path:"procedures",element:h.jsx(cR,{})}),h.jsx(Ln,{path:"procedures/:id",element:h.jsx(h6,{})}),h.jsx(Ln,{path:"settings",element:h.jsx(y6,{})}),h.jsx(Ln,{path:"*",element:h.jsx(aR,{})})]})})})})})})}const Kv=document.getElementById("root");Kv&&FE.createRoot(Kv).render(h.jsx(j.StrictMode,{children:h.jsx(v6,{})}));
