<div class="space-y-6">
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-bold">My Widgets</h1>
            <p class="text-muted-foreground">{{ total_count }} widget{% if total_count != 1 %}s{% endif %}</p>
        </div>
        <a href="/app/widgets/new"
           hx-get="/app/widgets/new"
           hx-target="#main-content"
           hx-push-url="true"
           class="uk-button uk-button-primary">
            <uk-icon icon="plus" class="w-4 h-4 mr-2"></uk-icon>
            New Widget
        </a>
    </div>

    <!-- Filters -->
    <div class="uk-card uk-card-default uk-card-body">
        <form hx-get="/app/widgets"
              hx-target="#widgets-table"
              hx-push-url="true"
              hx-swap="innerHTML"
              class="flex gap-2 flex-wrap">
            <input type="text"
                   name="search"
                   value="{{ search }}"
                   placeholder="Search widgets..."
                   class="uk-input w-64" />
            <select name="status" class="uk-select w-36">
                <option value="">All Statuses</option>
                {% for s in statuses %}
                <option value="{{ s }}" {% if status == s %}selected{% endif %}>{{ s|capitalize }}</option>
                {% endfor %}
            </select>
            <button type="submit" class="uk-button uk-button-default">
                <uk-icon icon="search" class="w-4 h-4"></uk-icon>
            </button>
            {% if search or status %}
            <a href="/app/widgets"
               hx-get="/app/widgets"
               hx-target="#widgets-table"
               hx-push-url="true"
               class="uk-button uk-button-default">
                Clear
            </a>
            {% endif %}
        </form>
    </div>

    <!-- Table -->
    <div id="widgets-table">
        {% include "pages/app/widgets/table.html" %}
    </div>
</div>
